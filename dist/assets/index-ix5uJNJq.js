(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function Qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rc={exports:{}},er={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function xS(){if(Om)return er;Om=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:o,key:c,ref:a!==void 0?a:null,props:l}}return er.Fragment=e,er.jsx=i,er.jsxs=i,er}var Pm;function AS(){return Pm||(Pm=1,Rc.exports=xS()),Rc.exports}var S=AS(),Nc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function CS(){if(Lm)return ve;Lm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=E&&I[E]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function k(I,z,Q){this.props=I,this.context=z,this.refs=R,this.updater=Q||x}k.prototype.isReactComponent={},k.prototype.setState=function(I,z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,z,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function G(){}G.prototype=k.prototype;function D(I,z,Q){this.props=I,this.context=z,this.refs=R,this.updater=Q||x}var F=D.prototype=new G;F.constructor=D,C(F,k.prototype),F.isPureReactComponent=!0;var X=Array.isArray;function Y(){}var J={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function W(I,z,Q){var se=Q.ref;return{$$typeof:t,type:I,key:z,ref:se!==void 0?se:null,props:Q}}function be(I,z){return W(I.type,z,I.props)}function Pe(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function Ye(I){var z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return z[Q]})}var Me=/\/+/g;function Qe(I,z){return typeof I=="object"&&I!==null&&I.key!=null?Ye(""+I.key):z.toString(36)}function At(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Y,Y):(I.status="pending",I.then(function(z){I.status==="pending"&&(I.status="fulfilled",I.value=z)},function(z){I.status==="pending"&&(I.status="rejected",I.reason=z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function L(I,z,Q,se,ye){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var ke=!1;if(I===null)ke=!0;else switch(Ee){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(I.$$typeof){case t:case e:ke=!0;break;case v:return ke=I._init,L(ke(I._payload),z,Q,se,ye)}}if(ke)return ye=ye(I),ke=se===""?"."+Qe(I,0):se,X(ye)?(Q="",ke!=null&&(Q=ke.replace(Me,"$&/")+"/"),L(ye,z,Q,"",function(Ri){return Ri})):ye!=null&&(Pe(ye)&&(ye=be(ye,Q+(ye.key==null||I&&I.key===ye.key?"":(""+ye.key).replace(Me,"$&/")+"/")+ke)),z.push(ye)),1;ke=0;var vt=se===""?".":se+":";if(X(I))for(var Ze=0;Ze<I.length;Ze++)se=I[Ze],Ee=vt+Qe(se,Ze),ke+=L(se,z,Q,Ee,ye);else if(Ze=w(I),typeof Ze=="function")for(I=Ze.call(I),Ze=0;!(se=I.next()).done;)se=se.value,Ee=vt+Qe(se,Ze++),ke+=L(se,z,Q,Ee,ye);else if(Ee==="object"){if(typeof I.then=="function")return L(At(I),z,Q,se,ye);throw z=String(I),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function j(I,z,Q){if(I==null)return I;var se=[],ye=0;return L(I,se,"","",function(Ee){return z.call(Q,Ee,ye++)}),se}function de(I){if(I._status===-1){var z=I._result;z=z(),z.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=z)}if(I._status===1)return I._result.default;throw I._result}var Se=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ge={map:j,forEach:function(I,z,Q){j(I,function(){z.apply(this,arguments)},Q)},count:function(I){var z=0;return j(I,function(){z++}),z},toArray:function(I){return j(I,function(z){return z})||[]},only:function(I){if(!Pe(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return ve.Activity=_,ve.Children=Ge,ve.Component=k,ve.Fragment=i,ve.Profiler=a,ve.PureComponent=D,ve.StrictMode=o,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ve.__COMPILER_RUNTIME={__proto__:null,c:function(I){return J.H.useMemoCache(I)}},ve.cache=function(I){return function(){return I.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(I,z,Q){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var se=C({},I.props),ye=I.key;if(z!=null)for(Ee in z.key!==void 0&&(ye=""+z.key),z)!me.call(z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&z.ref===void 0||(se[Ee]=z[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=Q;else if(1<Ee){for(var ke=Array(Ee),vt=0;vt<Ee;vt++)ke[vt]=arguments[vt+2];se.children=ke}return W(I.type,ye,se)},ve.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},ve.createElement=function(I,z,Q){var se,ye={},Ee=null;if(z!=null)for(se in z.key!==void 0&&(Ee=""+z.key),z)me.call(z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=z[se]);var ke=arguments.length-2;if(ke===1)ye.children=Q;else if(1<ke){for(var vt=Array(ke),Ze=0;Ze<ke;Ze++)vt[Ze]=arguments[Ze+2];ye.children=vt}if(I&&I.defaultProps)for(se in ke=I.defaultProps,ke)ye[se]===void 0&&(ye[se]=ke[se]);return W(I,Ee,ye)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(I){return{$$typeof:h,render:I}},ve.isValidElement=Pe,ve.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:de}},ve.memo=function(I,z){return{$$typeof:m,type:I,compare:z===void 0?null:z}},ve.startTransition=function(I){var z=J.T,Q={};J.T=Q;try{var se=I(),ye=J.S;ye!==null&&ye(Q,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Y,Se)}catch(Ee){Se(Ee)}finally{z!==null&&Q.types!==null&&(z.types=Q.types),J.T=z}},ve.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ve.use=function(I){return J.H.use(I)},ve.useActionState=function(I,z,Q){return J.H.useActionState(I,z,Q)},ve.useCallback=function(I,z){return J.H.useCallback(I,z)},ve.useContext=function(I){return J.H.useContext(I)},ve.useDebugValue=function(){},ve.useDeferredValue=function(I,z){return J.H.useDeferredValue(I,z)},ve.useEffect=function(I,z){return J.H.useEffect(I,z)},ve.useEffectEvent=function(I){return J.H.useEffectEvent(I)},ve.useId=function(){return J.H.useId()},ve.useImperativeHandle=function(I,z,Q){return J.H.useImperativeHandle(I,z,Q)},ve.useInsertionEffect=function(I,z){return J.H.useInsertionEffect(I,z)},ve.useLayoutEffect=function(I,z){return J.H.useLayoutEffect(I,z)},ve.useMemo=function(I,z){return J.H.useMemo(I,z)},ve.useOptimistic=function(I,z){return J.H.useOptimistic(I,z)},ve.useReducer=function(I,z,Q){return J.H.useReducer(I,z,Q)},ve.useRef=function(I){return J.H.useRef(I)},ve.useState=function(I){return J.H.useState(I)},ve.useSyncExternalStore=function(I,z,Q){return J.H.useSyncExternalStore(I,z,Q)},ve.useTransition=function(){return J.H.useTransition()},ve.version="19.2.3",ve}var qm;function Ed(){return qm||(qm=1,Nc.exports=CS()),Nc.exports}var ce=Ed();const RS=Qy(ce);var Ic={exports:{}},tr={},Mc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function NS(){return Gm||(Gm=1,(function(t){function e(L,j){var de=L.length;L.push(j);e:for(;0<de;){var Se=de-1>>>1,Ge=L[Se];if(0<a(Ge,j))L[Se]=j,L[de]=Ge,de=Se;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var j=L[0],de=L.pop();if(de!==j){L[0]=de;e:for(var Se=0,Ge=L.length,I=Ge>>>1;Se<I;){var z=2*(Se+1)-1,Q=L[z],se=z+1,ye=L[se];if(0>a(Q,de))se<Ge&&0>a(ye,Q)?(L[Se]=ye,L[se]=de,Se=se):(L[Se]=Q,L[z]=de,Se=z);else if(se<Ge&&0>a(ye,de))L[Se]=ye,L[se]=de,Se=se;else break e}}return j}function a(L,j){var de=L.sortIndex-j.sortIndex;return de!==0?de:L.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],m=[],v=1,_=null,E=3,w=!1,x=!1,C=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F(L){for(var j=i(m);j!==null;){if(j.callback===null)o(m);else if(j.startTime<=L)o(m),j.sortIndex=j.expirationTime,e(g,j);else break;j=i(m)}}function X(L){if(C=!1,F(L),!x)if(i(g)!==null)x=!0,Y||(Y=!0,Ye());else{var j=i(m);j!==null&&At(X,j.startTime-L)}}var Y=!1,J=-1,me=5,W=-1;function be(){return R?!0:!(t.unstable_now()-W<me)}function Pe(){if(R=!1,Y){var L=t.unstable_now();W=L;var j=!0;try{e:{x=!1,C&&(C=!1,G(J),J=-1),w=!0;var de=E;try{t:{for(F(L),_=i(g);_!==null&&!(_.expirationTime>L&&be());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,E=_.priorityLevel;var Ge=Se(_.expirationTime<=L);if(L=t.unstable_now(),typeof Ge=="function"){_.callback=Ge,F(L),j=!0;break t}_===i(g)&&o(g),F(L)}else o(g);_=i(g)}if(_!==null)j=!0;else{var I=i(m);I!==null&&At(X,I.startTime-L),j=!1}}break e}finally{_=null,E=de,w=!1}j=void 0}}finally{j?Ye():Y=!1}}}var Ye;if(typeof D=="function")Ye=function(){D(Pe)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Qe=Me.port2;Me.port1.onmessage=Pe,Ye=function(){Qe.postMessage(null)}}else Ye=function(){k(Pe,0)};function At(L,j){J=k(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(L){switch(E){case 1:case 2:case 3:var j=3;break;default:j=E}var de=E;E=j;try{return L()}finally{E=de}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var de=E;E=L;try{return j()}finally{E=de}},t.unstable_scheduleCallback=function(L,j,de){var Se=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Se+de:Se):de=Se,L){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,L={id:v++,callback:j,priorityLevel:L,startTime:de,expirationTime:Ge,sortIndex:-1},de>Se?(L.sortIndex=de,e(m,L),i(g)===null&&L===i(m)&&(C?(G(J),J=-1):C=!0,At(X,de-Se))):(L.sortIndex=Ge,e(g,L),x||w||(x=!0,Y||(Y=!0,Ye()))),L},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(L){var j=E;return function(){var de=E;E=j;try{return L.apply(this,arguments)}finally{E=de}}}})(kc)),kc}var Hm;function IS(){return Hm||(Hm=1,Mc.exports=NS()),Mc.exports}var Dc={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function MS(){if(Vm)return Rt;Vm=1;var t=Ed();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Rt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},Rt.flushSync=function(g){var m=c.T,v=o.p;try{if(c.T=null,o.p=2,g)return g()}finally{c.T=m,o.p=v,o.d.f()}},Rt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(g,m))},Rt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Rt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?o.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):v==="script"&&o.d.X(g,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Rt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);o.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(g)},Rt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);o.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Rt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=h(m.as,m.crossOrigin);o.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(g)},Rt.requestFormReset=function(g){o.d.r(g)},Rt.unstable_batchedUpdates=function(g,m){return g(m)},Rt.useFormState=function(g,m,v){return c.H.useFormState(g,m,v)},Rt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rt.version="19.2.3",Rt}var zm;function kS(){if(zm)return Dc.exports;zm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dc.exports=MS(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function DS(){if(Bm)return tr;Bm=1;var t=IS(),e=Ed(),i=kS();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,r=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(r=s.return),n=s.return;while(n)}return s.tag===3?r:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(o(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(o(188));return s!==n?null:n}for(var r=n,u=s;;){var p=r.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===r)return g(p),n;if(y===u)return g(p),s;y=y.sibling}throw Error(o(188))}if(r.return!==u.return)r=p,u=y;else{for(var T=!1,b=p.child;b;){if(b===r){T=!0,r=p,u=y;break}if(b===u){T=!0,u=p,r=y;break}b=b.sibling}if(!T){for(b=y.child;b;){if(b===r){T=!0,r=y,u=p;break}if(b===u){T=!0,u=y,r=p;break}b=b.sibling}if(!T)throw Error(o(189))}}if(r.alternate!==u)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function Ye(n){return n===null||typeof n!="object"?null:(n=Pe&&n[Pe]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Symbol.for("react.client.reference");function Qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case k:return"Profiler";case R:return"StrictMode";case X:return"Suspense";case Y:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case D:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return s=n.displayName||null,s!==null?s:Qe(n.type)||"Memo";case me:s=n._payload,n=n._init;try{return Qe(n(s))}catch{}}return null}var At=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Se=[],Ge=-1;function I(n){return{current:n}}function z(n){0>Ge||(n.current=Se[Ge],Se[Ge]=null,Ge--)}function Q(n,s){Ge++,Se[Ge]=n.current,n.current=s}var se=I(null),ye=I(null),Ee=I(null),ke=I(null);function vt(n,s){switch(Q(Ee,s),Q(ye,n),Q(se,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?sm(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=sm(s),n=om(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}z(se),Q(se,n)}function Ze(){z(se),z(ye),z(Ee)}function Ri(n){n.memoizedState!==null&&Q(ke,n);var s=se.current,r=om(s,n.type);s!==r&&(Q(ye,n),Q(se,r))}function ts(n){ye.current===n&&(z(se),z(ye)),ke.current===n&&(z(ke),Xo._currentValue=de)}var oo,gr;function xn(n){if(oo===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);oo=s&&s[1]||"",gr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oo+n+gr}var An=!1;function ro(n,s){if(!n||An)return"";An=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(q){var P=q}Reflect.construct(n,[],B)}else{try{B.call()}catch(q){P=q}n.call(B.prototype)}}else{try{throw Error()}catch(q){P=q}(B=n())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],b=y[1];if(T&&b){var A=T.split(`
`),O=b.split(`
`);for(p=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;p<O.length&&!O[p].includes("DetermineComponentFrameRoot");)p++;if(u===A.length||p===O.length)for(u=A.length-1,p=O.length-1;1<=u&&0<=p&&A[u]!==O[p];)p--;for(;1<=u&&0<=p;u--,p--)if(A[u]!==O[p]){if(u!==1||p!==1)do if(u--,p--,0>p||A[u]!==O[p]){var H=`
`+A[u].replace(" at new "," at ");return n.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",n.displayName)),H}while(1<=u&&0<=p);break}}}finally{An=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?xn(r):""}function ml(n,s){switch(n.tag){case 26:case 27:case 5:return xn(n.type);case 16:return xn("Lazy");case 13:return n.child!==s&&s!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return ro(n.type,!1);case 11:return ro(n.type.render,!1);case 1:return ro(n.type,!0);case 31:return xn("Activity");default:return""}}function yr(n){try{var s="",r=null;do s+=ml(n,r),r=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ao=Object.prototype.hasOwnProperty,$=t.unstable_scheduleCallback,K=t.unstable_cancelCallback,ee=t.unstable_shouldYield,te=t.unstable_requestPaint,ne=t.unstable_now,qe=t.unstable_getCurrentPriorityLevel,Ne=t.unstable_ImmediatePriority,re=t.unstable_UserBlockingPriority,it=t.unstable_NormalPriority,ft=t.unstable_LowPriority,Ct=t.unstable_IdlePriority,It=t.log,Cn=t.unstable_setDisableYieldValue,Vt=null,le=null;function Qn(n){if(typeof It=="function"&&Cn(n),le&&typeof le.setStrictMode=="function")try{le.setStrictMode(Vt,n)}catch{}}var zt=Math.clz32?Math.clz32:d0,u0=Math.log,c0=Math.LN2;function d0(n){return n>>>=0,n===0?32:31-(u0(n)/c0|0)|0}var vr=256,_r=262144,Sr=4194304;function Ni(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Tr(n,s,r){var u=n.pendingLanes;if(u===0)return 0;var p=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~y,u!==0?p=Ni(u):(T&=b,T!==0?p=Ni(T):r||(r=b&~n,r!==0&&(p=Ni(r))))):(b=u&~y,b!==0?p=Ni(b):T!==0?p=Ni(T):r||(r=u&~n,r!==0&&(p=Ni(r)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,r=s&-s,y>=r||y===32&&(r&4194048)!==0)?s:p}function lo(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function f0(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qd(){var n=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),n}function gl(n){for(var s=[],r=0;31>r;r++)s.push(n);return s}function uo(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function h0(n,s,r,u,p,y){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var b=n.entanglements,A=n.expirationTimes,O=n.hiddenUpdates;for(r=T&~r;0<r;){var H=31-zt(r),B=1<<H;b[H]=0,A[H]=-1;var P=O[H];if(P!==null)for(O[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}r&=~B}u!==0&&Gd(n,u,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~s))}function Gd(n,s,r){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-zt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|r&261930}function Hd(n,s){var r=n.entangledLanes|=s;for(n=n.entanglements;r;){var u=31-zt(r),p=1<<u;p&s|n[u]&s&&(n[u]|=s),r&=~p}}function Vd(n,s){var r=s&-s;return r=(r&42)!==0?1:yl(r),(r&(n.suspendedLanes|s))!==0?0:r}function yl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zd(){var n=j.p;return n!==0?n:(n=window.event,n===void 0?32:Rm(n.type))}function Bd(n,s){var r=j.p;try{return j.p=n,s()}finally{j.p=r}}var Zn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Zn,Ut="__reactProps$"+Zn,ns="__reactContainer$"+Zn,_l="__reactEvents$"+Zn,p0="__reactListeners$"+Zn,m0="__reactHandles$"+Zn,$d="__reactResources$"+Zn,co="__reactMarker$"+Zn;function Sl(n){delete n[_t],delete n[Ut],delete n[_l],delete n[p0],delete n[m0]}function is(n){var s=n[_t];if(s)return s;for(var r=n.parentNode;r;){if(s=r[ns]||r[_t]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(n=fm(n);n!==null;){if(r=n[_t])return r;n=fm(n)}return s}n=r,r=n.parentNode}return null}function ss(n){if(n=n[_t]||n[ns]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function fo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function os(n){var s=n[$d];return s||(s=n[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function mt(n){n[co]=!0}var Fd=new Set,Jd={};function Ii(n,s){rs(n,s),rs(n+"Capture",s)}function rs(n,s){for(Jd[n]=s,n=0;n<s.length;n++)Fd.add(s[n])}var g0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yd={},Kd={};function y0(n){return ao.call(Kd,n)?!0:ao.call(Yd,n)?!1:g0.test(n)?Kd[n]=!0:(Yd[n]=!0,!1)}function Er(n,s,r){if(y0(s))if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+r)}}function br(n,s,r){if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+r)}}function Rn(n,s,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(s,r,""+u)}}function Wt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jd(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function v0(n,s,r){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){r=""+T,y.call(this,T)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Tl(n){if(!n._valueTracker){var s=jd(n)?"checked":"value";n._valueTracker=v0(n,s,""+n[s])}}function Xd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var r=s.getValue(),u="";return n&&(u=jd(n)?n.checked?"true":"false":n.value),n=u,n!==r?(s.setValue(n),!0):!1}function wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var _0=/[\n"\\]/g;function en(n){return n.replace(_0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function El(n,s,r,u,p,y,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Wt(s)):n.value!==""+Wt(s)&&(n.value=""+Wt(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?bl(n,T,Wt(s)):r!=null?bl(n,T,Wt(r)):u!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Wt(b):n.removeAttribute("name")}function Qd(n,s,r,u,p,y,T,b){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Tl(n);return}r=r!=null?""+Wt(r):"",s=s!=null?""+Wt(s):r,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Tl(n)}function bl(n,s,r){s==="number"&&wr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function as(n,s,r,u){if(n=n.options,s){s={};for(var p=0;p<r.length;p++)s["$"+r[p]]=!0;for(r=0;r<n.length;r++)p=s.hasOwnProperty("$"+n[r].value),n[r].selected!==p&&(n[r].selected=p),p&&u&&(n[r].defaultSelected=!0)}else{for(r=""+Wt(r),s=null,p=0;p<n.length;p++){if(n[p].value===r){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function Zd(n,s,r){if(s!=null&&(s=""+Wt(s),s!==n.value&&(n.value=s),r==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=r!=null?""+Wt(r):""}function Wd(n,s,r,u){if(s==null){if(u!=null){if(r!=null)throw Error(o(92));if(At(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),s=r}r=Wt(s),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u),Tl(n)}function ls(n,s){if(s){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=s;return}}n.textContent=s}var S0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ef(n,s,r){var u=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,r):typeof r!="number"||r===0||S0.has(s)?s==="float"?n.cssFloat=r:n[s]=(""+r).trim():n[s]=r+"px"}function tf(n,s,r){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&r[p]!==u&&ef(n,p,u)}else for(var y in s)s.hasOwnProperty(y)&&ef(n,y,s[y])}function wl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(n){return E0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nn(){}var xl=null;function Al(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var us=null,cs=null;function nf(n){var s=ss(n);if(s&&(n=s.stateNode)){var r=n[Ut]||null;e:switch(n=s.stateNode,s.type){case"input":if(El(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var u=r[s];if(u!==n&&u.form===n.form){var p=u[Ut]||null;if(!p)throw Error(o(90));El(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<r.length;s++)u=r[s],u.form===n.form&&Xd(u)}break e;case"textarea":Zd(n,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&as(n,!!r.multiple,s,!1)}}}var Cl=!1;function sf(n,s,r){if(Cl)return n(s,r);Cl=!0;try{var u=n(s);return u}finally{if(Cl=!1,(us!==null||cs!==null)&&(fa(),us&&(s=us,n=cs,cs=us=null,nf(s),n)))for(s=0;s<n.length;s++)nf(n[s])}}function ho(n,s){var r=n.stateNode;if(r===null)return null;var u=r[Ut]||null;if(u===null)return null;r=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(o(231,s,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=!1;if(In)try{var po={};Object.defineProperty(po,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Rl=!1}var Wn=null,Nl=null,Ar=null;function of(){if(Ar)return Ar;var n,s=Nl,r=s.length,u,p="value"in Wn?Wn.value:Wn.textContent,y=p.length;for(n=0;n<r&&s[n]===p[n];n++);var T=r-n;for(u=1;u<=T&&s[r-u]===p[y-u];u++);return Ar=p.slice(n,1<u?1-u:void 0)}function Cr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rr(){return!0}function rf(){return!1}function Ot(n){function s(r,u,p,y,T){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(r=n[b],this[b]=r?r(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Rr:rf,this.isPropagationStopped=rf,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Ot(Mi),mo=_({},Mi,{view:0,detail:0}),b0=Ot(mo),Il,Ml,go,Ir=_({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==go&&(go&&n.type==="mousemove"?(Il=n.screenX-go.screenX,Ml=n.screenY-go.screenY):Ml=Il=0,go=n),Il)},movementY:function(n){return"movementY"in n?n.movementY:Ml}}),af=Ot(Ir),w0=_({},Ir,{dataTransfer:0}),x0=Ot(w0),A0=_({},mo,{relatedTarget:0}),kl=Ot(A0),C0=_({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),R0=Ot(C0),N0=_({},Mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),I0=Ot(N0),M0=_({},Mi,{data:0}),lf=Ot(M0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=U0[n])?!!s[n]:!1}function Dl(){return O0}var P0=_({},mo,{key:function(n){if(n.key){var s=k0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Cr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?D0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(n){return n.type==="keypress"?Cr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),L0=Ot(P0),q0=_({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=Ot(q0),G0=_({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),H0=Ot(G0),V0=_({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=Ot(V0),B0=_({},Ir,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=Ot(B0),F0=_({},Mi,{newState:0,oldState:0}),J0=Ot(F0),Y0=[9,13,27,32],Ul=In&&"CompositionEvent"in window,yo=null;In&&"documentMode"in document&&(yo=document.documentMode);var K0=In&&"TextEvent"in window&&!yo,cf=In&&(!Ul||yo&&8<yo&&11>=yo),df=" ",ff=!1;function hf(n,s){switch(n){case"keyup":return Y0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ds=!1;function j0(n,s){switch(n){case"compositionend":return pf(s);case"keypress":return s.which!==32?null:(ff=!0,df);case"textInput":return n=s.data,n===df&&ff?null:n;default:return null}}function X0(n,s){if(ds)return n==="compositionend"||!Ul&&hf(n,s)?(n=of(),Ar=Nl=Wn=null,ds=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cf&&s.locale!=="ko"?null:s.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Q0[n.type]:s==="textarea"}function gf(n,s,r,u){us?cs?cs.push(u):cs=[u]:us=u,s=_a(s,"onChange"),0<s.length&&(r=new Nr("onChange","change",null,r,u),n.push({event:r,listeners:s}))}var vo=null,_o=null;function Z0(n){Zp(n,0)}function Mr(n){var s=fo(n);if(Xd(s))return n}function yf(n,s){if(n==="change")return s}var vf=!1;if(In){var Ol;if(In){var Pl="oninput"in document;if(!Pl){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),Pl=typeof _f.oninput=="function"}Ol=Pl}else Ol=!1;vf=Ol&&(!document.documentMode||9<document.documentMode)}function Sf(){vo&&(vo.detachEvent("onpropertychange",Tf),_o=vo=null)}function Tf(n){if(n.propertyName==="value"&&Mr(_o)){var s=[];gf(s,_o,n,Al(n)),sf(Z0,s)}}function W0(n,s,r){n==="focusin"?(Sf(),vo=s,_o=r,vo.attachEvent("onpropertychange",Tf)):n==="focusout"&&Sf()}function e_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mr(_o)}function t_(n,s){if(n==="click")return Mr(s)}function n_(n,s){if(n==="input"||n==="change")return Mr(s)}function i_(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Bt=typeof Object.is=="function"?Object.is:i_;function So(n,s){if(Bt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var r=Object.keys(n),u=Object.keys(s);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!ao.call(s,p)||!Bt(n[p],s[p]))return!1}return!0}function Ef(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bf(n,s){var r=Ef(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=s&&u>=s)return{node:r,offset:s-n};n=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ef(r)}}function wf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?wf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function xf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=wr(n.document);s instanceof n.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)n=s.contentWindow;else break;s=wr(n.document)}return s}function Ll(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var s_=In&&"documentMode"in document&&11>=document.documentMode,fs=null,ql=null,To=null,Gl=!1;function Af(n,s,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gl||fs==null||fs!==wr(u)||(u=fs,"selectionStart"in u&&Ll(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),To&&So(To,u)||(To=u,u=_a(ql,"onSelect"),0<u.length&&(s=new Nr("onSelect","select",null,s,r),n.push({event:s,listeners:u}),s.target=fs)))}function ki(n,s){var r={};return r[n.toLowerCase()]=s.toLowerCase(),r["Webkit"+n]="webkit"+s,r["Moz"+n]="moz"+s,r}var hs={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Hl={},Cf={};In&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Di(n){if(Hl[n])return Hl[n];if(!hs[n])return n;var s=hs[n],r;for(r in s)if(s.hasOwnProperty(r)&&r in Cf)return Hl[n]=s[r];return n}var Rf=Di("animationend"),Nf=Di("animationiteration"),If=Di("animationstart"),o_=Di("transitionrun"),r_=Di("transitionstart"),a_=Di("transitioncancel"),Mf=Di("transitionend"),kf=new Map,Vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vl.push("scrollEnd");function fn(n,s){kf.set(n,s),Ii(s,[n])}var kr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},tn=[],ps=0,zl=0;function Dr(){for(var n=ps,s=zl=ps=0;s<n;){var r=tn[s];tn[s++]=null;var u=tn[s];tn[s++]=null;var p=tn[s];tn[s++]=null;var y=tn[s];if(tn[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&Df(r,p,y)}}function Ur(n,s,r,u){tn[ps++]=n,tn[ps++]=s,tn[ps++]=r,tn[ps++]=u,zl|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Bl(n,s,r,u){return Ur(n,s,r,u),Or(n)}function Ui(n,s){return Ur(n,null,null,s),Or(n)}function Df(n,s,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var p=!1,y=n.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,p&&s!==null&&(p=31-zt(r),n=y.hiddenUpdates,u=n[p],u===null?n[p]=[s]:u.push(s),s.lane=r|536870912),y):null}function Or(n){if(50<Bo)throw Bo=0,Zu=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ms={};function l_(n,s,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(n,s,r,u){return new l_(n,s,r,u)}function $l(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mn(n,s){var r=n.alternate;return r===null?(r=$t(n.tag,s,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=s,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,s=n.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Uf(n,s){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,s=r.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Pr(n,s,r,u,p,y){var T=0;if(u=n,typeof n=="function")$l(n)&&(T=1);else if(typeof n=="string")T=hS(n,r,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=$t(31,r,s,p),n.elementType=W,n.lanes=y,n;case C:return Oi(r.children,p,y,s);case R:T=8,p|=24;break;case k:return n=$t(12,r,s,p|2),n.elementType=k,n.lanes=y,n;case X:return n=$t(13,r,s,p),n.elementType=X,n.lanes=y,n;case Y:return n=$t(19,r,s,p),n.elementType=Y,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:T=10;break e;case G:T=9;break e;case F:T=11;break e;case J:T=14;break e;case me:T=16,u=null;break e}T=29,r=Error(o(130,n===null?"null":typeof n,"")),u=null}return s=$t(T,r,s,p),s.elementType=n,s.type=u,s.lanes=y,s}function Oi(n,s,r,u){return n=$t(7,n,u,s),n.lanes=r,n}function Fl(n,s,r){return n=$t(6,n,null,s),n.lanes=r,n}function Of(n){var s=$t(18,null,null,0);return s.stateNode=n,s}function Jl(n,s,r){return s=$t(4,n.children!==null?n.children:[],n.key,s),s.lanes=r,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Pf=new WeakMap;function nn(n,s){if(typeof n=="object"&&n!==null){var r=Pf.get(n);return r!==void 0?r:(s={value:n,source:s,stack:yr(s)},Pf.set(n,s),s)}return{value:n,source:s,stack:yr(s)}}var gs=[],ys=0,Lr=null,Eo=0,sn=[],on=0,ei=null,Tn=1,En="";function kn(n,s){gs[ys++]=Eo,gs[ys++]=Lr,Lr=n,Eo=s}function Lf(n,s,r){sn[on++]=Tn,sn[on++]=En,sn[on++]=ei,ei=n;var u=Tn;n=En;var p=32-zt(u)-1;u&=~(1<<p),r+=1;var y=32-zt(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Tn=1<<32-zt(s)+p|r<<p|u,En=y+n}else Tn=1<<y|r<<p|u,En=n}function Yl(n){n.return!==null&&(kn(n,1),Lf(n,1,0))}function Kl(n){for(;n===Lr;)Lr=gs[--ys],gs[ys]=null,Eo=gs[--ys],gs[ys]=null;for(;n===ei;)ei=sn[--on],sn[on]=null,En=sn[--on],sn[on]=null,Tn=sn[--on],sn[on]=null}function qf(n,s){sn[on++]=Tn,sn[on++]=En,sn[on++]=ei,Tn=s.id,En=s.overflow,ei=n}var St=null,Ke=null,Ie=!1,ti=null,rn=!1,jl=Error(o(519));function ni(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bo(nn(s,n)),jl}function Gf(n){var s=n.stateNode,r=n.type,u=n.memoizedProps;switch(s[_t]=n,s[Ut]=u,r){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(r=0;r<Fo.length;r++)Ae(Fo[r],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":Ae("invalid",s),Qd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ae("invalid",s);break;case"textarea":Ae("invalid",s),Wd(s,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||u.suppressHydrationWarning===!0||nm(s.textContent,r)?(u.popover!=null&&(Ae("beforetoggle",s),Ae("toggle",s)),u.onScroll!=null&&Ae("scroll",s),u.onScrollEnd!=null&&Ae("scrollend",s),u.onClick!=null&&(s.onclick=Nn),s=!0):s=!1,s||ni(n,!0)}function Hf(n){for(St=n.return;St;)switch(St.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:St=St.return}}function vs(n){if(n!==St)return!1;if(!Ie)return Hf(n),Ie=!0,!1;var s=n.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||hc(n.type,n.memoizedProps)),r=!r),r&&Ke&&ni(n),Hf(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));Ke=dm(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));Ke=dm(n)}else s===27?(s=Ke,gi(n.type)?(n=vc,vc=null,Ke=n):Ke=s):Ke=St?ln(n.stateNode.nextSibling):null;return!0}function Pi(){Ke=St=null,Ie=!1}function Xl(){var n=ti;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),ti=null),n}function bo(n){ti===null?ti=[n]:ti.push(n)}var Ql=I(null),Li=null,Dn=null;function ii(n,s,r){Q(Ql,s._currentValue),s._currentValue=r}function Un(n){n._currentValue=Ql.current,z(Ql)}function Zl(n,s,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===r)break;n=n.return}}function Wl(n,s,r,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var b=y;y=p;for(var A=0;A<s.length;A++)if(b.context===s[A]){y.lanes|=r,b=y.alternate,b!==null&&(b.lanes|=r),Zl(y.return,r,n),u||(T=null);break e}y=b.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(o(341));T.lanes|=r,y=T.alternate,y!==null&&(y.lanes|=r),Zl(T,r,n),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===n){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function _s(n,s,r,u){n=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var b=p.type;Bt(p.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(p===ke.current){if(T=p.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Xo):n=[Xo])}p=p.return}n!==null&&Wl(s,n,r,u),s.flags|=262144}function qr(n){for(n=n.firstContext;n!==null;){if(!Bt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qi(n){Li=n,Dn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Tt(n){return Vf(Li,n)}function Gr(n,s){return Li===null&&qi(n),Vf(n,s)}function Vf(n,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Dn===null){if(n===null)throw Error(o(308));Dn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Dn=Dn.next=s;return r}var u_=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(r){return r()})}},c_=t.unstable_scheduleCallback,d_=t.unstable_NormalPriority,rt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eu(){return{controller:new u_,data:new Map,refCount:0}}function wo(n){n.refCount--,n.refCount===0&&c_(d_,function(){n.controller.abort()})}var xo=null,tu=0,Ss=0,Ts=null;function f_(n,s){if(xo===null){var r=xo=[];tu=0,Ss=sc(),Ts={status:"pending",value:void 0,then:function(u){r.push(u)}}}return tu++,s.then(zf,zf),s}function zf(){if(--tu===0&&xo!==null){Ts!==null&&(Ts.status="fulfilled");var n=xo;xo=null,Ss=0,Ts=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function h_(n,s){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<r.length;p++)(0,r[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var Bf=L.S;L.S=function(n,s){Ap=ne(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&f_(n,s),Bf!==null&&Bf(n,s)};var Gi=I(null);function nu(){var n=Gi.current;return n!==null?n:Fe.pooledCache}function Hr(n,s){s===null?Q(Gi,Gi.current):Q(Gi,s.pool)}function $f(){var n=nu();return n===null?null:{parent:rt._currentValue,pool:n}}var Es=Error(o(460)),iu=Error(o(474)),Vr=Error(o(542)),zr={then:function(){}};function Ff(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Jf(n,s,r){switch(r=n[r],r===void 0?n.push(s):r!==s&&(s.then(Nn,Nn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Kf(n),n;default:if(typeof s.status=="string")s.then(Nn,Nn);else{if(n=Fe,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Kf(n),n}throw Vi=s,Es}}function Hi(n){try{var s=n._init;return s(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vi=r,Es):r}}var Vi=null;function Yf(){if(Vi===null)throw Error(o(459));var n=Vi;return Vi=null,n}function Kf(n){if(n===Es||n===Vr)throw Error(o(483))}var bs=null,Ao=0;function Br(n){var s=Ao;return Ao+=1,bs===null&&(bs=[]),Jf(bs,n,s)}function Co(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function $r(n,s){throw s.$$typeof===E?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function jf(n){function s(M,N){if(n){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function r(M,N){if(!n)return null;for(;N!==null;)s(M,N),N=N.sibling;return null}function u(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function p(M,N){return M=Mn(M,N),M.index=0,M.sibling=null,M}function y(M,N,U){return M.index=U,n?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=67108866,N):U):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function T(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function b(M,N,U,V){return N===null||N.tag!==6?(N=Fl(U,M.mode,V),N.return=M,N):(N=p(N,U),N.return=M,N)}function A(M,N,U,V){var ue=U.type;return ue===C?H(M,N,U.props.children,V,U.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===me&&Hi(ue)===N.type)?(N=p(N,U.props),Co(N,U),N.return=M,N):(N=Pr(U.type,U.key,U.props,null,M.mode,V),Co(N,U),N.return=M,N)}function O(M,N,U,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Jl(U,M.mode,V),N.return=M,N):(N=p(N,U.children||[]),N.return=M,N)}function H(M,N,U,V,ue){return N===null||N.tag!==7?(N=Oi(U,M.mode,V,ue),N.return=M,N):(N=p(N,U),N.return=M,N)}function B(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Fl(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return U=Pr(N.type,N.key,N.props,null,M.mode,U),Co(U,N),U.return=M,U;case x:return N=Jl(N,M.mode,U),N.return=M,N;case me:return N=Hi(N),B(M,N,U)}if(At(N)||Ye(N))return N=Oi(N,M.mode,U,null),N.return=M,N;if(typeof N.then=="function")return B(M,Br(N),U);if(N.$$typeof===D)return B(M,Gr(M,N),U);$r(M,N)}return null}function P(M,N,U,V){var ue=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:b(M,N,""+U,V);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===ue?A(M,N,U,V):null;case x:return U.key===ue?O(M,N,U,V):null;case me:return U=Hi(U),P(M,N,U,V)}if(At(U)||Ye(U))return ue!==null?null:H(M,N,U,V,null);if(typeof U.then=="function")return P(M,N,Br(U),V);if(U.$$typeof===D)return P(M,N,Gr(M,U),V);$r(M,U)}return null}function q(M,N,U,V,ue){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(U)||null,b(N,M,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return M=M.get(V.key===null?U:V.key)||null,A(N,M,V,ue);case x:return M=M.get(V.key===null?U:V.key)||null,O(N,M,V,ue);case me:return V=Hi(V),q(M,N,U,V,ue)}if(At(V)||Ye(V))return M=M.get(U)||null,H(N,M,V,ue,null);if(typeof V.then=="function")return q(M,N,U,Br(V),ue);if(V.$$typeof===D)return q(M,N,U,Gr(N,V),ue);$r(N,V)}return null}function ie(M,N,U,V){for(var ue=null,De=null,oe=N,Te=N=0,Re=null;oe!==null&&Te<U.length;Te++){oe.index>Te?(Re=oe,oe=null):Re=oe.sibling;var Ue=P(M,oe,U[Te],V);if(Ue===null){oe===null&&(oe=Re);break}n&&oe&&Ue.alternate===null&&s(M,oe),N=y(Ue,N,Te),De===null?ue=Ue:De.sibling=Ue,De=Ue,oe=Re}if(Te===U.length)return r(M,oe),Ie&&kn(M,Te),ue;if(oe===null){for(;Te<U.length;Te++)oe=B(M,U[Te],V),oe!==null&&(N=y(oe,N,Te),De===null?ue=oe:De.sibling=oe,De=oe);return Ie&&kn(M,Te),ue}for(oe=u(oe);Te<U.length;Te++)Re=q(oe,M,Te,U[Te],V),Re!==null&&(n&&Re.alternate!==null&&oe.delete(Re.key===null?Te:Re.key),N=y(Re,N,Te),De===null?ue=Re:De.sibling=Re,De=Re);return n&&oe.forEach(function(Ti){return s(M,Ti)}),Ie&&kn(M,Te),ue}function fe(M,N,U,V){if(U==null)throw Error(o(151));for(var ue=null,De=null,oe=N,Te=N=0,Re=null,Ue=U.next();oe!==null&&!Ue.done;Te++,Ue=U.next()){oe.index>Te?(Re=oe,oe=null):Re=oe.sibling;var Ti=P(M,oe,Ue.value,V);if(Ti===null){oe===null&&(oe=Re);break}n&&oe&&Ti.alternate===null&&s(M,oe),N=y(Ti,N,Te),De===null?ue=Ti:De.sibling=Ti,De=Ti,oe=Re}if(Ue.done)return r(M,oe),Ie&&kn(M,Te),ue;if(oe===null){for(;!Ue.done;Te++,Ue=U.next())Ue=B(M,Ue.value,V),Ue!==null&&(N=y(Ue,N,Te),De===null?ue=Ue:De.sibling=Ue,De=Ue);return Ie&&kn(M,Te),ue}for(oe=u(oe);!Ue.done;Te++,Ue=U.next())Ue=q(oe,M,Te,Ue.value,V),Ue!==null&&(n&&Ue.alternate!==null&&oe.delete(Ue.key===null?Te:Ue.key),N=y(Ue,N,Te),De===null?ue=Ue:De.sibling=Ue,De=Ue);return n&&oe.forEach(function(wS){return s(M,wS)}),Ie&&kn(M,Te),ue}function $e(M,N,U,V){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var ue=U.key;N!==null;){if(N.key===ue){if(ue=U.type,ue===C){if(N.tag===7){r(M,N.sibling),V=p(N,U.props.children),V.return=M,M=V;break e}}else if(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===me&&Hi(ue)===N.type){r(M,N.sibling),V=p(N,U.props),Co(V,U),V.return=M,M=V;break e}r(M,N);break}else s(M,N);N=N.sibling}U.type===C?(V=Oi(U.props.children,M.mode,V,U.key),V.return=M,M=V):(V=Pr(U.type,U.key,U.props,null,M.mode,V),Co(V,U),V.return=M,M=V)}return T(M);case x:e:{for(ue=U.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){r(M,N.sibling),V=p(N,U.children||[]),V.return=M,M=V;break e}else{r(M,N);break}else s(M,N);N=N.sibling}V=Jl(U,M.mode,V),V.return=M,M=V}return T(M);case me:return U=Hi(U),$e(M,N,U,V)}if(At(U))return ie(M,N,U,V);if(Ye(U)){if(ue=Ye(U),typeof ue!="function")throw Error(o(150));return U=ue.call(U),fe(M,N,U,V)}if(typeof U.then=="function")return $e(M,N,Br(U),V);if(U.$$typeof===D)return $e(M,N,Gr(M,U),V);$r(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(r(M,N.sibling),V=p(N,U),V.return=M,M=V):(r(M,N),V=Fl(U,M.mode,V),V.return=M,M=V),T(M)):r(M,N)}return function(M,N,U,V){try{Ao=0;var ue=$e(M,N,U,V);return bs=null,ue}catch(oe){if(oe===Es||oe===Vr)throw oe;var De=$t(29,oe,null,M.mode);return De.lanes=V,De.return=M,De}finally{}}}var zi=jf(!0),Xf=jf(!1),si=!1;function su(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ri(n,s,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Or(n),Df(n,null,r),s}return Ur(n,u,s,r),Or(n)}function Ro(n,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,r|=u,s.lanes=r,Hd(n,r)}}function ru(n,s){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,r=r.next}while(r!==null);y===null?p=y=s:y=y.next=s}else p=y=s;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=s:n.next=s,r.lastBaseUpdate=s}var au=!1;function No(){if(au){var n=Ts;if(n!==null)throw n}}function Io(n,s,r,u){au=!1;var p=n.updateQueue;si=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var A=b,O=A.next;A.next=null,T===null?y=O:T.next=O,T=A;var H=n.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==T&&(b===null?H.firstBaseUpdate=O:b.next=O,H.lastBaseUpdate=A))}if(y!==null){var B=p.baseState;T=0,H=O=A=null,b=y;do{var P=b.lane&-536870913,q=P!==b.lane;if(q?(Ce&P)===P:(u&P)===P){P!==0&&P===Ss&&(au=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ie=n,fe=b;P=s;var $e=r;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){B=ie.call($e,B,P);break e}B=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,P=typeof ie=="function"?ie.call($e,B,P):ie,P==null)break e;B=_({},B,P);break e;case 2:si=!0}}P=b.callback,P!==null&&(n.flags|=64,q&&(n.flags|=8192),q=p.callbacks,q===null?p.callbacks=[P]:q.push(P))}else q={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(O=H=q,A=B):H=H.next=q,T|=P;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;q=b,b=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);H===null&&(A=B),p.baseState=A,p.firstBaseUpdate=O,p.lastBaseUpdate=H,y===null&&(p.shared.lanes=0),di|=T,n.lanes=T,n.memoizedState=B}}function Qf(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function Zf(n,s){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Qf(r[n],s)}var ws=I(null),Fr=I(0);function Wf(n,s){n=Bn,Q(Fr,n),Q(ws,s),Bn=n|s.baseLanes}function lu(){Q(Fr,Bn),Q(ws,ws.current)}function uu(){Bn=Fr.current,z(ws),z(Fr)}var Ft=I(null),an=null;function ai(n){var s=n.alternate;Q(st,st.current&1),Q(Ft,n),an===null&&(s===null||ws.current!==null||s.memoizedState!==null)&&(an=n)}function cu(n){Q(st,st.current),Q(Ft,n),an===null&&(an=n)}function eh(n){n.tag===22?(Q(st,st.current),Q(Ft,n),an===null&&(an=n)):li()}function li(){Q(st,st.current),Q(Ft,Ft.current)}function Jt(n){z(Ft),an===n&&(an=null),z(st)}var st=I(0);function Jr(n){for(var s=n;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gc(r)||yc(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var On=0,_e=null,ze=null,at=null,Yr=!1,xs=!1,Bi=!1,Kr=0,Mo=0,As=null,p_=0;function et(){throw Error(o(321))}function du(n,s){if(s===null)return!1;for(var r=0;r<s.length&&r<n.length;r++)if(!Bt(n[r],s[r]))return!1;return!0}function fu(n,s,r,u,p,y){return On=y,_e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?Lh:Cu,Bi=!1,y=r(u,p),Bi=!1,xs&&(y=nh(s,r,u,p)),th(n),y}function th(n){L.H=Uo;var s=ze!==null&&ze.next!==null;if(On=0,at=ze=_e=null,Yr=!1,Mo=0,As=null,s)throw Error(o(300));n===null||lt||(n=n.dependencies,n!==null&&qr(n)&&(lt=!0))}function nh(n,s,r,u){_e=n;var p=0;do{if(xs&&(As=null),Mo=0,xs=!1,25<=p)throw Error(o(301));if(p+=1,at=ze=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=qh,y=s(r,u)}while(xs);return y}function m_(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?ko(s):s,n=n.useState()[0],(ze!==null?ze.memoizedState:null)!==n&&(_e.flags|=1024),s}function hu(){var n=Kr!==0;return Kr=0,n}function pu(n,s,r){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~r}function mu(n){if(Yr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yr=!1}On=0,at=ze=_e=null,xs=!1,Mo=Kr=0,As=null}function Mt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?_e.memoizedState=at=n:at=at.next=n,at}function ot(){if(ze===null){var n=_e.alternate;n=n!==null?n.memoizedState:null}else n=ze.next;var s=at===null?_e.memoizedState:at.next;if(s!==null)at=s,ze=n;else{if(n===null)throw _e.alternate===null?Error(o(467)):Error(o(310));ze=n,n={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},at===null?_e.memoizedState=at=n:at=at.next=n}return at}function jr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(n){var s=Mo;return Mo+=1,As===null&&(As=[]),n=Jf(As,n,s),s=_e,(at===null?s.memoizedState:at.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Lh:Cu),n}function Xr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ko(n);if(n.$$typeof===D)return Tt(n)}throw Error(o(438,String(n)))}function gu(n){var s=null,r=_e.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var u=_e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=jr(),_e.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(n),u=0;u<n;u++)r[u]=be;return s.index++,r}function Pn(n,s){return typeof s=="function"?s(n):s}function Qr(n){var s=ot();return yu(s,ze,n)}function yu(n,s,r){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=r;var p=n.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{s=p.next;var b=T=null,A=null,O=s,H=!1;do{var B=O.lane&-536870913;if(B!==O.lane?(Ce&B)===B:(On&B)===B){var P=O.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),B===Ss&&(H=!0);else if((On&P)===P){O=O.next,P===Ss&&(H=!0);continue}else B={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},A===null?(b=A=B,T=y):A=A.next=B,_e.lanes|=P,di|=P;B=O.action,Bi&&r(y,B),y=O.hasEagerState?O.eagerState:r(y,B)}else P={lane:B,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},A===null?(b=A=P,T=y):A=A.next=P,_e.lanes|=B,di|=B;O=O.next}while(O!==null&&O!==s);if(A===null?T=y:A.next=b,!Bt(y,n.memoizedState)&&(lt=!0,H&&(r=Ts,r!==null)))throw r;n.memoizedState=y,n.baseState=T,n.baseQueue=A,u.lastRenderedState=y}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vu(n){var s=ot(),r=s.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=n;var u=r.dispatch,p=r.pending,y=s.memoizedState;if(p!==null){r.pending=null;var T=p=p.next;do y=n(y,T.action),T=T.next;while(T!==p);Bt(y,s.memoizedState)||(lt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),r.lastRenderedState=y}return[y,u]}function ih(n,s,r){var u=_e,p=ot(),y=Ie;if(y){if(r===void 0)throw Error(o(407));r=r()}else r=s();var T=!Bt((ze||p).memoizedState,r);if(T&&(p.memoizedState=r,lt=!0),p=p.queue,Tu(rh.bind(null,u,p,n),[n]),p.getSnapshot!==s||T||at!==null&&at.memoizedState.tag&1){if(u.flags|=2048,Cs(9,{destroy:void 0},oh.bind(null,u,p,r,s),null),Fe===null)throw Error(o(349));y||(On&127)!==0||sh(u,s,r)}return r}function sh(n,s,r){n.flags|=16384,n={getSnapshot:s,value:r},s=_e.updateQueue,s===null?(s=jr(),_e.updateQueue=s,s.stores=[n]):(r=s.stores,r===null?s.stores=[n]:r.push(n))}function oh(n,s,r,u){s.value=r,s.getSnapshot=u,ah(s)&&lh(n)}function rh(n,s,r){return r(function(){ah(s)&&lh(n)})}function ah(n){var s=n.getSnapshot;n=n.value;try{var r=s();return!Bt(n,r)}catch{return!0}}function lh(n){var s=Ui(n,2);s!==null&&Ht(s,n,2)}function _u(n){var s=Mt();if(typeof n=="function"){var r=n;if(n=r(),Bi){Qn(!0);try{r()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},s}function uh(n,s,r,u){return n.baseState=r,yu(n,ze,typeof u=="function"?u:Pn)}function g_(n,s,r,u,p){if(ea(n))throw Error(o(485));if(n=s.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};L.T!==null?r(!0):y.isTransition=!1,u(y),r=s.pending,r===null?(y.next=s.pending=y,ch(s,y)):(y.next=r.next,s.pending=r.next=y)}}function ch(n,s){var r=s.action,u=s.payload,p=n.state;if(s.isTransition){var y=L.T,T={};L.T=T;try{var b=r(p,u),A=L.S;A!==null&&A(T,b),dh(n,s,b)}catch(O){Su(n,s,O)}finally{y!==null&&T.types!==null&&(y.types=T.types),L.T=y}}else try{y=r(p,u),dh(n,s,y)}catch(O){Su(n,s,O)}}function dh(n,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){fh(n,s,u)},function(u){return Su(n,s,u)}):fh(n,s,r)}function fh(n,s,r){s.status="fulfilled",s.value=r,hh(s),n.state=r,s=n.pending,s!==null&&(r=s.next,r===s?n.pending=null:(r=r.next,s.next=r,ch(n,r)))}function Su(n,s,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=r,hh(s),s=s.next;while(s!==u)}n.action=null}function hh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function ph(n,s){return s}function mh(n,s){if(Ie){var r=Fe.formState;if(r!==null){e:{var u=_e;if(Ie){if(Ke){t:{for(var p=Ke,y=rn;p.nodeType!==8;){if(!y){p=null;break t}if(p=ln(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ke=ln(p.nextSibling),u=p.data==="F!";break e}}ni(u)}u=!1}u&&(s=r[0])}}return r=Mt(),r.memoizedState=r.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ph,lastRenderedState:s},r.queue=u,r=Uh.bind(null,_e,u),u.dispatch=r,u=_u(!1),y=Au.bind(null,_e,!1,u.queue),u=Mt(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,r=g_.bind(null,_e,p,y,r),p.dispatch=r,u.memoizedState=n,[s,r,!1]}function gh(n){var s=ot();return yh(s,ze,n)}function yh(n,s,r){if(s=yu(n,s,ph)[0],n=Qr(Pn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ko(s)}catch(T){throw T===Es?Vr:T}else u=s;s=ot();var p=s.queue,y=p.dispatch;return r!==s.memoizedState&&(_e.flags|=2048,Cs(9,{destroy:void 0},y_.bind(null,p,r),null)),[u,y,n]}function y_(n,s){n.action=s}function vh(n){var s=ot(),r=ze;if(r!==null)return yh(s,r,n);ot(),s=s.memoizedState,r=ot();var u=r.queue.dispatch;return r.memoizedState=n,[s,u,!1]}function Cs(n,s,r,u){return n={tag:n,create:r,deps:u,inst:s,next:null},s=_e.updateQueue,s===null&&(s=jr(),_e.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,s.lastEffect=n),n}function _h(){return ot().memoizedState}function Zr(n,s,r,u){var p=Mt();_e.flags|=n,p.memoizedState=Cs(1|s,{destroy:void 0},r,u===void 0?null:u)}function Wr(n,s,r,u){var p=ot();u=u===void 0?null:u;var y=p.memoizedState.inst;ze!==null&&u!==null&&du(u,ze.memoizedState.deps)?p.memoizedState=Cs(s,y,r,u):(_e.flags|=n,p.memoizedState=Cs(1|s,y,r,u))}function Sh(n,s){Zr(8390656,8,n,s)}function Tu(n,s){Wr(2048,8,n,s)}function v_(n){_e.flags|=4;var s=_e.updateQueue;if(s===null)s=jr(),_e.updateQueue=s,s.events=[n];else{var r=s.events;r===null?s.events=[n]:r.push(n)}}function Th(n){var s=ot().memoizedState;return v_({ref:s,nextImpl:n}),function(){if((Le&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Eh(n,s){return Wr(4,2,n,s)}function bh(n,s){return Wr(4,4,n,s)}function wh(n,s){if(typeof s=="function"){n=n();var r=s(n);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function xh(n,s,r){r=r!=null?r.concat([n]):null,Wr(4,4,wh.bind(null,s,n),r)}function Eu(){}function Ah(n,s){var r=ot();s=s===void 0?null:s;var u=r.memoizedState;return s!==null&&du(s,u[1])?u[0]:(r.memoizedState=[n,s],n)}function Ch(n,s){var r=ot();s=s===void 0?null:s;var u=r.memoizedState;if(s!==null&&du(s,u[1]))return u[0];if(u=n(),Bi){Qn(!0);try{n()}finally{Qn(!1)}}return r.memoizedState=[u,s],u}function bu(n,s,r){return r===void 0||(On&1073741824)!==0&&(Ce&261930)===0?n.memoizedState=s:(n.memoizedState=r,n=Rp(),_e.lanes|=n,di|=n,r)}function Rh(n,s,r,u){return Bt(r,s)?r:ws.current!==null?(n=bu(n,r,u),Bt(n,s)||(lt=!0),n):(On&42)===0||(On&1073741824)!==0&&(Ce&261930)===0?(lt=!0,n.memoizedState=r):(n=Rp(),_e.lanes|=n,di|=n,s)}function Nh(n,s,r,u,p){var y=j.p;j.p=y!==0&&8>y?y:8;var T=L.T,b={};L.T=b,Au(n,!1,s,r);try{var A=p(),O=L.S;if(O!==null&&O(b,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=h_(A,u);Do(n,s,H,jt(n))}else Do(n,s,u,jt(n))}catch(B){Do(n,s,{then:function(){},status:"rejected",reason:B},jt())}finally{j.p=y,T!==null&&b.types!==null&&(T.types=b.types),L.T=T}}function __(){}function wu(n,s,r,u){if(n.tag!==5)throw Error(o(476));var p=Ih(n).queue;Nh(n,p,s,de,r===null?__:function(){return Mh(n),r(u)})}function Ih(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:de},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:r},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Mh(n){var s=Ih(n);s.next===null&&(s=n.alternate.memoizedState),Do(n,s.next.queue,{},jt())}function xu(){return Tt(Xo)}function kh(){return ot().memoizedState}function Dh(){return ot().memoizedState}function S_(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var r=jt();n=oi(r);var u=ri(s,n,r);u!==null&&(Ht(u,s,r),Ro(u,s,r)),s={cache:eu()},n.payload=s;return}s=s.return}}function T_(n,s,r){var u=jt();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ea(n)?Oh(s,r):(r=Bl(n,s,r,u),r!==null&&(Ht(r,n,u),Ph(r,s,u)))}function Uh(n,s,r){var u=jt();Do(n,s,r,u)}function Do(n,s,r,u){var p={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ea(n))Oh(s,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,b=y(T,r);if(p.hasEagerState=!0,p.eagerState=b,Bt(b,T))return Ur(n,s,p,0),Fe===null&&Dr(),!1}catch{}finally{}if(r=Bl(n,s,p,u),r!==null)return Ht(r,n,u),Ph(r,s,u),!0}return!1}function Au(n,s,r,u){if(u={lane:2,revertLane:sc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ea(n)){if(s)throw Error(o(479))}else s=Bl(n,r,u,2),s!==null&&Ht(s,n,2)}function ea(n){var s=n.alternate;return n===_e||s!==null&&s===_e}function Oh(n,s){xs=Yr=!0;var r=n.pending;r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s}function Ph(n,s,r){if((r&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,r|=u,s.lanes=r,Hd(n,r)}}var Uo={readContext:Tt,use:Xr,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Uo.useEffectEvent=et;var Lh={readContext:Tt,use:Xr,useCallback:function(n,s){return Mt().memoizedState=[n,s===void 0?null:s],n},useContext:Tt,useEffect:Sh,useImperativeHandle:function(n,s,r){r=r!=null?r.concat([n]):null,Zr(4194308,4,wh.bind(null,s,n),r)},useLayoutEffect:function(n,s){return Zr(4194308,4,n,s)},useInsertionEffect:function(n,s){Zr(4,2,n,s)},useMemo:function(n,s){var r=Mt();s=s===void 0?null:s;var u=n();if(Bi){Qn(!0);try{n()}finally{Qn(!1)}}return r.memoizedState=[u,s],u},useReducer:function(n,s,r){var u=Mt();if(r!==void 0){var p=r(s);if(Bi){Qn(!0);try{r(s)}finally{Qn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=T_.bind(null,_e,n),[u.memoizedState,n]},useRef:function(n){var s=Mt();return n={current:n},s.memoizedState=n},useState:function(n){n=_u(n);var s=n.queue,r=Uh.bind(null,_e,s);return s.dispatch=r,[n.memoizedState,r]},useDebugValue:Eu,useDeferredValue:function(n,s){var r=Mt();return bu(r,n,s)},useTransition:function(){var n=_u(!1);return n=Nh.bind(null,_e,n.queue,!0,!1),Mt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,r){var u=_e,p=Mt();if(Ie){if(r===void 0)throw Error(o(407));r=r()}else{if(r=s(),Fe===null)throw Error(o(349));(Ce&127)!==0||sh(u,s,r)}p.memoizedState=r;var y={value:r,getSnapshot:s};return p.queue=y,Sh(rh.bind(null,u,y,n),[n]),u.flags|=2048,Cs(9,{destroy:void 0},oh.bind(null,u,y,r,s),null),r},useId:function(){var n=Mt(),s=Fe.identifierPrefix;if(Ie){var r=En,u=Tn;r=(u&~(1<<32-zt(u)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Kr++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=p_++,s="_"+s+"r_"+r.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:xu,useFormState:mh,useActionState:mh,useOptimistic:function(n){var s=Mt();s.memoizedState=s.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Au.bind(null,_e,!0,r),r.dispatch=s,[n,s]},useMemoCache:gu,useCacheRefresh:function(){return Mt().memoizedState=S_.bind(null,_e)},useEffectEvent:function(n){var s=Mt(),r={impl:n};return s.memoizedState=r,function(){if((Le&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},Cu={readContext:Tt,use:Xr,useCallback:Ah,useContext:Tt,useEffect:Tu,useImperativeHandle:xh,useInsertionEffect:Eh,useLayoutEffect:bh,useMemo:Ch,useReducer:Qr,useRef:_h,useState:function(){return Qr(Pn)},useDebugValue:Eu,useDeferredValue:function(n,s){var r=ot();return Rh(r,ze.memoizedState,n,s)},useTransition:function(){var n=Qr(Pn)[0],s=ot().memoizedState;return[typeof n=="boolean"?n:ko(n),s]},useSyncExternalStore:ih,useId:kh,useHostTransitionStatus:xu,useFormState:gh,useActionState:gh,useOptimistic:function(n,s){var r=ot();return uh(r,ze,n,s)},useMemoCache:gu,useCacheRefresh:Dh};Cu.useEffectEvent=Th;var qh={readContext:Tt,use:Xr,useCallback:Ah,useContext:Tt,useEffect:Tu,useImperativeHandle:xh,useInsertionEffect:Eh,useLayoutEffect:bh,useMemo:Ch,useReducer:vu,useRef:_h,useState:function(){return vu(Pn)},useDebugValue:Eu,useDeferredValue:function(n,s){var r=ot();return ze===null?bu(r,n,s):Rh(r,ze.memoizedState,n,s)},useTransition:function(){var n=vu(Pn)[0],s=ot().memoizedState;return[typeof n=="boolean"?n:ko(n),s]},useSyncExternalStore:ih,useId:kh,useHostTransitionStatus:xu,useFormState:vh,useActionState:vh,useOptimistic:function(n,s){var r=ot();return ze!==null?uh(r,ze,n,s):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:gu,useCacheRefresh:Dh};qh.useEffectEvent=Th;function Ru(n,s,r,u){s=n.memoizedState,r=r(u,s),r=r==null?s:_({},s,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Nu={enqueueSetState:function(n,s,r){n=n._reactInternals;var u=jt(),p=oi(u);p.payload=s,r!=null&&(p.callback=r),s=ri(n,p,u),s!==null&&(Ht(s,n,u),Ro(s,n,u))},enqueueReplaceState:function(n,s,r){n=n._reactInternals;var u=jt(),p=oi(u);p.tag=1,p.payload=s,r!=null&&(p.callback=r),s=ri(n,p,u),s!==null&&(Ht(s,n,u),Ro(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var r=jt(),u=oi(r);u.tag=2,s!=null&&(u.callback=s),s=ri(n,u,r),s!==null&&(Ht(s,n,r),Ro(s,n,r))}};function Gh(n,s,r,u,p,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!So(r,u)||!So(p,y):!0}function Hh(n,s,r,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,u),s.state!==n&&Nu.enqueueReplaceState(s,s.state,null)}function $i(n,s){var r=s;if("ref"in s){r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}if(n=n.defaultProps){r===s&&(r=_({},r));for(var p in n)r[p]===void 0&&(r[p]=n[p])}return r}function Vh(n){kr(n)}function zh(n){console.error(n)}function Bh(n){kr(n)}function ta(n,s){try{var r=n.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function $h(n,s,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Iu(n,s,r){return r=oi(r),r.tag=3,r.payload={element:null},r.callback=function(){ta(n,s)},r}function Fh(n){return n=oi(n),n.tag=3,n}function Jh(n,s,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;n.payload=function(){return p(y)},n.callback=function(){$h(s,r,u)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){$h(s,r,u),typeof p!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function E_(n,s,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=r.alternate,s!==null&&_s(s,r,p,!0),r=Ft.current,r!==null){switch(r.tag){case 31:case 13:return an===null?ha():r.alternate===null&&tt===0&&(tt=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===zr?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([u]):s.add(u),tc(n,u,p)),!1;case 22:return r.flags|=65536,u===zr?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([u]):r.add(u)),tc(n,u,p)),!1}throw Error(o(435,r.tag))}return tc(n,u,p),ha(),!1}if(Ie)return s=Ft.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==jl&&(n=Error(o(422),{cause:u}),bo(nn(n,r)))):(u!==jl&&(s=Error(o(423),{cause:u}),bo(nn(s,r))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=nn(u,r),p=Iu(n.stateNode,u,p),ru(n,p),tt!==4&&(tt=2)),!1;var y=Error(o(520),{cause:u});if(y=nn(y,r),zo===null?zo=[y]:zo.push(y),tt!==4&&(tt=2),s===null)return!0;u=nn(u,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,n=p&-p,r.lanes|=n,n=Iu(r.stateNode,u,n),ru(r,n),!1;case 1:if(s=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fi===null||!fi.has(y))))return r.flags|=65536,p&=-p,r.lanes|=p,p=Fh(p),Jh(p,n,r,u),ru(r,p),!1}r=r.return}while(r!==null);return!1}var Mu=Error(o(461)),lt=!1;function Et(n,s,r,u){s.child=n===null?Xf(s,null,r,u):zi(s,n.child,r,u)}function Yh(n,s,r,u,p){r=r.render;var y=s.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return qi(s),u=fu(n,s,r,T,y,p),b=hu(),n!==null&&!lt?(pu(n,s,p),Ln(n,s,p)):(Ie&&b&&Yl(s),s.flags|=1,Et(n,s,u,p),s.child)}function Kh(n,s,r,u,p){if(n===null){var y=r.type;return typeof y=="function"&&!$l(y)&&y.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=y,jh(n,s,y,u,p)):(n=Pr(r.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Gu(n,p)){var T=y.memoizedProps;if(r=r.compare,r=r!==null?r:So,r(T,u)&&n.ref===s.ref)return Ln(n,s,p)}return s.flags|=1,n=Mn(y,u),n.ref=s.ref,n.return=s,s.child=n}function jh(n,s,r,u,p){if(n!==null){var y=n.memoizedProps;if(So(y,u)&&n.ref===s.ref)if(lt=!1,s.pendingProps=u=y,Gu(n,p))(n.flags&131072)!==0&&(lt=!0);else return s.lanes=n.lanes,Ln(n,s,p)}return ku(n,s,r,u,p)}function Xh(n,s,r,u){var p=u.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,n!==null){for(u=s.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return Qh(n,s,y,r,u)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Hr(s,y!==null?y.cachePool:null),y!==null?Wf(s,y):lu(),eh(s);else return u=s.lanes=536870912,Qh(n,s,y!==null?y.baseLanes|r:r,r,u)}else y!==null?(Hr(s,y.cachePool),Wf(s,y),li(),s.memoizedState=null):(n!==null&&Hr(s,null),lu(),li());return Et(n,s,p,r),s.child}function Oo(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Qh(n,s,r,u,p){var y=nu();return y=y===null?null:{parent:rt._currentValue,pool:y},s.memoizedState={baseLanes:r,cachePool:y},n!==null&&Hr(s,null),lu(),eh(s),n!==null&&_s(n,s,u,!0),s.childLanes=p,null}function na(n,s){return s=sa({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Zh(n,s,r){return zi(s,n.child,null,r),n=na(s,s.pendingProps),n.flags|=2,Jt(s),s.memoizedState=null,n}function b_(n,s,r){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ie){if(u.mode==="hidden")return n=na(s,u),s.lanes=536870912,Oo(null,n);if(cu(s),(n=Ke)?(n=cm(n,rn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ei!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},r=Of(n),r.return=s,s.child=r,St=s,Ke=null)):n=null,n===null)throw ni(s);return s.lanes=536870912,null}return na(s,u)}var y=n.memoizedState;if(y!==null){var T=y.dehydrated;if(cu(s),p)if(s.flags&256)s.flags&=-257,s=Zh(n,s,r);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(lt||_s(n,s,r,!1),p=(r&n.childLanes)!==0,lt||p){if(u=Fe,u!==null&&(T=Vd(u,r),T!==0&&T!==y.retryLane))throw y.retryLane=T,Ui(n,T),Ht(u,n,T),Mu;ha(),s=Zh(n,s,r)}else n=y.treeContext,Ke=ln(T.nextSibling),St=s,Ie=!0,ti=null,rn=!1,n!==null&&qf(s,n),s=na(s,u),s.flags|=4096;return s}return n=Mn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ia(n,s){var r=s.ref;if(r===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(n===null||n.ref!==r)&&(s.flags|=4194816)}}function ku(n,s,r,u,p){return qi(s),r=fu(n,s,r,u,void 0,p),u=hu(),n!==null&&!lt?(pu(n,s,p),Ln(n,s,p)):(Ie&&u&&Yl(s),s.flags|=1,Et(n,s,r,p),s.child)}function Wh(n,s,r,u,p,y){return qi(s),s.updateQueue=null,r=nh(s,u,r,p),th(n),u=hu(),n!==null&&!lt?(pu(n,s,y),Ln(n,s,y)):(Ie&&u&&Yl(s),s.flags|=1,Et(n,s,r,y),s.child)}function ep(n,s,r,u,p){if(qi(s),s.stateNode===null){var y=ms,T=r.contextType;typeof T=="object"&&T!==null&&(y=Tt(T)),y=new r(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Nu,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},su(s),T=r.contextType,y.context=typeof T=="object"&&T!==null?Tt(T):ms,y.state=s.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Ru(s,r,T,u),y.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Nu.enqueueReplaceState(y,y.state,null),Io(s,u,y,p),No(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var b=s.memoizedProps,A=$i(r,b);y.props=A;var O=y.context,H=r.contextType;T=ms,typeof H=="object"&&H!==null&&(T=Tt(H));var B=r.getDerivedStateFromProps;H=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b||O!==T)&&Hh(s,y,u,T),si=!1;var P=s.memoizedState;y.state=P,Io(s,u,y,p),No(),O=s.memoizedState,b||P!==O||si?(typeof B=="function"&&(Ru(s,r,B,u),O=s.memoizedState),(A=si||Gh(s,r,A,u,P,O,T))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=O),y.props=u,y.state=O,y.context=T,u=A):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,ou(n,s),T=s.memoizedProps,H=$i(r,T),y.props=H,B=s.pendingProps,P=y.context,O=r.contextType,A=ms,typeof O=="object"&&O!==null&&(A=Tt(O)),b=r.getDerivedStateFromProps,(O=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==B||P!==A)&&Hh(s,y,u,A),si=!1,P=s.memoizedState,y.state=P,Io(s,u,y,p),No();var q=s.memoizedState;T!==B||P!==q||si||n!==null&&n.dependencies!==null&&qr(n.dependencies)?(typeof b=="function"&&(Ru(s,r,b,u),q=s.memoizedState),(H=si||Gh(s,r,H,u,P,q,A)||n!==null&&n.dependencies!==null&&qr(n.dependencies))?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,q,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,q,A)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=q),y.props=u,y.state=q,y.context=A,u=H):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,ia(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=zi(s,n.child,null,p),s.child=zi(s,null,r,p)):Et(n,s,r,p),s.memoizedState=y.state,n=s.child):n=Ln(n,s,p),n}function tp(n,s,r,u){return Pi(),s.flags|=256,Et(n,s,r,u),s.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(n){return{baseLanes:n,cachePool:$f()}}function Ou(n,s,r){return n=n!==null?n.childLanes&~r:0,s&&(n|=Kt),n}function np(n,s,r){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(st.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ie){if(p?ai(s):li(),(n=Ke)?(n=cm(n,rn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ei!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},r=Of(n),r.return=s,s.child=r,St=s,Ke=null)):n=null,n===null)throw ni(s);return yc(n)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,p?(li(),p=s.mode,b=sa({mode:"hidden",children:b},p),u=Oi(u,p,r,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=Uu(r),u.childLanes=Ou(n,T,r),s.memoizedState=Du,Oo(null,u)):(ai(s),Pu(s,b))}var A=n.memoizedState;if(A!==null&&(b=A.dehydrated,b!==null)){if(y)s.flags&256?(ai(s),s.flags&=-257,s=Lu(n,s,r)):s.memoizedState!==null?(li(),s.child=n.child,s.flags|=128,s=null):(li(),b=u.fallback,p=s.mode,u=sa({mode:"visible",children:u.children},p),b=Oi(b,p,r,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,zi(s,n.child,null,r),u=s.child,u.memoizedState=Uu(r),u.childLanes=Ou(n,T,r),s.memoizedState=Du,s=Oo(null,u));else if(ai(s),yc(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var O=T.dgst;T=O,u=Error(o(419)),u.stack="",u.digest=T,bo({value:u,source:null,stack:null}),s=Lu(n,s,r)}else if(lt||_s(n,s,r,!1),T=(r&n.childLanes)!==0,lt||T){if(T=Fe,T!==null&&(u=Vd(T,r),u!==0&&u!==A.retryLane))throw A.retryLane=u,Ui(n,u),Ht(T,n,u),Mu;gc(b)||ha(),s=Lu(n,s,r)}else gc(b)?(s.flags|=192,s.child=n.child,s=null):(n=A.treeContext,Ke=ln(b.nextSibling),St=s,Ie=!0,ti=null,rn=!1,n!==null&&qf(s,n),s=Pu(s,u.children),s.flags|=4096);return s}return p?(li(),b=u.fallback,p=s.mode,A=n.child,O=A.sibling,u=Mn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,O!==null?b=Mn(O,b):(b=Oi(b,p,r,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,Oo(null,u),u=s.child,b=n.child.memoizedState,b===null?b=Uu(r):(p=b.cachePool,p!==null?(A=rt._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=$f(),b={baseLanes:b.baseLanes|r,cachePool:p}),u.memoizedState=b,u.childLanes=Ou(n,T,r),s.memoizedState=Du,Oo(n.child,u)):(ai(s),r=n.child,n=r.sibling,r=Mn(r,{mode:"visible",children:u.children}),r.return=s,r.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=r,s.memoizedState=null,r)}function Pu(n,s){return s=sa({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function sa(n,s){return n=$t(22,n,null,s),n.lanes=0,n}function Lu(n,s,r){return zi(s,n.child,null,r),n=Pu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ip(n,s,r){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Zl(n.return,s,r)}function qu(n,s,r,u,p,y){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p,treeForkCount:y}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=r,T.tailMode=p,T.treeForkCount=y)}function sp(n,s,r){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var T=st.current,b=(T&2)!==0;if(b?(T=T&1|2,s.flags|=128):T&=1,Q(st,T),Et(n,s,u,r),u=Ie?Eo:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ip(n,r,s);else if(n.tag===19)ip(n,r,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(r=s.child,p=null;r!==null;)n=r.alternate,n!==null&&Jr(n)===null&&(p=r),r=r.sibling;r=p,r===null?(p=s.child,s.child=null):(p=r.sibling,r.sibling=null),qu(s,!1,p,r,y,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Jr(n)===null){s.child=p;break}n=p.sibling,p.sibling=r,r=p,p=n}qu(s,!0,r,null,y,u);break;case"together":qu(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ln(n,s,r){if(n!==null&&(s.dependencies=n.dependencies),di|=s.lanes,(r&s.childLanes)===0)if(n!==null){if(_s(n,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,r=Mn(n,n.pendingProps),s.child=r,r.return=s;n.sibling!==null;)n=n.sibling,r=r.sibling=Mn(n,n.pendingProps),r.return=s;r.sibling=null}return s.child}function Gu(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&qr(n)))}function w_(n,s,r){switch(s.tag){case 3:vt(s,s.stateNode.containerInfo),ii(s,rt,n.memoizedState.cache),Pi();break;case 27:case 5:Ri(s);break;case 4:vt(s,s.stateNode.containerInfo);break;case 10:ii(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ai(s),s.flags|=128,null):(r&s.child.childLanes)!==0?np(n,s,r):(ai(s),n=Ln(n,s,r),n!==null?n.sibling:null);ai(s);break;case 19:var p=(n.flags&128)!==0;if(u=(r&s.childLanes)!==0,u||(_s(n,s,r,!1),u=(r&s.childLanes)!==0),p){if(u)return sp(n,s,r);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(st,st.current),u)break;return null;case 22:return s.lanes=0,Xh(n,s,r,s.pendingProps);case 24:ii(s,rt,n.memoizedState.cache)}return Ln(n,s,r)}function op(n,s,r){if(n!==null)if(n.memoizedProps!==s.pendingProps)lt=!0;else{if(!Gu(n,r)&&(s.flags&128)===0)return lt=!1,w_(n,s,r);lt=(n.flags&131072)!==0}else lt=!1,Ie&&(s.flags&1048576)!==0&&Lf(s,Eo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Hi(s.elementType),s.type=n,typeof n=="function")$l(n)?(u=$i(n,u),s.tag=1,s=ep(null,s,n,u,r)):(s.tag=0,s=ku(null,s,n,u,r));else{if(n!=null){var p=n.$$typeof;if(p===F){s.tag=11,s=Yh(null,s,n,u,r);break e}else if(p===J){s.tag=14,s=Kh(null,s,n,u,r);break e}}throw s=Qe(n)||n,Error(o(306,s,""))}}return s;case 0:return ku(n,s,s.type,s.pendingProps,r);case 1:return u=s.type,p=$i(u,s.pendingProps),ep(n,s,u,p,r);case 3:e:{if(vt(s,s.stateNode.containerInfo),n===null)throw Error(o(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,ou(n,s),Io(s,u,null,r);var T=s.memoizedState;if(u=T.cache,ii(s,rt,u),u!==y.cache&&Wl(s,[rt],r,!0),No(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=tp(n,s,u,r);break e}else if(u!==p){p=nn(Error(o(424)),s),bo(p),s=tp(n,s,u,r);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ke=ln(n.firstChild),St=s,Ie=!0,ti=null,rn=!0,r=Xf(s,null,u,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Pi(),u===p){s=Ln(n,s,r);break e}Et(n,s,u,r)}s=s.child}return s;case 26:return ia(n,s),n===null?(r=gm(s.type,null,s.pendingProps,null))?s.memoizedState=r:Ie||(r=s.type,n=s.pendingProps,u=Sa(Ee.current).createElement(r),u[_t]=s,u[Ut]=n,bt(u,r,n),mt(u),s.stateNode=u):s.memoizedState=gm(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ri(s),n===null&&Ie&&(u=s.stateNode=hm(s.type,s.pendingProps,Ee.current),St=s,rn=!0,p=Ke,gi(s.type)?(vc=p,Ke=ln(u.firstChild)):Ke=p),Et(n,s,s.pendingProps.children,r),ia(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ie&&((p=u=Ke)&&(u=eS(u,s.type,s.pendingProps,rn),u!==null?(s.stateNode=u,St=s,Ke=ln(u.firstChild),rn=!1,p=!0):p=!1),p||ni(s)),Ri(s),p=s.type,y=s.pendingProps,T=n!==null?n.memoizedProps:null,u=y.children,hc(p,y)?u=null:T!==null&&hc(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=fu(n,s,m_,null,null,r),Xo._currentValue=p),ia(n,s),Et(n,s,u,r),s.child;case 6:return n===null&&Ie&&((n=r=Ke)&&(r=tS(r,s.pendingProps,rn),r!==null?(s.stateNode=r,St=s,Ke=null,n=!0):n=!1),n||ni(s)),null;case 13:return np(n,s,r);case 4:return vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=zi(s,null,u,r):Et(n,s,u,r),s.child;case 11:return Yh(n,s,s.type,s.pendingProps,r);case 7:return Et(n,s,s.pendingProps,r),s.child;case 8:return Et(n,s,s.pendingProps.children,r),s.child;case 12:return Et(n,s,s.pendingProps.children,r),s.child;case 10:return u=s.pendingProps,ii(s,s.type,u.value),Et(n,s,u.children,r),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,qi(s),p=Tt(p),u=u(p),s.flags|=1,Et(n,s,u,r),s.child;case 14:return Kh(n,s,s.type,s.pendingProps,r);case 15:return jh(n,s,s.type,s.pendingProps,r);case 19:return sp(n,s,r);case 31:return b_(n,s,r);case 22:return Xh(n,s,r,s.pendingProps);case 24:return qi(s),u=Tt(rt),n===null?(p=nu(),p===null&&(p=Fe,y=eu(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=r),p=y),s.memoizedState={parent:u,cache:p},su(s),ii(s,rt,p)):((n.lanes&r)!==0&&(ou(n,s),Io(s,null,null,r),No()),p=n.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ii(s,rt,u)):(u=y.cache,ii(s,rt,u),u!==p.cache&&Wl(s,[rt],r,!0))),Et(n,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function qn(n){n.flags|=4}function Hu(n,s,r,u,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(kp())n.flags|=8192;else throw Vi=zr,iu}else n.flags&=-16777217}function rp(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Tm(s))if(kp())n.flags|=8192;else throw Vi=zr,iu}function oa(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?qd():536870912,n.lanes|=s,Ms|=s)}function Po(n,s){if(!Ie)switch(n.tailMode){case"hidden":s=n.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function je(n){var s=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(s)for(var p=n.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=r,s}function x_(n,s,r){var u=s.pendingProps;switch(Kl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(s),null;case 1:return je(s),null;case 3:return r=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Un(rt),Ze(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(vs(s)?qn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xl())),je(s),null;case 26:var p=s.type,y=s.memoizedState;return n===null?(qn(s),y!==null?(je(s),rp(s,y)):(je(s),Hu(s,p,null,u,r))):y?y!==n.memoizedState?(qn(s),je(s),rp(s,y)):(je(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&qn(s),je(s),Hu(s,p,n,u,r)),null;case 27:if(ts(s),r=Ee.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&qn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return je(s),null}n=se.current,vs(s)?Gf(s):(n=hm(p,u,r),s.stateNode=n,qn(s))}return je(s),null;case 5:if(ts(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&qn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return je(s),null}if(y=se.current,vs(s))Gf(s);else{var T=Sa(Ee.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}y[_t]=s,y[Ut]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=y;e:switch(bt(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&qn(s)}}return je(s),Hu(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,r),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&qn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(o(166));if(n=Ee.current,vs(s)){if(n=s.stateNode,r=s.memoizedProps,u=null,p=St,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[_t]=s,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||nm(n.nodeValue,r)),n||ni(s,!0)}else n=Sa(n).createTextNode(u),n[_t]=s,s.stateNode=n}return je(s),null;case 31:if(r=s.memoizedState,n===null||n.memoizedState!==null){if(u=vs(s),r!==null){if(n===null){if(!u)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[_t]=s}else Pi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;je(s),n=!1}else r=Xl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return s.flags&256?(Jt(s),s):(Jt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return je(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=vs(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(o(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[_t]=s}else Pi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;je(s),p=!1}else p=Xl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Jt(s),s):(Jt(s),null)}return Jt(s),(s.flags&128)!==0?(s.lanes=r,s):(r=u!==null,n=n!==null&&n.memoizedState!==null,r&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),r!==n&&r&&(s.child.flags|=8192),oa(s,s.updateQueue),je(s),null);case 4:return Ze(),n===null&&lc(s.stateNode.containerInfo),je(s),null;case 10:return Un(s.type),je(s),null;case 19:if(z(st),u=s.memoizedState,u===null)return je(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)Po(u,!1);else{if(tt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Jr(n),y!==null){for(s.flags|=128,Po(u,!1),n=y.updateQueue,s.updateQueue=n,oa(s,n),s.subtreeFlags=0,n=r,r=s.child;r!==null;)Uf(r,n),r=r.sibling;return Q(st,st.current&1|2),Ie&&kn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&ne()>ca&&(s.flags|=128,p=!0,Po(u,!1),s.lanes=4194304)}else{if(!p)if(n=Jr(y),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,oa(s,n),Po(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ie)return je(s),null}else 2*ne()-u.renderingStartTime>ca&&r!==536870912&&(s.flags|=128,p=!0,Po(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(n=u.last,n!==null?n.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=ne(),n.sibling=null,r=st.current,Q(st,p?r&1|2:r&1),Ie&&kn(s,u.treeForkCount),n):(je(s),null);case 22:case 23:return Jt(s),uu(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(r&536870912)!==0&&(s.flags&128)===0&&(je(s),s.subtreeFlags&6&&(s.flags|=8192)):je(s),r=s.updateQueue,r!==null&&oa(s,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048),n!==null&&z(Gi),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Un(rt),je(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function A_(n,s){switch(Kl(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Un(rt),Ze(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ts(s),null;case 31:if(s.memoizedState!==null){if(Jt(s),s.alternate===null)throw Error(o(340));Pi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Jt(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Pi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return z(st),null;case 4:return Ze(),null;case 10:return Un(s.type),null;case 22:case 23:return Jt(s),uu(),n!==null&&z(Gi),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Un(rt),null;case 25:return null;default:return null}}function ap(n,s){switch(Kl(s),s.tag){case 3:Un(rt),Ze();break;case 26:case 27:case 5:ts(s);break;case 4:Ze();break;case 31:s.memoizedState!==null&&Jt(s);break;case 13:Jt(s);break;case 19:z(st);break;case 10:Un(s.type);break;case 22:case 23:Jt(s),uu(),n!==null&&z(Gi);break;case 24:Un(rt)}}function Lo(n,s){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&n)===n){u=void 0;var y=r.create,T=r.inst;u=y(),T.destroy=u}r=r.next}while(r!==p)}}catch(b){Ve(s,s.return,b)}}function ui(n,s,r){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&n)===n){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,p=s;var A=r,O=b;try{O()}catch(H){Ve(p,A,H)}}}u=u.next}while(u!==y)}}catch(H){Ve(s,s.return,H)}}function lp(n){var s=n.updateQueue;if(s!==null){var r=n.stateNode;try{Zf(s,r)}catch(u){Ve(n,n.return,u)}}}function up(n,s,r){r.props=$i(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){Ve(n,s,u)}}function qo(n,s){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(p){Ve(n,s,p)}}function bn(n,s){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){Ve(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Ve(n,s,p)}else r.current=null}function cp(n){var s=n.type,r=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){Ve(n,n.return,p)}}function Vu(n,s,r){try{var u=n.stateNode;K_(u,n.type,r,s),u[Ut]=s}catch(p){Ve(n,n.return,p)}}function dp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gi(n.type)||n.tag===4}function zu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bu(n,s,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(n),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Nn));else if(u!==4&&(u===27&&gi(n.type)&&(r=n.stateNode,s=null),n=n.child,n!==null))for(Bu(n,s,r),n=n.sibling;n!==null;)Bu(n,s,r),n=n.sibling}function ra(n,s,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?r.insertBefore(n,s):r.appendChild(n);else if(u!==4&&(u===27&&gi(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ra(n,s,r),n=n.sibling;n!==null;)ra(n,s,r),n=n.sibling}function fp(n){var s=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);bt(s,u,r),s[_t]=n,s[Ut]=r}catch(y){Ve(n,n.return,y)}}var Gn=!1,ut=!1,$u=!1,hp=typeof WeakSet=="function"?WeakSet:Set,gt=null;function C_(n,s){if(n=n.containerInfo,dc=Ca,n=xf(n),Ll(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var T=0,b=-1,A=-1,O=0,H=0,B=n,P=null;t:for(;;){for(var q;B!==r||p!==0&&B.nodeType!==3||(b=T+p),B!==y||u!==0&&B.nodeType!==3||(A=T+u),B.nodeType===3&&(T+=B.nodeValue.length),(q=B.firstChild)!==null;)P=B,B=q;for(;;){if(B===n)break t;if(P===r&&++O===p&&(b=T),P===y&&++H===u&&(A=T),(q=B.nextSibling)!==null)break;B=P,P=B.parentNode}B=q}r=b===-1||A===-1?null:{start:b,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(fc={focusedElem:n,selectionRange:r},Ca=!1,gt=s;gt!==null;)if(s=gt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,gt=n;else for(;gt!==null;){switch(s=gt,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)p=n[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,r=s,p=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var ie=$i(r.type,p);n=u.getSnapshotBeforeUpdate(ie,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(fe){Ve(r,r.return,fe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,r=n.nodeType,r===9)mc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,gt=n;break}gt=s.return}}function pp(n,s,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Vn(n,r),u&4&&Lo(5,r);break;case 1:if(Vn(n,r),u&4)if(n=r.stateNode,s===null)try{n.componentDidMount()}catch(T){Ve(r,r.return,T)}else{var p=$i(r.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ve(r,r.return,T)}}u&64&&lp(r),u&512&&qo(r,r.return);break;case 3:if(Vn(n,r),u&64&&(n=r.updateQueue,n!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Zf(n,s)}catch(T){Ve(r,r.return,T)}}break;case 27:s===null&&u&4&&fp(r);case 26:case 5:Vn(n,r),s===null&&u&4&&cp(r),u&512&&qo(r,r.return);break;case 12:Vn(n,r);break;case 31:Vn(n,r),u&4&&yp(n,r);break;case 13:Vn(n,r),u&4&&vp(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=P_.bind(null,r),nS(n,r))));break;case 22:if(u=r.memoizedState!==null||Gn,!u){s=s!==null&&s.memoizedState!==null||ut,p=Gn;var y=ut;Gn=u,(ut=s)&&!y?zn(n,r,(r.subtreeFlags&8772)!==0):Vn(n,r),Gn=p,ut=y}break;case 30:break;default:Vn(n,r)}}function mp(n){var s=n.alternate;s!==null&&(n.alternate=null,mp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Sl(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xe=null,Pt=!1;function Hn(n,s,r){for(r=r.child;r!==null;)gp(n,s,r),r=r.sibling}function gp(n,s,r){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount(Vt,r)}catch{}switch(r.tag){case 26:ut||bn(r,s),Hn(n,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ut||bn(r,s);var u=Xe,p=Pt;gi(r.type)&&(Xe=r.stateNode,Pt=!1),Hn(n,s,r),Yo(r.stateNode),Xe=u,Pt=p;break;case 5:ut||bn(r,s);case 6:if(u=Xe,p=Pt,Xe=null,Hn(n,s,r),Xe=u,Pt=p,Xe!==null)if(Pt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(r.stateNode)}catch(y){Ve(r,s,y)}else try{Xe.removeChild(r.stateNode)}catch(y){Ve(r,s,y)}break;case 18:Xe!==null&&(Pt?(n=Xe,lm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Gs(n)):lm(Xe,r.stateNode));break;case 4:u=Xe,p=Pt,Xe=r.stateNode.containerInfo,Pt=!0,Hn(n,s,r),Xe=u,Pt=p;break;case 0:case 11:case 14:case 15:ui(2,r,s),ut||ui(4,r,s),Hn(n,s,r);break;case 1:ut||(bn(r,s),u=r.stateNode,typeof u.componentWillUnmount=="function"&&up(r,s,u)),Hn(n,s,r);break;case 21:Hn(n,s,r);break;case 22:ut=(u=ut)||r.memoizedState!==null,Hn(n,s,r),ut=u;break;default:Hn(n,s,r)}}function yp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Gs(n)}catch(r){Ve(s,s.return,r)}}}function vp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gs(n)}catch(r){Ve(s,s.return,r)}}function R_(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new hp),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new hp),s;default:throw Error(o(435,n.tag))}}function aa(n,s){var r=R_(n);s.forEach(function(u){if(!r.has(u)){r.add(u);var p=L_.bind(null,n,u);u.then(p,p)}})}function Lt(n,s){var r=s.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],y=n,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(gi(b.type)){Xe=b.stateNode,Pt=!1;break e}break;case 5:Xe=b.stateNode,Pt=!1;break e;case 3:case 4:Xe=b.stateNode.containerInfo,Pt=!0;break e}b=b.return}if(Xe===null)throw Error(o(160));gp(y,T,p),Xe=null,Pt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_p(s,n),s=s.sibling}var hn=null;function _p(n,s){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(s,n),qt(n),u&4&&(ui(3,n,n.return),Lo(3,n),ui(5,n,n.return));break;case 1:Lt(s,n),qt(n),u&512&&(ut||r===null||bn(r,r.return)),u&64&&Gn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=hn;if(Lt(s,n),qt(n),u&512&&(ut||r===null||bn(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){e:{u=n.type,r=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[co]||y[_t]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),bt(y,u,r),y[_t]=n,mt(y),u=y;break e;case"link":var T=_m("link","href",p).get(u+(r.href||""));if(T){for(var b=0;b<T.length;b++)if(y=T[b],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(b,1);break t}}y=p.createElement(u),bt(y,u,r),p.head.appendChild(y);break;case"meta":if(T=_m("meta","content",p).get(u+(r.content||""))){for(b=0;b<T.length;b++)if(y=T[b],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(b,1);break t}}y=p.createElement(u),bt(y,u,r),p.head.appendChild(y);break;default:throw Error(o(468,u))}y[_t]=n,mt(y),u=y}n.stateNode=u}else Sm(p,n.type,n.stateNode);else n.stateNode=vm(p,u,n.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?Sm(p,n.type,n.stateNode):vm(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Vu(n,n.memoizedProps,r.memoizedProps)}break;case 27:Lt(s,n),qt(n),u&512&&(ut||r===null||bn(r,r.return)),r!==null&&u&4&&Vu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Lt(s,n),qt(n),u&512&&(ut||r===null||bn(r,r.return)),n.flags&32){p=n.stateNode;try{ls(p,"")}catch(ie){Ve(n,n.return,ie)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,Vu(n,p,r!==null?r.memoizedProps:p)),u&1024&&($u=!0);break;case 6:if(Lt(s,n),qt(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(ie){Ve(n,n.return,ie)}}break;case 3:if(ba=null,p=hn,hn=Ta(s.containerInfo),Lt(s,n),hn=p,qt(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(ie){Ve(n,n.return,ie)}$u&&($u=!1,Sp(n));break;case 4:u=hn,hn=Ta(n.stateNode.containerInfo),Lt(s,n),qt(n),hn=u;break;case 12:Lt(s,n),qt(n);break;case 31:Lt(s,n),qt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,aa(n,u)));break;case 13:Lt(s,n),qt(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ua=ne()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,aa(n,u)));break;case 22:p=n.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,O=Gn,H=ut;if(Gn=O||p,ut=H||A,Lt(s,n),ut=H,Gn=O,qt(n),u&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(r===null||A||Gn||ut||Fi(n)),r=null,s=n;;){if(s.tag===5||s.tag===26){if(r===null){A=r=s;try{if(y=A.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=A.stateNode;var B=A.memoizedProps.style,P=B!=null&&B.hasOwnProperty("display")?B.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ie){Ve(A,A.return,ie)}}}else if(s.tag===6){if(r===null){A=s;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(ie){Ve(A,A.return,ie)}}}else if(s.tag===18){if(r===null){A=s;try{var q=A.stateNode;p?um(q,!0):um(A.stateNode,!1)}catch(ie){Ve(A,A.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,aa(n,r))));break;case 19:Lt(s,n),qt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,aa(n,u)));break;case 30:break;case 21:break;default:Lt(s,n),qt(n)}}function qt(n){var s=n.flags;if(s&2){try{for(var r,u=n.return;u!==null;){if(dp(u)){r=u;break}u=u.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var p=r.stateNode,y=zu(n);ra(n,y,p);break;case 5:var T=r.stateNode;r.flags&32&&(ls(T,""),r.flags&=-33);var b=zu(n);ra(n,b,T);break;case 3:case 4:var A=r.stateNode.containerInfo,O=zu(n);Bu(n,O,A);break;default:throw Error(o(161))}}catch(H){Ve(n,n.return,H)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Sp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Sp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Vn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pp(n,s.alternate,s),s=s.sibling}function Fi(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ui(4,s,s.return),Fi(s);break;case 1:bn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&up(s,s.return,r),Fi(s);break;case 27:Yo(s.stateNode);case 26:case 5:bn(s,s.return),Fi(s);break;case 22:s.memoizedState===null&&Fi(s);break;case 30:Fi(s);break;default:Fi(s)}n=n.sibling}}function zn(n,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:zn(p,y,r),Lo(4,y);break;case 1:if(zn(p,y,r),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(O){Ve(u,u.return,O)}if(u=y,p=u.updateQueue,p!==null){var b=u.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)Qf(A[p],b)}catch(O){Ve(u,u.return,O)}}r&&T&64&&lp(y),qo(y,y.return);break;case 27:fp(y);case 26:case 5:zn(p,y,r),r&&u===null&&T&4&&cp(y),qo(y,y.return);break;case 12:zn(p,y,r);break;case 31:zn(p,y,r),r&&T&4&&yp(p,y);break;case 13:zn(p,y,r),r&&T&4&&vp(p,y);break;case 22:y.memoizedState===null&&zn(p,y,r),qo(y,y.return);break;case 30:break;default:zn(p,y,r)}s=s.sibling}}function Fu(n,s){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&wo(r))}function Ju(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&wo(n))}function pn(n,s,r,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tp(n,s,r,u),s=s.sibling}function Tp(n,s,r,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:pn(n,s,r,u),p&2048&&Lo(9,s);break;case 1:pn(n,s,r,u);break;case 3:pn(n,s,r,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&wo(n)));break;case 12:if(p&2048){pn(n,s,r,u),n=s.stateNode;try{var y=s.memoizedProps,T=y.id,b=y.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){Ve(s,s.return,A)}}else pn(n,s,r,u);break;case 31:pn(n,s,r,u);break;case 13:pn(n,s,r,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?pn(n,s,r,u):Go(n,s):y._visibility&2?pn(n,s,r,u):(y._visibility|=2,Rs(n,s,r,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Fu(T,s);break;case 24:pn(n,s,r,u),p&2048&&Ju(s.alternate,s);break;default:pn(n,s,r,u)}}function Rs(n,s,r,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,T=s,b=r,A=u,O=T.flags;switch(T.tag){case 0:case 11:case 15:Rs(y,T,b,A,p),Lo(8,T);break;case 23:break;case 22:var H=T.stateNode;T.memoizedState!==null?H._visibility&2?Rs(y,T,b,A,p):Go(y,T):(H._visibility|=2,Rs(y,T,b,A,p)),p&&O&2048&&Fu(T.alternate,T);break;case 24:Rs(y,T,b,A,p),p&&O&2048&&Ju(T.alternate,T);break;default:Rs(y,T,b,A,p)}s=s.sibling}}function Go(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=n,u=s,p=u.flags;switch(u.tag){case 22:Go(r,u),p&2048&&Fu(u.alternate,u);break;case 24:Go(r,u),p&2048&&Ju(u.alternate,u);break;default:Go(r,u)}s=s.sibling}}var Ho=8192;function Ns(n,s,r){if(n.subtreeFlags&Ho)for(n=n.child;n!==null;)Ep(n,s,r),n=n.sibling}function Ep(n,s,r){switch(n.tag){case 26:Ns(n,s,r),n.flags&Ho&&n.memoizedState!==null&&pS(r,hn,n.memoizedState,n.memoizedProps);break;case 5:Ns(n,s,r);break;case 3:case 4:var u=hn;hn=Ta(n.stateNode.containerInfo),Ns(n,s,r),hn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ho,Ho=16777216,Ns(n,s,r),Ho=u):Ns(n,s,r));break;default:Ns(n,s,r)}}function bp(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Vo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];gt=u,xp(u,n)}bp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wp(n),n=n.sibling}function wp(n){switch(n.tag){case 0:case 11:case 15:Vo(n),n.flags&2048&&ui(9,n,n.return);break;case 3:Vo(n);break;case 12:Vo(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,la(n)):Vo(n);break;default:Vo(n)}}function la(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];gt=u,xp(u,n)}bp(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ui(8,s,s.return),la(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,la(s));break;default:la(s)}n=n.sibling}}function xp(n,s){for(;gt!==null;){var r=gt;switch(r.tag){case 0:case 11:case 15:ui(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wo(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,gt=u;else e:for(r=n;gt!==null;){u=gt;var p=u.sibling,y=u.return;if(mp(u),u===r){gt=null;break e}if(p!==null){p.return=y,gt=p;break e}gt=y}}}var N_={getCacheForType:function(n){var s=Tt(rt),r=s.data.get(n);return r===void 0&&(r=n(),s.data.set(n,r)),r},cacheSignal:function(){return Tt(rt).controller.signal}},I_=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,xe=null,Ce=0,He=0,Yt=null,ci=!1,Is=!1,Yu=!1,Bn=0,tt=0,di=0,Ji=0,Ku=0,Kt=0,Ms=0,zo=null,Gt=null,ju=!1,ua=0,Ap=0,ca=1/0,da=null,fi=null,ht=0,hi=null,ks=null,$n=0,Xu=0,Qu=null,Cp=null,Bo=0,Zu=null;function jt(){return(Le&2)!==0&&Ce!==0?Ce&-Ce:L.T!==null?sc():zd()}function Rp(){if(Kt===0)if((Ce&536870912)===0||Ie){var n=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),Kt=n}else Kt=536870912;return n=Ft.current,n!==null&&(n.flags|=32),Kt}function Ht(n,s,r){(n===Fe&&(He===2||He===9)||n.cancelPendingCommit!==null)&&(Ds(n,0),pi(n,Ce,Kt,!1)),uo(n,r),((Le&2)===0||n!==Fe)&&(n===Fe&&((Le&2)===0&&(Ji|=r),tt===4&&pi(n,Ce,Kt,!1)),wn(n))}function Np(n,s,r){if((Le&6)!==0)throw Error(o(327));var u=!r&&(s&127)===0&&(s&n.expiredLanes)===0||lo(n,s),p=u?D_(n,s):ec(n,s,!0),y=u;do{if(p===0){Is&&!u&&pi(n,s,0,!1);break}else{if(r=n.current.alternate,y&&!M_(r)){p=ec(n,s,!1),y=!1;continue}if(p===2){if(y=s,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=n;p=zo;var A=b.current.memoizedState.isDehydrated;if(A&&(Ds(b,T).flags|=256),T=ec(b,T,!1),T!==2){if(Yu&&!A){b.errorRecoveryDisabledLanes|=y,Ji|=y,p=4;break e}y=Gt,Gt=p,y!==null&&(Gt===null?Gt=y:Gt.push.apply(Gt,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){Ds(n,0),pi(n,s,0,!0);break}e:{switch(u=n,y=p,y){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:pi(u,s,Kt,!ci);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(p=ua+300-ne(),10<p)){if(pi(u,s,Kt,!ci),Tr(u,0,!0)!==0)break e;$n=s,u.timeoutHandle=rm(Ip.bind(null,u,r,Gt,da,ju,s,Kt,Ji,Ms,ci,y,"Throttled",-0,0),p);break e}Ip(u,r,Gt,da,ju,s,Kt,Ji,Ms,ci,y,null,-0,0)}}break}while(!0);wn(n)}function Ip(n,s,r,u,p,y,T,b,A,O,H,B,P,q){if(n.timeoutHandle=-1,B=s.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Ep(s,y,B);var ie=(y&62914560)===y?ua-ne():(y&4194048)===y?Ap-ne():0;if(ie=mS(B,ie),ie!==null){$n=y,n.cancelPendingCommit=ie(qp.bind(null,n,s,y,r,u,p,T,b,A,H,B,null,P,q)),pi(n,y,T,!O);return}}qp(n,s,y,r,u,p,T,b,A)}function M_(n){for(var s=n;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],y=p.getSnapshot;p=p.value;try{if(!Bt(y(),p))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(n,s,r,u){s&=~Ku,s&=~Ji,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var y=31-zt(p),T=1<<y;u[y]=-1,p&=~T}r!==0&&Gd(n,r,s)}function fa(){return(Le&6)===0?($o(0),!1):!0}function Wu(){if(xe!==null){if(He===0)var n=xe.return;else n=xe,Dn=Li=null,mu(n),bs=null,Ao=0,n=xe;for(;n!==null;)ap(n.alternate,n),n=n.return;xe=null}}function Ds(n,s){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,Q_(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),$n=0,Wu(),Fe=n,xe=r=Mn(n.current,null),Ce=s,He=0,Yt=null,ci=!1,Is=lo(n,s),Yu=!1,Ms=Kt=Ku=Ji=di=tt=0,Gt=zo=null,ju=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-zt(u),y=1<<p;s|=n[p],u&=~y}return Bn=s,Dr(),r}function Mp(n,s){_e=null,L.H=Uo,s===Es||s===Vr?(s=Yf(),He=3):s===iu?(s=Yf(),He=4):He=s===Mu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yt=s,xe===null&&(tt=1,ta(n,nn(s,n.current)))}function kp(){var n=Ft.current;return n===null?!0:(Ce&4194048)===Ce?an===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?n===an:!1}function Dp(){var n=L.H;return L.H=Uo,n===null?Uo:n}function Up(){var n=L.A;return L.A=N_,n}function ha(){tt=4,ci||(Ce&4194048)!==Ce&&Ft.current!==null||(Is=!0),(di&134217727)===0&&(Ji&134217727)===0||Fe===null||pi(Fe,Ce,Kt,!1)}function ec(n,s,r){var u=Le;Le|=2;var p=Dp(),y=Up();(Fe!==n||Ce!==s)&&(da=null,Ds(n,s)),s=!1;var T=tt;e:do try{if(He!==0&&xe!==null){var b=xe,A=Yt;switch(He){case 8:Wu(),T=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(s=!0);var O=He;if(He=0,Yt=null,Us(n,b,A,O),r&&Is){T=0;break e}break;default:O=He,He=0,Yt=null,Us(n,b,A,O)}}k_(),T=tt;break}catch(H){Mp(n,H)}while(!0);return s&&n.shellSuspendCounter++,Dn=Li=null,Le=u,L.H=p,L.A=y,xe===null&&(Fe=null,Ce=0,Dr()),T}function k_(){for(;xe!==null;)Op(xe)}function D_(n,s){var r=Le;Le|=2;var u=Dp(),p=Up();Fe!==n||Ce!==s?(da=null,ca=ne()+500,Ds(n,s)):Is=lo(n,s);e:do try{if(He!==0&&xe!==null){s=xe;var y=Yt;t:switch(He){case 1:He=0,Yt=null,Us(n,s,y,1);break;case 2:case 9:if(Ff(y)){He=0,Yt=null,Pp(s);break}s=function(){He!==2&&He!==9||Fe!==n||(He=7),wn(n)},y.then(s,s);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Ff(y)?(He=0,Yt=null,Pp(s)):(He=0,Yt=null,Us(n,s,y,7));break;case 5:var T=null;switch(xe.tag){case 26:T=xe.memoizedState;case 5:case 27:var b=xe;if(T?Tm(T):b.stateNode.complete){He=0,Yt=null;var A=b.sibling;if(A!==null)xe=A;else{var O=b.return;O!==null?(xe=O,pa(O)):xe=null}break t}}He=0,Yt=null,Us(n,s,y,5);break;case 6:He=0,Yt=null,Us(n,s,y,6);break;case 8:Wu(),tt=6;break e;default:throw Error(o(462))}}U_();break}catch(H){Mp(n,H)}while(!0);return Dn=Li=null,L.H=u,L.A=p,Le=r,xe!==null?0:(Fe=null,Ce=0,Dr(),tt)}function U_(){for(;xe!==null&&!ee();)Op(xe)}function Op(n){var s=op(n.alternate,n,Bn);n.memoizedProps=n.pendingProps,s===null?pa(n):xe=s}function Pp(n){var s=n,r=s.alternate;switch(s.tag){case 15:case 0:s=Wh(r,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=Wh(r,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:mu(s);default:ap(r,s),s=xe=Uf(s,Bn),s=op(r,s,Bn)}n.memoizedProps=n.pendingProps,s===null?pa(n):xe=s}function Us(n,s,r,u){Dn=Li=null,mu(s),bs=null,Ao=0;var p=s.return;try{if(E_(n,p,s,r,Ce)){tt=1,ta(n,nn(r,n.current)),xe=null;return}}catch(y){if(p!==null)throw xe=p,y;tt=1,ta(n,nn(r,n.current)),xe=null;return}s.flags&32768?(Ie||u===1?n=!0:Is||(Ce&536870912)!==0?n=!1:(ci=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ft.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lp(s,n)):pa(s)}function pa(n){var s=n;do{if((s.flags&32768)!==0){Lp(s,ci);return}n=s.return;var r=x_(s.alternate,s,Bn);if(r!==null){xe=r;return}if(s=s.sibling,s!==null){xe=s;return}xe=s=n}while(s!==null);tt===0&&(tt=5)}function Lp(n,s){do{var r=A_(n.alternate,n);if(r!==null){r.flags&=32767,xe=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(n=n.sibling,n!==null)){xe=n;return}xe=n=r}while(n!==null);tt=6,xe=null}function qp(n,s,r,u,p,y,T,b,A){n.cancelPendingCommit=null;do ma();while(ht!==0);if((Le&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(y=s.lanes|s.childLanes,y|=zl,h0(n,r,y,T,b,A),n===Fe&&(xe=Fe=null,Ce=0),ks=s,hi=n,$n=r,Xu=y,Qu=p,Cp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,q_(it,function(){return Bp(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,p=j.p,j.p=2,T=Le,Le|=4;try{C_(n,s,r)}finally{Le=T,j.p=p,L.T=u}}ht=1,Gp(),Hp(),Vp()}}function Gp(){if(ht===1){ht=0;var n=hi,s=ks,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var u=j.p;j.p=2;var p=Le;Le|=4;try{_p(s,n);var y=fc,T=xf(n.containerInfo),b=y.focusedElem,A=y.selectionRange;if(T!==b&&b&&b.ownerDocument&&wf(b.ownerDocument.documentElement,b)){if(A!==null&&Ll(b)){var O=A.start,H=A.end;if(H===void 0&&(H=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(H,b.value.length);else{var B=b.ownerDocument||document,P=B&&B.defaultView||window;if(P.getSelection){var q=P.getSelection(),ie=b.textContent.length,fe=Math.min(A.start,ie),$e=A.end===void 0?fe:Math.min(A.end,ie);!q.extend&&fe>$e&&(T=$e,$e=fe,fe=T);var M=bf(b,fe),N=bf(b,$e);if(M&&N&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=B.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),fe>$e?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(B=[],q=b;q=q.parentNode;)q.nodeType===1&&B.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<B.length;b++){var V=B[b];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Ca=!!dc,fc=dc=null}finally{Le=p,j.p=u,L.T=r}}n.current=s,ht=2}}function Hp(){if(ht===2){ht=0;var n=hi,s=ks,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var u=j.p;j.p=2;var p=Le;Le|=4;try{pp(n,s.alternate,s)}finally{Le=p,j.p=u,L.T=r}}ht=3}}function Vp(){if(ht===4||ht===3){ht=0,te();var n=hi,s=ks,r=$n,u=Cp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ht=5:(ht=0,ks=hi=null,zp(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(fi=null),vl(r),s=s.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot(Vt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,p=j.p,j.p=2,L.T=null;try{for(var y=n.onRecoverableError,T=0;T<u.length;T++){var b=u[T];y(b.value,{componentStack:b.stack})}}finally{L.T=s,j.p=p}}($n&3)!==0&&ma(),wn(n),p=n.pendingLanes,(r&261930)!==0&&(p&42)!==0?n===Zu?Bo++:(Bo=0,Zu=n):Bo=0,$o(0)}}function zp(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,wo(s)))}function ma(){return Gp(),Hp(),Vp(),Bp()}function Bp(){if(ht!==5)return!1;var n=hi,s=Xu;Xu=0;var r=vl($n),u=L.T,p=j.p;try{j.p=32>r?32:r,L.T=null,r=Qu,Qu=null;var y=hi,T=$n;if(ht=0,ks=hi=null,$n=0,(Le&6)!==0)throw Error(o(331));var b=Le;if(Le|=4,wp(y.current),Tp(y,y.current,T,r),Le=b,$o(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot(Vt,y)}catch{}return!0}finally{j.p=p,L.T=u,zp(n,s)}}function $p(n,s,r){s=nn(r,s),s=Iu(n.stateNode,s,2),n=ri(n,s,2),n!==null&&(uo(n,2),wn(n))}function Ve(n,s,r){if(n.tag===3)$p(n,n,r);else for(;s!==null;){if(s.tag===3){$p(s,n,r);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fi===null||!fi.has(u))){n=nn(r,n),r=Fh(2),u=ri(s,r,2),u!==null&&(Jh(r,u,s,n),uo(u,2),wn(u));break}}s=s.return}}function tc(n,s,r){var u=n.pingCache;if(u===null){u=n.pingCache=new I_;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(r)||(Yu=!0,p.add(r),n=O_.bind(null,n,s,r),s.then(n,n))}function O_(n,s,r){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Fe===n&&(Ce&r)===r&&(tt===4||tt===3&&(Ce&62914560)===Ce&&300>ne()-ua?(Le&2)===0&&Ds(n,0):Ku|=r,Ms===Ce&&(Ms=0)),wn(n)}function Fp(n,s){s===0&&(s=qd()),n=Ui(n,s),n!==null&&(uo(n,s),wn(n))}function P_(n){var s=n.memoizedState,r=0;s!==null&&(r=s.retryLane),Fp(n,r)}function L_(n,s){var r=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(s),Fp(n,r)}function q_(n,s){return $(n,s)}var ga=null,Os=null,nc=!1,ya=!1,ic=!1,mi=0;function wn(n){n!==Os&&n.next===null&&(Os===null?ga=Os=n:Os=Os.next=n),ya=!0,nc||(nc=!0,H_())}function $o(n,s){if(!ic&&ya){ic=!0;do for(var r=!1,u=ga;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,b=u.pingedLanes;y=(1<<31-zt(42|n)+1)-1,y&=p&~(T&~b),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,jp(u,y))}else y=Ce,y=Tr(u,u===Fe?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||lo(u,y)||(r=!0,jp(u,y));u=u.next}while(r);ic=!1}}function G_(){Jp()}function Jp(){ya=nc=!1;var n=0;mi!==0&&X_()&&(n=mi);for(var s=ne(),r=null,u=ga;u!==null;){var p=u.next,y=Yp(u,s);y===0?(u.next=null,r===null?ga=p:r.next=p,p===null&&(Os=r)):(r=u,(n!==0||(y&3)!==0)&&(ya=!0)),u=p}ht!==0&&ht!==5||$o(n),mi!==0&&(mi=0)}function Yp(n,s){for(var r=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-zt(y),b=1<<T,A=p[T];A===-1?((b&r)===0||(b&u)!==0)&&(p[T]=f0(b,s)):A<=s&&(n.expiredLanes|=b),y&=~b}if(s=Fe,r=Ce,r=Tr(n,n===s?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===s&&(He===2||He===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&K(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||lo(n,r)){if(s=r&-r,s===n.callbackPriority)return s;switch(u!==null&&K(u),vl(r)){case 2:case 8:r=re;break;case 32:r=it;break;case 268435456:r=Ct;break;default:r=it}return u=Kp.bind(null,n),r=$(r,u),n.callbackPriority=s,n.callbackNode=r,s}return u!==null&&u!==null&&K(u),n.callbackPriority=2,n.callbackNode=null,2}function Kp(n,s){if(ht!==0&&ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(ma()&&n.callbackNode!==r)return null;var u=Ce;return u=Tr(n,n===Fe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Np(n,u,s),Yp(n,ne()),n.callbackNode!=null&&n.callbackNode===r?Kp.bind(null,n):null)}function jp(n,s){if(ma())return null;Np(n,s,!0)}function H_(){Z_(function(){(Le&6)!==0?$(Ne,G_):Jp()})}function sc(){if(mi===0){var n=Ss;n===0&&(n=vr,vr<<=1,(vr&261888)===0&&(vr=256)),mi=n}return mi}function Xp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:xr(""+n)}function Qp(n,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,n.id&&r.setAttribute("form",n.id),s.parentNode.insertBefore(r,s),n=new FormData(n),r.parentNode.removeChild(r),n}function V_(n,s,r,u,p){if(s==="submit"&&r&&r.stateNode===p){var y=Xp((p[Ut]||null).action),T=u.submitter;T&&(s=(s=T[Ut]||null)?Xp(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var b=new Nr("action","action",null,u,p);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(mi!==0){var A=T?Qp(p,T):new FormData(p);wu(r,{pending:!0,data:A,method:p.method,action:y},null,A)}}else typeof y=="function"&&(b.preventDefault(),A=T?Qp(p,T):new FormData(p),wu(r,{pending:!0,data:A,method:p.method,action:y},y,A))},currentTarget:p}]})}}for(var oc=0;oc<Vl.length;oc++){var rc=Vl[oc],z_=rc.toLowerCase(),B_=rc[0].toUpperCase()+rc.slice(1);fn(z_,"on"+B_)}fn(Rf,"onAnimationEnd"),fn(Nf,"onAnimationIteration"),fn(If,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(o_,"onTransitionRun"),fn(r_,"onTransitionStart"),fn(a_,"onTransitionCancel"),fn(Mf,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Zp(n,s){s=(s&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var b=u[T],A=b.instance,O=b.currentTarget;if(b=b.listener,A!==y&&p.isPropagationStopped())break e;y=b,p.currentTarget=O;try{y(p)}catch(H){kr(H)}p.currentTarget=null,y=A}else for(T=0;T<u.length;T++){if(b=u[T],A=b.instance,O=b.currentTarget,b=b.listener,A!==y&&p.isPropagationStopped())break e;y=b,p.currentTarget=O;try{y(p)}catch(H){kr(H)}p.currentTarget=null,y=A}}}}function Ae(n,s){var r=s[_l];r===void 0&&(r=s[_l]=new Set);var u=n+"__bubble";r.has(u)||(Wp(s,n,2,!1),r.add(u))}function ac(n,s,r){var u=0;s&&(u|=4),Wp(r,n,u,s)}var va="_reactListening"+Math.random().toString(36).slice(2);function lc(n){if(!n[va]){n[va]=!0,Fd.forEach(function(r){r!=="selectionchange"&&($_.has(r)||ac(r,!1,n),ac(r,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[va]||(s[va]=!0,ac("selectionchange",!1,s))}}function Wp(n,s,r,u){switch(Rm(s)){case 2:var p=vS;break;case 8:p=_S;break;default:p=bc}r=p.bind(null,s,r,n),p=void 0,!Rl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,r,{capture:!0,passive:p}):n.addEventListener(s,r,!0):p!==void 0?n.addEventListener(s,r,{passive:p}):n.addEventListener(s,r,!1)}function uc(n,s,r,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===p)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;b!==null;){if(T=is(b),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=y=T;continue e}b=b.parentNode}}u=u.return}sf(function(){var O=y,H=Al(r),B=[];e:{var P=kf.get(n);if(P!==void 0){var q=Nr,ie=n;switch(n){case"keypress":if(Cr(r)===0)break e;case"keydown":case"keyup":q=L0;break;case"focusin":ie="focus",q=kl;break;case"focusout":ie="blur",q=kl;break;case"beforeblur":case"afterblur":q=kl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=H0;break;case Rf:case Nf:case If:q=R0;break;case Mf:q=z0;break;case"scroll":case"scrollend":q=b0;break;case"wheel":q=$0;break;case"copy":case"cut":case"paste":q=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=uf;break;case"toggle":case"beforetoggle":q=J0}var fe=(s&4)!==0,$e=!fe&&(n==="scroll"||n==="scrollend"),M=fe?P!==null?P+"Capture":null:P;fe=[];for(var N=O,U;N!==null;){var V=N;if(U=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||U===null||M===null||(V=ho(N,M),V!=null&&fe.push(Jo(N,V,U))),$e)break;N=N.return}0<fe.length&&(P=new q(P,ie,null,r,H),B.push({event:P,listeners:fe}))}}if((s&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",P&&r!==xl&&(ie=r.relatedTarget||r.fromElement)&&(is(ie)||ie[ns]))break e;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ie=r.relatedTarget||r.toElement,q=O,ie=ie?is(ie):null,ie!==null&&($e=l(ie),fe=ie.tag,ie!==$e||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):(q=null,ie=O),q!==ie)){if(fe=af,V="onMouseLeave",M="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(fe=uf,V="onPointerLeave",M="onPointerEnter",N="pointer"),$e=q==null?P:fo(q),U=ie==null?P:fo(ie),P=new fe(V,N+"leave",q,r,H),P.target=$e,P.relatedTarget=U,V=null,is(H)===O&&(fe=new fe(M,N+"enter",ie,r,H),fe.target=U,fe.relatedTarget=$e,V=fe),$e=V,q&&ie)t:{for(fe=F_,M=q,N=ie,U=0,V=M;V;V=fe(V))U++;V=0;for(var ue=N;ue;ue=fe(ue))V++;for(;0<U-V;)M=fe(M),U--;for(;0<V-U;)N=fe(N),V--;for(;U--;){if(M===N||N!==null&&M===N.alternate){fe=M;break t}M=fe(M),N=fe(N)}fe=null}else fe=null;q!==null&&em(B,P,q,fe,!1),ie!==null&&$e!==null&&em(B,$e,ie,fe,!0)}}e:{if(P=O?fo(O):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var De=yf;else if(mf(P))if(vf)De=n_;else{De=e_;var oe=W0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&wl(O.elementType)&&(De=yf):De=t_;if(De&&(De=De(n,O))){gf(B,De,r,H);break e}oe&&oe(n,P,O),n==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&bl(P,"number",P.value)}switch(oe=O?fo(O):window,n){case"focusin":(mf(oe)||oe.contentEditable==="true")&&(fs=oe,ql=O,To=null);break;case"focusout":To=ql=fs=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,Af(B,r,H);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":Af(B,r,H)}var Te;if(Ul)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ds?hf(n,r)&&(Re="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(cf&&r.locale!=="ko"&&(ds||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ds&&(Te=of()):(Wn=H,Nl="value"in Wn?Wn.value:Wn.textContent,ds=!0)),oe=_a(O,Re),0<oe.length&&(Re=new lf(Re,n,null,r,H),B.push({event:Re,listeners:oe}),Te?Re.data=Te:(Te=pf(r),Te!==null&&(Re.data=Te)))),(Te=K0?j0(n,r):X0(n,r))&&(Re=_a(O,"onBeforeInput"),0<Re.length&&(oe=new lf("onBeforeInput","beforeinput",null,r,H),B.push({event:oe,listeners:Re}),oe.data=Te)),V_(B,n,O,r,H)}Zp(B,s)})}function Jo(n,s,r){return{instance:n,listener:s,currentTarget:r}}function _a(n,s){for(var r=s+"Capture",u=[];n!==null;){var p=n,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ho(n,r),p!=null&&u.unshift(Jo(n,p,y)),p=ho(n,s),p!=null&&u.push(Jo(n,p,y))),n.tag===3)return u;n=n.return}return[]}function F_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function em(n,s,r,u,p){for(var y=s._reactName,T=[];r!==null&&r!==u;){var b=r,A=b.alternate,O=b.stateNode;if(b=b.tag,A!==null&&A===u)break;b!==5&&b!==26&&b!==27||O===null||(A=O,p?(O=ho(r,y),O!=null&&T.unshift(Jo(r,O,A))):p||(O=ho(r,y),O!=null&&T.push(Jo(r,O,A)))),r=r.return}T.length!==0&&n.push({event:s,listeners:T})}var J_=/\r\n?/g,Y_=/\u0000|\uFFFD/g;function tm(n){return(typeof n=="string"?n:""+n).replace(J_,`
`).replace(Y_,"")}function nm(n,s){return s=tm(s),tm(n)===s}function Be(n,s,r,u,p,y){switch(r){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ls(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ls(n,""+u);break;case"className":br(n,"class",u);break;case"tabIndex":br(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":br(n,r,u);break;case"style":tf(n,u,y);break;case"data":if(s!=="object"){br(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=xr(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(s!=="input"&&Be(n,s,"name",p.name,p,null),Be(n,s,"formEncType",p.formEncType,p,null),Be(n,s,"formMethod",p.formMethod,p,null),Be(n,s,"formTarget",p.formTarget,p,null)):(Be(n,s,"encType",p.encType,p,null),Be(n,s,"method",p.method,p,null),Be(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=xr(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=Nn);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(o(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=xr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),Er(n,"popover",u);break;case"xlinkActuate":Rn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Er(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=T0.get(r)||r,Er(n,r,u))}}function cc(n,s,r,u,p,y){switch(r){case"style":tf(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(o(60));n.innerHTML=r}}break;case"children":typeof u=="string"?ls(n,u):(typeof u=="number"||typeof u=="bigint")&&ls(n,""+u);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),s=r.slice(2,p?r.length-7:void 0),y=n[Ut]||null,y=y!=null?y[r]:null,typeof y=="function"&&n.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(s,u,p);break e}r in n?n[r]=u:u===!0?n.setAttribute(r,""):Er(n,r,u)}}}function bt(n,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var u=!1,p=!1,y;for(y in r)if(r.hasOwnProperty(y)){var T=r[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Be(n,s,y,T,r,null)}}p&&Be(n,s,"srcSet",r.srcSet,r,null),u&&Be(n,s,"src",r.src,r,null);return;case"input":Ae("invalid",n);var b=y=T=p=null,A=null,O=null;for(u in r)if(r.hasOwnProperty(u)){var H=r[u];if(H!=null)switch(u){case"name":p=H;break;case"type":T=H;break;case"checked":A=H;break;case"defaultChecked":O=H;break;case"value":y=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,s));break;default:Be(n,s,u,H,r,null)}}Qd(n,y,b,A,O,T,p,!1);return;case"select":Ae("invalid",n),u=T=y=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":y=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Be(n,s,p,b,r,null)}s=y,r=T,n.multiple=!!u,s!=null?as(n,!!u,s,!1):r!=null&&as(n,!!u,r,!0);return;case"textarea":Ae("invalid",n),y=p=u=null;for(T in r)if(r.hasOwnProperty(T)&&(b=r[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":p=b;break;case"children":y=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Be(n,s,T,b,r,null)}Wd(n,u,p,y);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(u=r[A],u!=null))switch(A){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Be(n,s,A,u,r,null)}return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(u=0;u<Fo.length;u++)Ae(Fo[u],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(u=r[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Be(n,s,O,u,r,null)}return;default:if(wl(s)){for(H in r)r.hasOwnProperty(H)&&(u=r[H],u!==void 0&&cc(n,s,H,u,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(u=r[b],u!=null&&Be(n,s,b,u,r,null))}function K_(n,s,r,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,b=null,A=null,O=null,H=null;for(q in r){var B=r[q];if(r.hasOwnProperty(q)&&B!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=B;default:u.hasOwnProperty(q)||Be(n,s,q,null,u,B)}}for(var P in u){var q=u[P];if(B=r[P],u.hasOwnProperty(P)&&(q!=null||B!=null))switch(P){case"type":y=q;break;case"name":p=q;break;case"checked":O=q;break;case"defaultChecked":H=q;break;case"value":T=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,s));break;default:q!==B&&Be(n,s,P,q,u,B)}}El(n,T,b,A,O,H,y,p);return;case"select":q=T=b=P=null;for(y in r)if(A=r[y],r.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":q=A;default:u.hasOwnProperty(y)||Be(n,s,y,null,u,A)}for(p in u)if(y=u[p],A=r[p],u.hasOwnProperty(p)&&(y!=null||A!=null))switch(p){case"value":P=y;break;case"defaultValue":b=y;break;case"multiple":T=y;default:y!==A&&Be(n,s,p,y,u,A)}s=b,r=T,u=q,P!=null?as(n,!!r,P,!1):!!u!=!!r&&(s!=null?as(n,!!r,s,!0):as(n,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(b in r)if(p=r[b],r.hasOwnProperty(b)&&p!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Be(n,s,b,null,u,p)}for(T in u)if(p=u[T],y=r[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":P=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==y&&Be(n,s,T,p,u,y)}Zd(n,P,q);return;case"option":for(var ie in r)if(P=r[ie],r.hasOwnProperty(ie)&&P!=null&&!u.hasOwnProperty(ie))switch(ie){case"selected":n.selected=!1;break;default:Be(n,s,ie,null,u,P)}for(A in u)if(P=u[A],q=r[A],u.hasOwnProperty(A)&&P!==q&&(P!=null||q!=null))switch(A){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Be(n,s,A,P,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in r)P=r[fe],r.hasOwnProperty(fe)&&P!=null&&!u.hasOwnProperty(fe)&&Be(n,s,fe,null,u,P);for(O in u)if(P=u[O],q=r[O],u.hasOwnProperty(O)&&P!==q&&(P!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,s));break;default:Be(n,s,O,P,u,q)}return;default:if(wl(s)){for(var $e in r)P=r[$e],r.hasOwnProperty($e)&&P!==void 0&&!u.hasOwnProperty($e)&&cc(n,s,$e,void 0,u,P);for(H in u)P=u[H],q=r[H],!u.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||cc(n,s,H,P,u,q);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!u.hasOwnProperty(M)&&Be(n,s,M,null,u,P);for(B in u)P=u[B],q=r[B],!u.hasOwnProperty(B)||P===q||P==null&&q==null||Be(n,s,B,P,u,q)}function im(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var p=r[u],y=p.transferSize,T=p.initiatorType,b=p.duration;if(y&&b&&im(T)){for(T=0,b=p.responseEnd,u+=1;u<r.length;u++){var A=r[u],O=A.startTime;if(O>b)break;var H=A.transferSize,B=A.initiatorType;H&&im(B)&&(A=A.responseEnd,T+=H*(A<b?1:(b-O)/(A-O)))}if(--u,s+=8*(y+T)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var dc=null,fc=null;function Sa(n){return n.nodeType===9?n:n.ownerDocument}function sm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function hc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pc=null;function X_(){var n=window.event;return n&&n.type==="popstate"?n===pc?!1:(pc=n,!0):(pc=null,!1)}var rm=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(n){return am.resolve(null).then(n).catch(W_)}:rm;function W_(n){setTimeout(function(){throw n})}function gi(n){return n==="head"}function lm(n,s){var r=s,u=0;do{var p=r.nextSibling;if(n.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(u===0){n.removeChild(p),Gs(s);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")Yo(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,Yo(r);for(var y=r.firstChild;y;){var T=y.nextSibling,b=y.nodeName;y[co]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=T}}else r==="body"&&Yo(n.ownerDocument.body);r=p}while(r);Gs(s)}function um(n,s){var r=n;n=0;do{var u=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=u}while(r)}function mc(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mc(r),Sl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function eS(n,s,r,u){for(;n.nodeType===1;){var p=r;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[co])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=ln(n.nextSibling),n===null)break}return null}function tS(n,s,r){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ln(n.nextSibling),n===null))return null;return n}function cm(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ln(n.nextSibling),n===null))return null;return n}function gc(n){return n.data==="$?"||n.data==="$~"}function yc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function nS(n,s){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||r.readyState!=="loading")s();else{var u=function(){s(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ln(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var vc=null;function dm(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(s===0)return ln(n.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}n=n.nextSibling}return null}function fm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return n;s--}else r!=="/$"&&r!=="/&"||s++}n=n.previousSibling}return null}function hm(n,s,r){switch(s=Sa(r),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Yo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Sl(n)}var un=new Map,pm=new Set;function Ta(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fn=j.d;j.d={f:iS,r:sS,D:oS,C:rS,L:aS,m:lS,X:cS,S:uS,M:dS};function iS(){var n=Fn.f(),s=fa();return n||s}function sS(n){var s=ss(n);s!==null&&s.tag===5&&s.type==="form"?Mh(s):Fn.r(n)}var Ps=typeof document>"u"?null:document;function mm(n,s,r){var u=Ps;if(u&&typeof s=="string"&&s){var p=en(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),pm.has(p)||(pm.add(p),n={rel:n,crossOrigin:r,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),bt(s,"link",n),mt(s),u.head.appendChild(s)))}}function oS(n){Fn.D(n),mm("dns-prefetch",n,null)}function rS(n,s){Fn.C(n,s),mm("preconnect",n,s)}function aS(n,s,r){Fn.L(n,s,r);var u=Ps;if(u&&n&&s){var p='link[rel="preload"][as="'+en(s)+'"]';s==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+en(r.imageSizes)+'"]')):p+='[href="'+en(n)+'"]';var y=p;switch(s){case"style":y=Ls(n);break;case"script":y=qs(n)}un.has(y)||(n=_({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:n,as:s},r),un.set(y,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(Ko(y))||s==="script"&&u.querySelector(jo(y))||(s=u.createElement("link"),bt(s,"link",n),mt(s),u.head.appendChild(s)))}}function lS(n,s){Fn.m(n,s);var r=Ps;if(r&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+en(u)+'"][href="'+en(n)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=qs(n)}if(!un.has(y)&&(n=_({rel:"modulepreload",href:n},s),un.set(y,n),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jo(y)))return}u=r.createElement("link"),bt(u,"link",n),mt(u),r.head.appendChild(u)}}}function uS(n,s,r){Fn.S(n,s,r);var u=Ps;if(u&&n){var p=os(u).hoistableStyles,y=Ls(n);s=s||"default";var T=p.get(y);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(Ko(y)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},r),(r=un.get(y))&&_c(n,r);var A=T=u.createElement("link");mt(A),bt(A,"link",n),A._p=new Promise(function(O,H){A.onload=O,A.onerror=H}),A.addEventListener("load",function(){b.loading|=1}),A.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ea(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:b},p.set(y,T)}}}function cS(n,s){Fn.X(n,s);var r=Ps;if(r&&n){var u=os(r).hoistableScripts,p=qs(n),y=u.get(p);y||(y=r.querySelector(jo(p)),y||(n=_({src:n,async:!0},s),(s=un.get(p))&&Sc(n,s),y=r.createElement("script"),mt(y),bt(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function dS(n,s){Fn.M(n,s);var r=Ps;if(r&&n){var u=os(r).hoistableScripts,p=qs(n),y=u.get(p);y||(y=r.querySelector(jo(p)),y||(n=_({src:n,async:!0,type:"module"},s),(s=un.get(p))&&Sc(n,s),y=r.createElement("script"),mt(y),bt(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function gm(n,s,r,u){var p=(p=Ee.current)?Ta(p):null;if(!p)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Ls(r.href),r=os(p).hoistableStyles,u=r.get(s),u||(u={type:"style",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Ls(r.href);var y=os(p).hoistableStyles,T=y.get(n);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=p.querySelector(Ko(n)))&&!y._p&&(T.instance=y,T.state.loading=5),un.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},un.set(n,r),y||fS(p,n,r,T.state))),s&&u===null)throw Error(o(528,""));return T}if(s&&u!==null)throw Error(o(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qs(r),r=os(p).hoistableScripts,u=r.get(s),u||(u={type:"script",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Ls(n){return'href="'+en(n)+'"'}function Ko(n){return'link[rel="stylesheet"]['+n+"]"}function ym(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function fS(n,s,r,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),bt(s,"link",r),mt(s),n.head.appendChild(s))}function qs(n){return'[src="'+en(n)+'"]'}function jo(n){return"script[async]"+n}function vm(n,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+en(r.href)+'"]');if(u)return s.instance=u,mt(u),u;var p=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),bt(u,"style",p),Ea(u,r.precedence,n),s.instance=u;case"stylesheet":p=Ls(r.href);var y=n.querySelector(Ko(p));if(y)return s.state.loading|=4,s.instance=y,mt(y),y;u=ym(r),(p=un.get(p))&&_c(u,p),y=(n.ownerDocument||n).createElement("link"),mt(y);var T=y;return T._p=new Promise(function(b,A){T.onload=b,T.onerror=A}),bt(y,"link",u),s.state.loading|=4,Ea(y,r.precedence,n),s.instance=y;case"script":return y=qs(r.src),(p=n.querySelector(jo(y)))?(s.instance=p,mt(p),p):(u=r,(p=un.get(y))&&(u=_({},r),Sc(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),mt(p),bt(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ea(u,r.precedence,n));return s.instance}function Ea(n,s,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===s)y=b;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(n,s.firstChild))}function _c(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Sc(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ba=null;function _m(n,s,r){if(ba===null){var u=new Map,p=ba=new Map;p.set(r,u)}else p=ba,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),p=0;p<r.length;p++){var y=r[p];if(!(y[co]||y[_t]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=n+T;var b=u.get(T);b?b.push(y):u.set(T,[y])}}return u}function Sm(n,s,r){n=n.ownerDocument||n,n.head.insertBefore(r,s==="title"?n.querySelector("head > title"):null)}function hS(n,s,r){if(r===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Tm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function pS(n,s,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Ls(u.href),y=s.querySelector(Ko(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=wa.bind(n),s.then(n,n)),r.state.loading|=4,r.instance=y,mt(y);return}y=s.ownerDocument||s,u=ym(u),(p=un.get(p))&&_c(u,p),y=y.createElement("link"),mt(y);var T=y;T._p=new Promise(function(b,A){T.onload=b,T.onerror=A}),bt(y,"link",u),r.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=wa.bind(n),s.addEventListener("load",r),s.addEventListener("error",r))}}var Tc=0;function mS(n,s){return n.stylesheets&&n.count===0&&Aa(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var u=setTimeout(function(){if(n.stylesheets&&Aa(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&Tc===0&&(Tc=62500*j_());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Aa(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Tc?50:800)+s);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function wa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xa=null;function Aa(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xa=new Map,s.forEach(gS,n),xa=null,wa.call(n))}function gS(n,s){if(!(s.state.loading&4)){var r=xa.get(n);if(r)var u=r.get(null);else{r=new Map,xa.set(n,r);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),u=T)}u&&r.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=r.get(T)||u,y===u&&r.set(null,p),r.set(T,p),this.count++,u=wa.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Xo={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function yS(n,s,r,u,p,y,T,b,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.hiddenUpdates=gl(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Em(n,s,r,u,p,y,T,b,A,O,H,B){return n=new yS(n,s,r,T,A,O,H,B,b),s=1,y===!0&&(s|=24),y=$t(3,null,null,s),n.current=y,y.stateNode=n,s=eu(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:s},su(y),n}function bm(n){return n?(n=ms,n):ms}function wm(n,s,r,u,p,y){p=bm(p),u.context===null?u.context=p:u.pendingContext=p,u=oi(s),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=ri(n,u,s),r!==null&&(Ht(r,n,s),Ro(r,n,s))}function xm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<s?r:s}}function Ec(n,s){xm(n,s),(n=n.alternate)&&xm(n,s)}function Am(n){if(n.tag===13||n.tag===31){var s=Ui(n,67108864);s!==null&&Ht(s,n,67108864),Ec(n,67108864)}}function Cm(n){if(n.tag===13||n.tag===31){var s=jt();s=yl(s);var r=Ui(n,s);r!==null&&Ht(r,n,s),Ec(n,s)}}var Ca=!0;function vS(n,s,r,u){var p=L.T;L.T=null;var y=j.p;try{j.p=2,bc(n,s,r,u)}finally{j.p=y,L.T=p}}function _S(n,s,r,u){var p=L.T;L.T=null;var y=j.p;try{j.p=8,bc(n,s,r,u)}finally{j.p=y,L.T=p}}function bc(n,s,r,u){if(Ca){var p=wc(u);if(p===null)uc(n,s,u,Ra,r),Nm(n,u);else if(TS(p,n,s,r,u))u.stopPropagation();else if(Nm(n,u),s&4&&-1<SS.indexOf(n)){for(;p!==null;){var y=ss(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Ni(y.pendingLanes);if(T!==0){var b=y;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var A=1<<31-zt(T);b.entanglements[1]|=A,T&=~A}wn(y),(Le&6)===0&&(ca=ne()+500,$o(0))}}break;case 31:case 13:b=Ui(y,2),b!==null&&Ht(b,y,2),fa(),Ec(y,2)}if(y=wc(u),y===null&&uc(n,s,u,Ra,r),y===p)break;p=y}p!==null&&u.stopPropagation()}else uc(n,s,u,null,r)}}function wc(n){return n=Al(n),xc(n)}var Ra=null;function xc(n){if(Ra=null,n=is(n),n!==null){var s=l(n);if(s===null)n=null;else{var r=s.tag;if(r===13){if(n=c(s),n!==null)return n;n=null}else if(r===31){if(n=h(s),n!==null)return n;n=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ra=n,null}function Rm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case Ne:return 2;case re:return 8;case it:case ft:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var Ac=!1,yi=null,vi=null,_i=null,Qo=new Map,Zo=new Map,Si=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nm(n,s){switch(n){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(s.pointerId)}}function Wo(n,s,r,u,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ss(s),s!==null&&Am(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function TS(n,s,r,u,p){switch(s){case"focusin":return yi=Wo(yi,n,s,r,u,p),!0;case"dragenter":return vi=Wo(vi,n,s,r,u,p),!0;case"mouseover":return _i=Wo(_i,n,s,r,u,p),!0;case"pointerover":var y=p.pointerId;return Qo.set(y,Wo(Qo.get(y)||null,n,s,r,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Zo.set(y,Wo(Zo.get(y)||null,n,s,r,u,p)),!0}return!1}function Im(n){var s=is(n.target);if(s!==null){var r=l(s);if(r!==null){if(s=r.tag,s===13){if(s=c(r),s!==null){n.blockedOn=s,Bd(n.priority,function(){Cm(r)});return}}else if(s===31){if(s=h(r),s!==null){n.blockedOn=s,Bd(n.priority,function(){Cm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Na(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var r=wc(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);xl=u,r.target.dispatchEvent(u),xl=null}else return s=ss(r),s!==null&&Am(s),n.blockedOn=r,!1;s.shift()}return!0}function Mm(n,s,r){Na(n)&&r.delete(s)}function ES(){Ac=!1,yi!==null&&Na(yi)&&(yi=null),vi!==null&&Na(vi)&&(vi=null),_i!==null&&Na(_i)&&(_i=null),Qo.forEach(Mm),Zo.forEach(Mm)}function Ia(n,s){n.blockedOn===s&&(n.blockedOn=null,Ac||(Ac=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ES)))}var Ma=null;function km(n){Ma!==n&&(Ma=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ma===n&&(Ma=null);for(var s=0;s<n.length;s+=3){var r=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(xc(u||r)===null)continue;break}var y=ss(r);y!==null&&(n.splice(s,3),s-=3,wu(y,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function Gs(n){function s(A){return Ia(A,n)}yi!==null&&Ia(yi,n),vi!==null&&Ia(vi,n),_i!==null&&Ia(_i,n),Qo.forEach(s),Zo.forEach(s);for(var r=0;r<Si.length;r++){var u=Si[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)Im(r),r.blockedOn===null&&Si.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],y=r[u+1],T=p[Ut]||null;if(typeof y=="function")T||km(r);else if(T){var b=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Ut]||null)b=T.formAction;else if(xc(p)!==null)continue}else b=T.action;typeof b=="function"?r[u+1]=b:(r.splice(u,3),u-=3),km(r)}}}function Dm(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Cc(n){this._internalRoot=n}ka.prototype.render=Cc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var r=s.current,u=jt();wm(r,u,n,s,null,null)},ka.prototype.unmount=Cc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;wm(n.current,2,null,n,null,null),fa(),s[ns]=null}};function ka(n){this._internalRoot=n}ka.prototype.unstable_scheduleHydration=function(n){if(n){var s=zd();n={blockedOn:null,target:n,priority:s};for(var r=0;r<Si.length&&s!==0&&s<Si[r].priority;r++);Si.splice(r,0,n),r===0&&Im(n)}};var Um=e.version;if(Um!=="19.2.3")throw Error(o(527,Um,"19.2.3"));j.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var bS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{Vt=Da.inject(bS),le=Da}catch{}}return tr.createRoot=function(n,s){if(!a(n))throw Error(o(299));var r=!1,u="",p=Vh,y=zh,T=Bh;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Em(n,1,!1,null,null,r,u,null,p,y,T,Dm),n[ns]=s.current,lc(n),new Cc(s)},tr.hydrateRoot=function(n,s,r){if(!a(n))throw Error(o(299));var u=!1,p="",y=Vh,T=zh,b=Bh,A=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),s=Em(n,1,!0,s,r??null,u,p,A,y,T,b,Dm),s.context=bm(null),r=s.current,u=jt(),u=yl(u),p=oi(u),p.callback=null,ri(r,p,u),r=u,s.current.lanes=r,uo(s,r),wn(s),n[ns]=s.current,lc(n),new ka(s)},tr.version="19.2.3",tr}var $m;function US(){if($m)return Ic.exports;$m=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ic.exports=DS(),Ic.exports}var OS=US();const PS=Qy(OS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),Fm=t=>{const e=qS(t);return e.charAt(0).toUpperCase()+e.slice(1)},Zy=(...t)=>t.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),GS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=ce.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...h},g)=>ce.createElement("svg",{ref:g,...HS,width:e,height:e,stroke:t,strokeWidth:o?Number(i)*24/Number(e):i,className:Zy("lucide",a),...!l&&!GS(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,v])=>ce.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const i=ce.forwardRef(({className:o,...a},l)=>ce.createElement(VS,{ref:l,iconNode:e,className:Zy(`lucide-${LS(Fm(t))}`,`lucide-${t}`,o),...a}));return i.displayName=Fm(t),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$a=we("arrow-right",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$S=we("book-open",BS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Jm=we("bot",FS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Jc=we("chart-column",JS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KS=we("check",YS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yc=we("chevron-right",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],QS=we("coins",XS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WS=we("compass",ZS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tT=we("download",eT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iT=we("external-link",nT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],oT=we("facebook",sT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ym=we("file-text",rT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lT=we("globe",aT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Kc=we("graduation-cap",uT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],dT=we("handshake",cT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],Ka=we("heart-pulse",fT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],pT=we("image-plus",hT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ua=we("image",mT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yT=we("info",gT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],_T=we("instagram",vT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ja=we("loader-circle",ST);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ET=we("mail",TT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wT=we("map-pin",bT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],jc=we("megaphone",xT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CT=we("menu",AT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],NT=we("message-circle",RT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],MT=we("phone",IT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uc=we("plus",kT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],UT=we("send",DT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xc=we("shield-check",OT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],LT=we("sparkles",PT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],GT=we("target",qT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nr=we("trash-2",HT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],zT=we("twitter",VT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Km=we("upload",BT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FT=we("user",$T);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fa=we("users",JT);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ei=we("x",YT),KT=({onNavigate:t,currentPage:e})=>{const[i,o]=ce.useState(!1),[a,l]=ce.useState(!1);ce.useEffect(()=>{const g=()=>l(window.scrollY>20);return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const c=[{label:"Home",value:"home"},{label:"About",value:"about"},{label:"Gallery",value:"gallery"},{label:"Resources",value:"resource-library"},{label:"Impact",value:"activities"},{label:"Partners",value:"partners"},{label:"Programs",value:"programs"},{label:"Get Involved",value:"involved"}],h=g=>{t(g),o(!1)};return S.jsxs("nav",{className:`fixed w-full z-50 transition-all duration-500 ${a?"bg-cream/95 backdrop-blur-md py-4 shadow-sm":"bg-transparent py-6"}`,children:[S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 flex justify-between items-center",children:[S.jsx("div",{className:"flex items-center space-x-2 group cursor-pointer",onClick:()=>h("home"),children:S.jsx("img",{src:xi.logo,alt:"Zankli Sicklecare Logo",className:"h-10 w-auto object-contain"})}),S.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[S.jsx("div",{className:"flex items-center space-x-8",children:c.map(g=>S.jsxs("button",{onClick:()=>h(g.value),className:`text-[11px] font-bold transition-colors uppercase tracking-[0.2em] relative group ${e===g.value?"text-burntOrange":"text-darkText/80 hover:text-burntOrange"}`,children:[g.label,S.jsx("span",{className:`absolute -bottom-1 left-0 h-[2px] bg-burntOrange transition-all duration-300 ${e===g.value?"w-full":"w-0 group-hover:w-full"}`})]},g.label))}),S.jsxs("div",{className:"flex items-center space-x-4 border-l border-burntOrange/10 pl-8",children:[S.jsxs("button",{onClick:()=>h("admin"),className:"text-[10px] font-black uppercase tracking-[0.2em] text-darkText/30 hover:text-burntOrange transition-all flex items-center space-x-2 group",children:[S.jsx(Xc,{size:14,className:"group-hover:scale-110 transition-transform"}),S.jsx("span",{children:"Portal"})]}),S.jsx("button",{onClick:()=>h("involved"),className:"bg-burntOrange text-cream px-6 py-2.5 rounded-full font-bold hover:shadow-lg hover:shadow-burntOrange/30 transition-all transform hover:-translate-y-0.5 active:scale-95",children:"Support Us"})]})]}),S.jsx("button",{className:"md:hidden text-darkText",onClick:()=>o(!i),children:i?S.jsx(Ei,{size:28}):S.jsx(CT,{size:28})})]}),i&&S.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-cream px-6 py-10 flex flex-col space-y-6 shadow-2xl border-t border-burntOrange/5 animate-in slide-in-from-top-4 duration-300",children:[S.jsx("div",{className:"flex flex-col space-y-6",children:c.map(g=>S.jsx("button",{className:`text-2xl font-serif font-bold text-left ${e===g.value?"text-burntOrange":"text-darkText"}`,onClick:()=>h(g.value),children:g.label},g.label))}),S.jsxs("div",{className:"flex flex-col space-y-4 pt-6 border-t border-burntOrange/10",children:[S.jsx("button",{onClick:()=>h("involved"),className:"bg-burntOrange text-cream py-5 rounded-2xl font-black uppercase tracking-widest shadow-lg shadow-burntOrange/20",children:"Support a Warrior"}),S.jsxs("button",{onClick:()=>h("admin"),className:"border-2 border-burntOrange/20 text-burntOrange py-4 rounded-2xl font-black uppercase tracking-widest flex items-center justify-center space-x-2",children:[S.jsx(Xc,{size:18}),S.jsx("span",{children:"Staff Login"})]})]})]})]})},jT=({onNavigate:t})=>S.jsxs("section",{className:"relative min-h-screen flex items-center pt-20 overflow-hidden bg-cream",children:[S.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-burntOrange/5 rounded-full blur-[120px] animate-pulse"}),S.jsx("div",{className:"absolute bottom-[-5%] left-[-5%] w-[400px] h-[400px] bg-accentOrange/5 rounded-full blur-[100px]"}),S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-1000 text-darkText",children:[S.jsxs("div",{className:"inline-flex items-center space-x-3 bg-white border border-burntOrange/10 px-5 py-2.5 rounded-full shadow-sm",children:[S.jsx(LT,{className:"text-burntOrange",size:16}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.25em] text-burntOrange",children:"Building Informed Communities"})]}),S.jsxs("h1",{className:"text-6xl lg:text-[80px] font-serif font-bold leading-[1.1] tracking-tight",children:["Advancing ",S.jsx("br",{}),S.jsx("span",{className:"text-burntOrange italic",children:"Sickle Cell"})," ",S.jsx("br",{}),"Awareness."]}),S.jsx("p",{className:"text-xl text-darkText/70 max-w-xl leading-relaxed font-medium",children:"Zankli Sicklecare Initiative is committed to improving awareness, prevention, management, and support for Sickle Cell Disease (SCD) locally and globally."}),S.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 pt-4",children:[S.jsxs("button",{onClick:()=>t("programs"),className:"bg-burntOrange text-cream px-10 py-5 rounded-2xl font-extrabold flex items-center justify-center space-x-3 hover:shadow-2xl hover:shadow-burntOrange/40 transition-all transform hover:-translate-y-1 active:scale-95 group",children:[S.jsx("span",{children:"Our Programs"}),S.jsx($a,{className:"group-hover:translate-x-1 transition-transform"})]}),S.jsx("button",{onClick:()=>t("about"),className:"bg-white border-2 border-burntOrange/10 text-darkText px-10 py-5 rounded-2xl font-extrabold hover:bg-burntOrange hover:text-cream transition-all flex items-center justify-center",children:"Our Mission"})]}),S.jsxs("div",{className:"pt-12 grid grid-cols-2 gap-8 border-t border-burntOrange/10",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"p-3 bg-burntOrange/5 rounded-xl",children:S.jsx(Ka,{className:"text-burntOrange",size:24})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-lg font-bold",children:"Direct Support"}),S.jsx("p",{className:"text-xs text-darkText/50 font-bold uppercase tracking-wider",children:"Crisis Prevention"})]})]}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"p-3 bg-burntOrange/5 rounded-xl",children:S.jsx(lT,{className:"text-burntOrange",size:24})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-lg font-bold",children:"Global Reach"}),S.jsx("p",{className:"text-xs text-darkText/50 font-bold uppercase tracking-wider",children:"Knowledge Sharing"})]})]})]})]}),S.jsxs("div",{className:"relative animate-in fade-in zoom-in duration-1000 delay-300",children:[S.jsxs("div",{className:"relative rounded-[4rem] overflow-hidden shadow-[0_40px_100px_-15px_rgba(191,87,0,0.2)] border-[12px] border-white",children:[S.jsx("img",{src:xi.heroImage,alt:"Care and Compassion",className:"w-full h-[650px] object-cover"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-burntOrange/30 to-transparent"})]}),S.jsxs("div",{className:"absolute -bottom-10 -left-10 bg-white p-8 rounded-[2.5rem] shadow-2xl border border-burntOrange/5 max-w-[240px] hidden xl:block",children:[S.jsx("p",{className:"text-sm font-bold text-burntOrange uppercase tracking-widest mb-2",children:"Impact"}),S.jsx("p",{className:"text-2xl font-serif font-bold text-darkText mb-1 tracking-tight",children:"Informed Care"}),S.jsx("p",{className:"text-xs text-darkText/50 leading-relaxed font-medium",children:"Strengthening support systems for warriors everywhere."})]})]})]})]}),XT=[{id:"01",targetPage:"awareness",title:"Awareness & Sensitization",desc:"Community outreaches, school engagements, and public campaigns to improve understanding of SCD, dispel myths, and reduce stigma.",icon:jc,accent:"text-orange-500"},{id:"02",targetPage:"prevention",title:"Prevention & Genotype Education",desc:"Promoting informed decision-making through genotype testing education, counseling, and community dialogue on sickle cell prevention.",icon:Kc,accent:"text-amber-600"},{id:"03",targetPage:"caregroup",title:"Care Group & Support",desc:"Safe spaces for people living with SCD and caregivers to connect, share experiences, and receive emotional and peer support.",icon:Fa,accent:"text-burntOrange"},{id:"04",targetPage:"capacity",title:"Capacity Building & Training",desc:"Engaging healthcare workers, volunteers, and advocates through knowledge sharing to strengthen sickle cell care delivery.",icon:Ka,accent:"text-red-500"},{id:"05",targetPage:"research",title:"Research, Data & Collaboration",desc:"Evidence-based programming through monitoring, evaluation, and partnerships to improve outcomes for sickle cell warriors.",icon:Jc,accent:"text-blue-500"}],QT=({onNavigate:t})=>S.jsx("section",{id:"programs",className:"py-32 bg-white relative overflow-hidden",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-end mb-20 space-y-8 lg:space-y-0",children:[S.jsxs("div",{className:"max-w-2xl space-y-6",children:[S.jsxs("div",{className:"flex items-center space-x-3 text-burntOrange",children:[S.jsx("div",{className:"w-10 h-[2px] bg-burntOrange"}),S.jsx("span",{className:"text-xs font-black uppercase tracking-[0.3em]",children:"Our Initiatives"})]}),S.jsxs("h2",{className:"text-5xl lg:text-6xl font-serif font-bold text-darkText tracking-tight",children:["Addressing sickle cell disease from prevention to long-term support through ",S.jsx("span",{className:"text-burntOrange italic underline decoration-burntOrange/20",children:"five core pillars."})]})]}),S.jsx("p",{className:"text-darkText/60 max-w-sm text-lg font-medium leading-relaxed",children:"Our initiatives are built on holistic support, integrated education, and medical advocacy to ensure no warrior walks alone."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[XT.map((e,i)=>S.jsxs("div",{className:"group relative p-10 rounded-[3rem] bg-cream border border-burntOrange/5 hover:bg-burntOrange transition-all duration-700 hover:shadow-[0_30px_60px_-15px_rgba(191,87,0,0.3)] hover:-translate-y-3",children:[S.jsxs("div",{className:"flex justify-between items-start mb-12",children:[S.jsx("div",{className:"p-5 rounded-2xl bg-white shadow-sm group-hover:bg-white/20 transition-colors",children:S.jsx(e.icon,{className:`${e.accent} group-hover:text-cream transition-colors`,size:32})}),S.jsx("span",{className:"text-4xl font-serif font-black text-burntOrange/10 group-hover:text-white/10 transition-colors",children:e.id})]}),S.jsx("h3",{className:"text-2xl font-bold mb-5 text-darkText group-hover:text-cream transition-all duration-300",children:e.title}),S.jsx("p",{className:"text-darkText/60 group-hover:text-cream/80 transition-all duration-300 leading-relaxed font-medium mb-8",children:e.desc}),S.jsxs("button",{onClick:()=>t(e.targetPage),className:"flex items-center space-x-2 text-burntOrange group-hover:text-cream font-black uppercase tracking-widest text-[10px] transition-all",children:[S.jsx("span",{children:"Explore Program"}),S.jsx(Yc,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]},i)),S.jsxs("div",{className:"relative p-10 rounded-[3rem] bg-darkText text-cream flex flex-col justify-center items-center text-center space-y-6 overflow-hidden group",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-burntOrange/20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),S.jsx("h4",{className:"text-3xl font-serif font-bold relative z-10",children:"Have an Idea for a Program?"}),S.jsx("p",{className:"text-cream/50 relative z-10 text-sm",children:"We value collaboration and community-driven innovation."}),S.jsx("button",{onClick:()=>t("involved","partner"),className:"bg-burntOrange text-cream px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] relative z-10 hover:scale-105 transition-transform active:scale-95 shadow-xl shadow-black/20",children:"Partner With Us"})]})]})]})});var ZT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WT,eE;function tE(){return{geminiUrl:WT,vertexUrl:eE}}function nE(t,e,i,o){var a,l;if(!(t!=null&&t.baseUrl)){const c=tE();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kn{}function Z(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(i))t[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(i))for(let m=0;m<g.length;m++){const v=g[m];f(v,e.slice(l+1),i[m])}else for(const m of g)f(m,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];f(g[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(o+1),i)):i}else return i}else t=t[a]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function iE(t,e){for(const[i,o]of Object.entries(e)){const a=i.split("."),l=o.split("."),c=new Set;let h=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){h=g;break}if(h!==-1&&l.length>h)for(let g=h;g<l.length;g++){const m=l[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}Qc(t,a,l,0,c)}}function Qc(t,e,i,o,a){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])Qc(g,e,i,o+1,a)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(m=>!m.startsWith("_")&&!a.has(m)),g={};for(const m of h)g[m]=c[m];for(const[m,v]of Object.entries(g)){const _=[];for(const E of i.slice(o))E==="*"?_.push(m):_.push(E);f(c,_,v)}for(const m of h)delete c[m]}}else{const c=t;l in c&&Qc(c[l],e,i,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["operationName"],i);const o=d(t,["resourceName"]);return o!=null&&f(e,["_url","resourceName"],o),e}function oE(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],aE(c)),e}function rE(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],lE(c)),e}function aE(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>uE(c))),f(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function lE(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>cE(c))),f(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function uE(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],gE(i)),e}function cE(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],yE(i)),e}function dE(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function fE(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function hE(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],pE(c)),e}function pE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&f(e,["parent"],o);const a=d(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function Wy(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],mE(c)),e}function mE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&f(e,["parent"],o);const a=d(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function gE(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&f(e,["videoBytes"],bd(o));const a=d(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function yE(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],bd(o));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(jm||(jm={}));var Xm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Xm||(Xm={}));var Qm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Qm||(Qm={}));var Ai;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ai||(Ai={}));var Zm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zm||(Zm={}));var Wm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Wm||(Wm={}));var eg;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eg||(eg={}));var tg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tg||(tg={}));var ng;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ng||(ng={}));var ig;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ig||(ig={}));var sg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(sg||(sg={}));var og;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(og||(og={}));var rg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rg||(rg={}));var ag;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ag||(ag={}));var lg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(lg||(lg={}));var ug;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(ug||(ug={}));var cg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(cg||(cg={}));var dg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dg||(dg={}));var fg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fg||(fg={}));var hg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(hg||(hg={}));var pg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(pg||(pg={}));var Xa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xa||(Xa={}));var mg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(mg||(mg={}));var gg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(gg||(gg={}));var yg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(yg||(yg={}));var Zc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zc||(Zc={}));var vg;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(vg||(vg={}));var _g;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(_g||(_g={}));var Sg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Sg||(Sg={}));var Tg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Tg||(Tg={}));var Eg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Eg||(Eg={}));var bg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(bg||(bg={}));var wg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(wg||(wg={}));var xg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xg||(xg={}));var Ag;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ag||(Ag={}));var Cg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cg||(Cg={}));var Rg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rg||(Rg={}));var Ng;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ng||(Ng={}));var Ig;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ig||(Ig={}));var Mg;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Mg||(Mg={}));var kg;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kg||(kg={}));var Dg;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Dg||(Dg={}));var Ug;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ug||(Ug={}));var Og;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Og||(Og={}));var Pg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Pg||(Pg={}));var Lg;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Lg||(Lg={}));var qg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(qg||(qg={}));var Gg;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Gg||(Gg={}));var Hg;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Hg||(Hg={}));var Vg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vg||(Vg={}));var zg;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zg||(zg={}));var Bg;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Bg||(Bg={}));var $g;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($g||($g={}));var Fg;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fg||(Fg={}));var Jg;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Jg||(Jg={}));var Xs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xs||(Xs={}));class Wc{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class ir{get text(){var e,i,o,a,l,c,h,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const E of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[w,x]of Object.entries(E))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(x!==null||x!==void 0)&&_.push(w);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,o,a,l,c,h,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[E,w]of Object.entries(_))E!=="inlineData"&&(w!==null||w!==void 0)&&v.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,o,a,l,c,h,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,o,a,l,c,h,g,m;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,o,a,l,c,h,g,m;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Yg{}class Kg{}class vE{}class _E{}class SE{}class TE{}class jg{}class Xg{}class Qg{}class EE{}class Qa{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Qa;let a;const l=e;return i?a=rE(l):a=oE(l),Object.assign(o,a),o}}class Zg{}class Wg{}class ey{}class ty{}class bE{}class wE{}class xE{}class wd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new wd,l=hE(e);return Object.assign(o,l),o}}class AE{}class CE{}class RE{}class ny{}class NE{get text(){var e,i,o;let a="",l=!1;const c=[];for(const h of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,a+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,o;let a="";const l=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class IE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new xd,l=Wy(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ev(t,e){const i=Oe(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function tv(t){return Array.isArray(t)?t.map(e=>Za(e)):[Za(t)]}function Za(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function nv(t){const e=Za(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iv(t){const e=Za(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>iy(e)):[iy(t)]}function ed(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function sy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function oy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nt(t){if(t==null)throw new Error("ContentUnion is required");return ed(t)?t:{role:"user",parts:sv(t)}}function Ad(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Nt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=Nt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Nt(i)):[Nt(e)]}function cn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(sy(t)||oy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(t)]}const e=[],i=[],o=ed(t[0]);for(const a of t){const l=ed(a);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(sy(a)||oy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:sv(i)}),e}function ME(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(Ai).includes(i[0].toUpperCase())?i[0].toUpperCase():Ai.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(Ai).includes(o.toUpperCase())?o.toUpperCase():Ai.TYPE_UNSPECIFIED})}}function Ws(t){const e={},i=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&ME(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Ai).includes(h.toUpperCase())?h.toUpperCase():Ai.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Ws(h);else if(o.includes(c)){const g=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}g.push(Ws(m))}e[c]=g}else if(a.includes(c)){const g={};for(const[m,v]of Object.entries(h))g[m]=Ws(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Cd(t){return Ws(t)}function Rd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function no(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ws(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ws(e.response));return t}function io(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function kE(t,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function jn(t,e){if(typeof e!="string")throw new Error("name must be a string");return kE(t,e,"cachedContents")}function ov(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ci(t){return bd(t)}function DE(t){return t!=null&&typeof t=="object"&&"name"in t}function UE(t){return t!=null&&typeof t=="object"&&"video"in t}function OE(t){return t!=null&&typeof t=="object"&&"uri"in t}function rv(t){var e;let i;if(DE(t)&&(i=t.name),!(OE(t)&&(i=t.uri,i===void 0))&&!(UE(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function av(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function lv(t){for(const e of["models","tunedModels","publisherModels"])if(PE(t,e))return t[e];return[]}function PE(t,e){return t!==null&&typeof t=="object"&&e in t}function LE(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function qE(t,e={}){const i=[],o=new Set;for(const a of t){const l=a.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const c=LE(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function uv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function GE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cv(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function so(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function dv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(t){const e={},i=d(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const o=d(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Sb(c))),f(e,["inlinedResponses"],l)}const a=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function VE(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const o=d(t,["gcsDestination","outputUriPrefix"]);o!=null&&f(e,["gcsUri"],o);const a=d(t,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function zE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const o=d(t,["gcsUri"]);o!=null&&f(e,["gcsDestination","outputUriPrefix"],o);const a=d(t,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ja(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata","displayName"]);o!=null&&f(e,["displayName"],o);const a=d(t,["metadata","state"]);a!=null&&f(e,["state"],dv(a));const l=d(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=d(t,["metadata","model"]);g!=null&&f(e,["model"],g);const m=d(t,["metadata","output"]);return m!=null&&f(e,["dest"],HE(cv(m))),e}function td(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["displayName"]);o!=null&&f(e,["displayName"],o);const a=d(t,["state"]);a!=null&&f(e,["state"],dv(a));const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(e,["startTime"],h);const g=d(t,["endTime"]);g!=null&&f(e,["endTime"],g);const m=d(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=d(t,["model"]);v!=null&&f(e,["model"],v);const _=d(t,["inputConfig"]);_!=null&&f(e,["src"],BE(_));const E=d(t,["outputConfig"]);E!=null&&f(e,["dest"],VE(cv(E)));const w=d(t,["completionStats"]);return w!=null&&f(e,["completionStats"],w),e}function BE(t){const e={},i=d(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const o=d(t,["gcsSource","uris"]);o!=null&&f(e,["gcsUri"],o);const a=d(t,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function $E(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&f(i,["fileName"],o);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>_b(t,c))),f(i,["requests","requests"],l)}return i}function FE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const o=d(t,["gcsUri"]);o!=null&&f(e,["gcsSource","uris"],o);const a=d(t,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function JE(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function YE(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],so(t,o)),i}function KE(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],so(t,o)),i}function jE(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],XE(o));const a=d(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(t,["index"]);g!=null&&f(e,["index"],g);const m=d(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=d(t,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(w=>w)),f(e,["safetyRatings"],E)}const _=d(t,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function XE(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["citations"],o)}return e}function fv(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Cb(l))),f(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function QE(t,e){const i={},o=d(t,["displayName"]);if(e!==void 0&&o!=null&&f(e,["batch","displayName"],o),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function ZE(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=d(t,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],zE(GE(a))),i}function ry(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],$E(t,uv(t,a)));const l=d(e,["config"]);return l!=null&&QE(l,i),i}function WE(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],Oe(t,o));const a=d(e,["src"]);a!=null&&f(i,["inputConfig"],FE(uv(t,a)));const l=d(e,["config"]);return l!=null&&ZE(l,i),i}function eb(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&f(e,["batch","displayName"],o),i}function tb(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],lb(t,a));const l=d(e,["config"]);return l!=null&&eb(l,i),i}function nb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],so(t,o)),i}function ib(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],so(t,o)),i}function sb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function ob(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function rb(t,e){const i={},o=d(e,["contents"]);if(o!=null){let l=Ad(t,o);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(f(i,["_self"],ab(a,i)),iE(i,{"requests[].*":"requests[].request.*"})),i}function ab(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const a=d(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function lb(t,e){const i={},o=d(e,["fileName"]);o!=null&&f(i,["file_name"],o);const a=d(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],rb(t,a)),i}function ub(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function cb(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function db(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&f(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fb(t,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],fv(Nt(a)));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(o,["candidateCount"],g);const m=d(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&f(o,["logprobs"],E);const w=d(e,["presencePenalty"]);w!=null&&f(o,["presencePenalty"],w);const x=d(e,["frequencyPenalty"]);x!=null&&f(o,["frequencyPenalty"],x);const C=d(e,["seed"]);C!=null&&f(o,["seed"],C);const R=d(e,["responseMimeType"]);R!=null&&f(o,["responseMimeType"],R);const k=d(e,["responseSchema"]);k!=null&&f(o,["responseSchema"],Cd(k));const G=d(e,["responseJsonSchema"]);if(G!=null&&f(o,["responseJsonSchema"],G),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(e,["safetySettings"]);if(i!==void 0&&D!=null){let Me=D;Array.isArray(Me)&&(Me=Me.map(Qe=>Rb(Qe))),f(i,["safetySettings"],Me)}const F=d(e,["tools"]);if(i!==void 0&&F!=null){let Me=io(F);Array.isArray(Me)&&(Me=Me.map(Qe=>Ib(no(Qe)))),f(i,["tools"],Me)}const X=d(e,["toolConfig"]);if(i!==void 0&&X!=null&&f(i,["toolConfig"],Nb(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],jn(t,Y));const J=d(e,["responseModalities"]);J!=null&&f(o,["responseModalities"],J);const me=d(e,["mediaResolution"]);me!=null&&f(o,["mediaResolution"],me);const W=d(e,["speechConfig"]);if(W!=null&&f(o,["speechConfig"],Rd(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&f(o,["thinkingConfig"],be);const Pe=d(e,["imageConfig"]);Pe!=null&&f(o,["imageConfig"],vb(Pe));const Ye=d(e,["enableEnhancedCivicAnswers"]);return Ye!=null&&f(o,["enableEnhancedCivicAnswers"],Ye),o}function hb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(m=>jE(m))),f(e,["candidates"],g)}const a=d(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function pb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],so(t,o)),i}function mb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],so(t,o)),i}function gb(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function yb(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function vb(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _b(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["request","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let h=cn(a);Array.isArray(h)&&(h=h.map(g=>fv(g))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],fb(t,c,d(i,["request"],{}))),i}function Sb(t){const e={},i=d(t,["response"]);i!=null&&f(e,["response"],hb(i));const o=d(t,["error"]);return o!=null&&f(e,["error"],o),e}function Tb(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Eb(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function bb(t){const e={},i=d(t,["config"]);return i!=null&&Tb(i,e),e}function wb(t){const e={},i=d(t,["config"]);return i!=null&&Eb(i,e),e}function xb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Ja(c))),f(e,["batchJobs"],l)}return e}function Ab(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>td(c))),f(e,["batchJobs"],l)}return e}function Cb(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],ub(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],cb(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],JE(g));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Rb(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function Nb(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],db(o)),e}function Ib(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],gb(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],yb(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Yn||(Yn={}));class es{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb extends Kn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new es(Yn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=ry(this.apiClient,e),o=i._url,a=Z("{model}:batchGenerateContent",o),h=i.batch.inputConfig.requests,g=h.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const E=_.systemInstruction;delete _.systemInstruction;const w=_.request;w.systemInstruction=E,_.request=w}m.push(_)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${a}`;else if(c)o.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=WE(this.apiClient,e);return h=Z("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>td(v))}else{const m=ry(this.apiClient,e);return h=Z("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Ja(v))}}async createEmbeddingsInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tb(this.apiClient,e);return l=Z("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>Ja(g))}}async get(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=mb(this.apiClient,e);return h=Z("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>td(v))}else{const m=pb(this.apiClient,e);return h=Z("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Ja(v))}}async cancel(e){var i,o,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const g=KE(this.apiClient,e);c=Z("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=YE(this.apiClient,e);c=Z("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=wb(e);return h=Z("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Ab(v),E=new ny;return Object.assign(E,_),E})}else{const m=bb(e);return h=Z("batches",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=xb(v),E=new ny;return Object.assign(E,_),E})}}async delete(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=ib(this.apiClient,e);return h=Z("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>ob(v))}else{const m=nb(this.apiClient,e);return h=Z("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>sb(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function ay(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>tw(l))),f(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function Db(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=cn(c);Array.isArray(v)&&(v=v.map(_=>ay(_))),f(e,["contents"],v)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],ay(Nt(h)));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>iw(_))),f(e,["tools"],v)}const m=d(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],nw(m)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Ub(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let _=cn(c);Array.isArray(_)&&(_=_.map(E=>E)),f(e,["contents"],_)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Nt(h));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(E=>sw(E))),f(e,["tools"],_)}const m=d(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function Ob(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],ev(t,o));const a=d(e,["config"]);return a!=null&&Db(a,i),i}function Pb(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],ev(t,o));const a=d(e,["config"]);return a!=null&&Ub(a,i),i}function Lb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],jn(t,o)),i}function qb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],jn(t,o)),i}function Gb(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Hb(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Vb(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function zb(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bb(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&f(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $b(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const a=d(t,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Fb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],jn(t,o)),i}function Jb(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],jn(t,o)),i}function Yb(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Kb(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function jb(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Xb(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Qb(t){const e={},i=d(t,["config"]);return i!=null&&jb(i,e),e}function Zb(t){const e={},i=d(t,["config"]);return i!=null&&Xb(i,e),e}function Wb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function ew(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function tw(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],Vb(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],zb(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],kb(g));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function nw(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],Bb(o)),e}function iw(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],Yb(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],Kb(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function sw(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>$b(E))),f(e,["functionDeclarations"],_)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=d(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function ow(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function rw(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function aw(t,e){const i={},o=d(e,["name"]);o!=null&&f(i,["_url","name"],jn(t,o));const a=d(e,["config"]);return a!=null&&ow(a,i),i}function lw(t,e){const i={},o=d(e,["name"]);o!=null&&f(i,["_url","name"],jn(t,o));const a=d(e,["config"]);return a!=null&&rw(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uw extends Kn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new es(Yn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Pb(this.apiClient,e);return h=Z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=Ob(this.apiClient,e);return h=Z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Jb(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=Fb(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=qb(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Hb(v),E=new ey;return Object.assign(E,_),E})}else{const m=Lb(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Gb(v),E=new ey;return Object.assign(E,_),E})}}async update(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=lw(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=aw(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Zb(e);return h=Z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=ew(v),E=new ty;return Object.assign(E,_),E})}else{const m=Qb(e);return h=Z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Wb(v),E=new ty;return Object.assign(E,_),E})}}}function Wa(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(i[o[a]]=t[o[a]]);return i}function ly(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(t){return this instanceof ge?(this.v=t,this):new ge(t)}function vn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(w){return function(x){return Promise.resolve(x).then(w,_)}}function h(w,x){o[w]&&(a[w]=function(C){return new Promise(function(R,k){l.push([w,C,R,k])>1||g(w,C)})},x&&(a[w]=x(a[w])))}function g(w,x){try{m(o[w](x))}catch(C){E(l[0][3],C)}}function m(w){w.value instanceof ge?Promise.resolve(w.value.v).then(v,_):E(l[0][2],w)}function v(w){g("next",w)}function _(w){g("throw",w)}function E(w,x){w(x),l.shift(),l.length&&g(l[0][0],l[0][1])}}function _n(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof ly=="function"?ly(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=t[l]&&function(c){return new Promise(function(h,g){c=t[l](c),a(h,g,c.done,c.value)})}}function a(l,c,h,g){Promise.resolve(g).then(function(m){l({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cw(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:hv(i)}function hv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function dw(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function uy(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let l=!0;for(;o<i&&t[o].role==="model";)a.push(t[o]),l&&!hv(t[o])&&(l=!1),o++;l?e.push(...a):e.pop()}return e}class fw{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new hw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class hw{constructor(e,i,o,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),dw(l)}async sendMessage(e){var i;await this.sendPromise;const o=Nt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const g=await a,m=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(_))!==null&&h!==void 0?h:[]);const w=m?[m]:[];this.recordHistory(o,w,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=Nt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,o)}getHistory(e=!1){const i=e?uy(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return vn(this,arguments,function*(){var a,l,c,h,g,m;const v=[];try{for(var _=!0,E=_n(e),w;w=yield ge(E.next()),a=w.done,!a;_=!0){h=w.value,_=!1;const x=h;if(cw(x)){const C=(m=(g=x.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;C!==void 0&&v.push(C)}yield yield ge(x)}}catch(x){l={error:x}}finally{try{!_&&!a&&(c=E.return)&&(yield ge(c.call(E)))}finally{if(l)throw l.error}}this.recordHistory(i,v)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...uy(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ol.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pw(t){const e={},i=d(t,["file"]);return i!=null&&f(e,["file"],i),e}function mw(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function gw(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],rv(i)),e}function yw(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function vw(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],rv(i)),e}function _w(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Sw(t){const e={},i=d(t,["config"]);return i!=null&&_w(i,e),e}function Tw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ew extends Kn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new es(Yn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Sw(e);return l=Z("files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=Tw(g),v=new AE;return Object.assign(v,m),v})}}async createInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=pw(e);return l=Z("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=mw(g),v=new CE;return Object.assign(v,m),v})}}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vw(e);return l=Z("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gw(e);return l=Z("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=yw(g),v=new RE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ya(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function bw(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Gw(l))),f(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function ww(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function xw(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aw(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const a=d(t,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Cw(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const a=d(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(t,["logprobs"]);g!=null&&f(e,["logprobs"],g);const m=d(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=d(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const E=d(t,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const w=d(t,["responseMimeType"]);w!=null&&f(e,["responseMimeType"],w);const x=d(t,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const C=d(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);const R=d(t,["routingConfig"]);R!=null&&f(e,["routingConfig"],R);const k=d(t,["seed"]);k!=null&&f(e,["seed"],k);const G=d(t,["speechConfig"]);G!=null&&f(e,["speechConfig"],G);const D=d(t,["stopSequences"]);D!=null&&f(e,["stopSequences"],D);const F=d(t,["temperature"]);F!=null&&f(e,["temperature"],F);const X=d(t,["thinkingConfig"]);X!=null&&f(e,["thinkingConfig"],X);const Y=d(t,["topK"]);Y!=null&&f(e,["topK"],Y);const J=d(t,["topP"]);if(J!=null&&f(e,["topP"],J),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Rw(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Nw(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Iw(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Nd(_));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const w=d(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],bw(Nt(x)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let Y=io(C);Array.isArray(Y)&&(Y=Y.map(J=>Vw(no(J)))),f(e,["setup","tools"],Y)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],Hw(R));const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);const G=d(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","outputAudioTranscription"],G);const D=d(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&f(e,["setup","realtimeInputConfig"],D);const F=d(t,["contextWindowCompression"]);e!==void 0&&F!=null&&f(e,["setup","contextWindowCompression"],F);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&f(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function Mw(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],Cw(o));const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Nd(_));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const w=d(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],Nt(x));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let J=io(C);Array.isArray(J)&&(J=J.map(me=>zw(no(me)))),f(e,["setup","tools"],J)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],R);const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);const G=d(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","outputAudioTranscription"],G);const D=d(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&f(e,["setup","realtimeInputConfig"],D);const F=d(t,["contextWindowCompression"]);e!==void 0&&F!=null&&f(e,["setup","contextWindowCompression"],F);const X=d(t,["proactivity"]);e!==void 0&&X!=null&&f(e,["setup","proactivity"],X);const Y=d(t,["explicitVadSignal"]);return e!==void 0&&Y!=null&&f(e,["setup","explicitVadSignal"],Y),i}function kw(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],Oe(t,o));const a=d(e,["config"]);return a!=null&&f(i,["config"],Iw(a,i)),i}function Dw(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],Oe(t,o));const a=d(e,["config"]);return a!=null&&f(i,["config"],Mw(a,i)),i}function Uw(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function Ow(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["weightedPrompts"],o)}return e}function Pw(t){const e={},i=d(t,["media"]);if(i!=null){let m=tv(i);Array.isArray(m)&&(m=m.map(v=>Ya(v))),f(e,["mediaChunks"],m)}const o=d(t,["audio"]);o!=null&&f(e,["audio"],Ya(iv(o)));const a=d(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(t,["video"]);l!=null&&f(e,["video"],Ya(nv(l)));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(t,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function Lw(t){const e={},i=d(t,["media"]);if(i!=null){let m=tv(i);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const o=d(t,["audio"]);o!=null&&f(e,["audio"],iv(o));const a=d(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(t,["video"]);l!=null&&f(e,["video"],nv(l));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(t,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function qw(t){const e={},i=d(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const o=d(t,["serverContent"]);o!=null&&f(e,["serverContent"],o);const a=d(t,["toolCall"]);a!=null&&f(e,["toolCall"],a);const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],Bw(c));const h=d(t,["goAway"]);h!=null&&f(e,["goAway"],h);const g=d(t,["sessionResumptionUpdate"]);g!=null&&f(e,["sessionResumptionUpdate"],g);const m=d(t,["voiceActivityDetectionSignal"]);m!=null&&f(e,["voiceActivityDetectionSignal"],m);const v=d(t,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],$w(v)),e}function Gw(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],ww(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],xw(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],Ya(g));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Hw(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vw(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],Rw(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],Nw(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function zw(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>Aw(E))),f(e,["functionDeclarations"],_)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=d(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Bw(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(e,["cachedContentTokenCount"],o);const a=d(t,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=d(t,["promptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(x=>x)),f(e,["promptTokensDetails"],w)}const m=d(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(x=>x)),f(e,["cacheTokensDetails"],w)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(x=>x)),f(e,["responseTokensDetails"],w)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let w=_;Array.isArray(w)&&(w=w.map(x=>x)),f(e,["toolUsePromptTokensDetails"],w)}const E=d(t,["trafficType"]);return E!=null&&f(e,["trafficType"],E),e}function $w(t){const e={},i=d(t,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Jw(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],Yw(o));const a=d(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(t,["index"]);g!=null&&f(e,["index"],g);const m=d(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=d(t,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(w=>w)),f(e,["safetyRatings"],E)}const _=d(t,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function Yw(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["citations"],o)}return e}function Kw(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let l=cn(a);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["contents"],l)}return i}function jw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["tokensInfo"],a)}return e}function Xw(t){const e={},i=d(t,["values"]);i!=null&&f(e,["values"],i);const o=d(t,["statistics"]);return o!=null&&f(e,["statistics"],Qw(o)),e}function Qw(t){const e={},i=d(t,["truncated"]);i!=null&&f(e,["truncated"],i);const o=d(t,["token_count"]);return o!=null&&f(e,["tokenCount"],o),e}function rl(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>rA(l))),f(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function Zw(t){const e={},i=d(t,["controlType"]);i!=null&&f(e,["controlType"],i);const o=d(t,["enableControlImageComputation"]);return o!=null&&f(e,["computeControl"],o),e}function Ww(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ex(t,e){const i={},o=d(t,["systemInstruction"]);e!==void 0&&o!=null&&f(e,["systemInstruction"],Nt(o));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>yv(h))),f(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],Fx(l)),i}function tx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(h=>rl(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&Ww(l),i}function nx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&ex(l,i),i}function ix(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["totalTokens"]);o!=null&&f(e,["totalTokens"],o);const a=d(t,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function sx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["totalTokens"]);return o!=null&&f(e,["totalTokens"],o),e}function ox(t,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],Oe(t,o)),i}function rx(t,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],Oe(t,o)),i}function ax(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function lx(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function ux(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const g=d(t,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const w=d(t,["language"]);e!==void 0&&w!=null&&f(e,["parameters","language"],w);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const C=d(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C);const R=d(t,["addWatermark"]);e!==void 0&&R!=null&&f(e,["parameters","addWatermark"],R);const k=d(t,["labels"]);e!==void 0&&k!=null&&f(e,["labels"],k);const G=d(t,["editMode"]);e!==void 0&&G!=null&&f(e,["parameters","editMode"],G);const D=d(t,["baseSteps"]);return e!==void 0&&D!=null&&f(e,["parameters","editConfig","baseSteps"],D),i}function cx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>fA(g))),f(i,["instances[0]","referenceImages"],h)}const c=d(e,["config"]);return c!=null&&ux(c,i),i}function dx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>al(l))),f(e,["generatedImages"],a)}return e}function fx(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const a=d(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function hx(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&f(e,["instances[]","task_type"],o);const a=d(t,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=d(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),i}function px(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let h=Ad(t,a);Array.isArray(h)&&(h=h.map(g=>g)),f(i,["requests[]","content"],h)}const l=d(e,["config"]);l!=null&&fx(l,i);const c=d(e,["model"]);return c!==void 0&&f(i,["requests[]","model"],Oe(t,c)),i}function mx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let c=Ad(t,a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&hx(l,i),i}function gx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const a=d(t,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function yx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Xw(c))),f(e,["embeddings"],l)}const a=d(t,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function vx(t){const e={},i=d(t,["endpoint"]);i!=null&&f(e,["name"],i);const o=d(t,["deployedModelId"]);return o!=null&&f(e,["deployedModelId"],o),e}function _x(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Sx(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tx(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&f(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ex(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const a=d(t,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bx(t,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],rl(Nt(a)));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(o,["candidateCount"],g);const m=d(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&f(o,["logprobs"],E);const w=d(e,["presencePenalty"]);w!=null&&f(o,["presencePenalty"],w);const x=d(e,["frequencyPenalty"]);x!=null&&f(o,["frequencyPenalty"],x);const C=d(e,["seed"]);C!=null&&f(o,["seed"],C);const R=d(e,["responseMimeType"]);R!=null&&f(o,["responseMimeType"],R);const k=d(e,["responseSchema"]);k!=null&&f(o,["responseSchema"],Cd(k));const G=d(e,["responseJsonSchema"]);if(G!=null&&f(o,["responseJsonSchema"],G),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(e,["safetySettings"]);if(i!==void 0&&D!=null){let Me=D;Array.isArray(Me)&&(Me=Me.map(Qe=>hA(Qe))),f(i,["safetySettings"],Me)}const F=d(e,["tools"]);if(i!==void 0&&F!=null){let Me=io(F);Array.isArray(Me)&&(Me=Me.map(Qe=>SA(no(Qe)))),f(i,["tools"],Me)}const X=d(e,["toolConfig"]);if(i!==void 0&&X!=null&&f(i,["toolConfig"],_A(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],jn(t,Y));const J=d(e,["responseModalities"]);J!=null&&f(o,["responseModalities"],J);const me=d(e,["mediaResolution"]);me!=null&&f(o,["mediaResolution"],me);const W=d(e,["speechConfig"]);if(W!=null&&f(o,["speechConfig"],Rd(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&f(o,["thinkingConfig"],be);const Pe=d(e,["imageConfig"]);Pe!=null&&f(o,["imageConfig"],Xx(Pe));const Ye=d(e,["enableEnhancedCivicAnswers"]);return Ye!=null&&f(o,["enableEnhancedCivicAnswers"],Ye),o}function wx(t,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Nt(a));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(o,["candidateCount"],g);const m=d(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const E=d(e,["logprobs"]);E!=null&&f(o,["logprobs"],E);const w=d(e,["presencePenalty"]);w!=null&&f(o,["presencePenalty"],w);const x=d(e,["frequencyPenalty"]);x!=null&&f(o,["frequencyPenalty"],x);const C=d(e,["seed"]);C!=null&&f(o,["seed"],C);const R=d(e,["responseMimeType"]);R!=null&&f(o,["responseMimeType"],R);const k=d(e,["responseSchema"]);k!=null&&f(o,["responseSchema"],Cd(k));const G=d(e,["responseJsonSchema"]);G!=null&&f(o,["responseJsonSchema"],G);const D=d(e,["routingConfig"]);D!=null&&f(o,["routingConfig"],D);const F=d(e,["modelSelectionConfig"]);F!=null&&f(o,["modelConfig"],F);const X=d(e,["safetySettings"]);if(i!==void 0&&X!=null){let L=X;Array.isArray(L)&&(L=L.map(j=>j)),f(i,["safetySettings"],L)}const Y=d(e,["tools"]);if(i!==void 0&&Y!=null){let L=io(Y);Array.isArray(L)&&(L=L.map(j=>yv(no(j)))),f(i,["tools"],L)}const J=d(e,["toolConfig"]);i!==void 0&&J!=null&&f(i,["toolConfig"],J);const me=d(e,["labels"]);i!==void 0&&me!=null&&f(i,["labels"],me);const W=d(e,["cachedContent"]);i!==void 0&&W!=null&&f(i,["cachedContent"],jn(t,W));const be=d(e,["responseModalities"]);be!=null&&f(o,["responseModalities"],be);const Pe=d(e,["mediaResolution"]);Pe!=null&&f(o,["mediaResolution"],Pe);const Ye=d(e,["speechConfig"]);Ye!=null&&f(o,["speechConfig"],Rd(Ye));const Me=d(e,["audioTimestamp"]);Me!=null&&f(o,["audioTimestamp"],Me);const Qe=d(e,["thinkingConfig"]);Qe!=null&&f(o,["thinkingConfig"],Qe);const At=d(e,["imageConfig"]);if(At!=null&&f(o,["imageConfig"],Qx(At)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function cy(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(h=>rl(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],bx(t,l,i)),i}function dy(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],wx(t,l,i)),i}function fy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(m=>Jw(m))),f(e,["candidates"],g)}const a=d(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function hy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const a=d(t,["createTime"]);a!=null&&f(e,["createTime"],a);const l=d(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=d(t,["responseId"]);h!=null&&f(e,["responseId"],h);const g=d(t,["usageMetadata"]);return g!=null&&f(e,["usageMetadata"],g),e}function xx(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const g=d(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&f(e,["parameters","includeSafetyAttributes"],g);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=d(t,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=d(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=d(t,["imageSize"]);if(e!==void 0&&w!=null&&f(e,["parameters","sampleImageSize"],w),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Ax(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const g=d(t,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const w=d(t,["language"]);e!==void 0&&w!=null&&f(e,["parameters","language"],w);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const C=d(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C);const R=d(t,["addWatermark"]);e!==void 0&&R!=null&&f(e,["parameters","addWatermark"],R);const k=d(t,["labels"]);e!==void 0&&k!=null&&f(e,["labels"],k);const G=d(t,["imageSize"]);e!==void 0&&G!=null&&f(e,["parameters","sampleImageSize"],G);const D=d(t,["enhancePrompt"]);return e!==void 0&&D!=null&&f(e,["parameters","enhancePrompt"],D),i}function Cx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&xx(l,i),i}function Rx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&Ax(l,i),i}function Nx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Vx(c))),f(e,["generatedImages"],l)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],mv(a)),e}function Ix(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>al(c))),f(e,["generatedImages"],l)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],gv(a)),e}function Mx(t,e){const i={},o=d(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(t,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const h=d(t,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(t,["negativePrompt"]);e!==void 0&&g!=null&&f(e,["parameters","negativePrompt"],g);const m=d(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],ll(v));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(w=>DA(w))),f(e,["instances[0]","referenceImages"],E)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function kx(t,e){const i={},o=d(t,["numberOfVideos"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=d(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=d(t,["aspectRatio"]);e!==void 0&&g!=null&&f(e,["parameters","aspectRatio"],g);const m=d(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const E=d(t,["negativePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","negativePrompt"],E);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&f(e,["parameters","enhancePrompt"],w);const x=d(t,["generateAudio"]);e!==void 0&&x!=null&&f(e,["parameters","generateAudio"],x);const C=d(t,["lastFrame"]);e!==void 0&&C!=null&&f(e,["instances[0]","lastFrame"],Sn(C));const R=d(t,["referenceImages"]);if(e!==void 0&&R!=null){let D=R;Array.isArray(D)&&(D=D.map(F=>UA(F))),f(e,["instances[0]","referenceImages"],D)}const k=d(t,["mask"]);e!==void 0&&k!=null&&f(e,["instances[0]","mask"],kA(k));const G=d(t,["compressionQuality"]);return e!==void 0&&G!=null&&f(e,["parameters","compressionQuality"],G),i}function Dx(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],Lx(c)),e}function Ux(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],qx(c)),e}function Ox(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],ll(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],vv(c));const h=d(e,["source"]);h!=null&&Gx(h,i);const g=d(e,["config"]);return g!=null&&Mx(g,i),i}function Px(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Sn(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],_v(c));const h=d(e,["source"]);h!=null&&Hx(h,i);const g=d(e,["config"]);return g!=null&&kx(g,i),i}function Lx(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Bx(c))),f(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function qx(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>$x(c))),f(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Gx(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],ll(a));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],vv(l)),i}function Hx(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Sn(a));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],_v(l)),i}function Vx(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],Zx(i));const o=d(t,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const a=d(t,["_self"]);return a!=null&&f(e,["safetyAttributes"],mv(a)),e}function al(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],pv(i));const o=d(t,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const a=d(t,["_self"]);a!=null&&f(e,["safetyAttributes"],gv(a));const l=d(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function zx(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["mask"],pv(i));const o=d(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["labels"],a)}return e}function Bx(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],IA(i)),e}function $x(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],MA(i)),e}function Fx(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const a=d(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(t,["logprobs"]);g!=null&&f(e,["logprobs"],g);const m=d(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=d(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const E=d(t,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const w=d(t,["responseMimeType"]);w!=null&&f(e,["responseMimeType"],w);const x=d(t,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const C=d(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);const R=d(t,["routingConfig"]);R!=null&&f(e,["routingConfig"],R);const k=d(t,["seed"]);k!=null&&f(e,["seed"],k);const G=d(t,["speechConfig"]);G!=null&&f(e,["speechConfig"],G);const D=d(t,["stopSequences"]);D!=null&&f(e,["stopSequences"],D);const F=d(t,["temperature"]);F!=null&&f(e,["temperature"],F);const X=d(t,["thinkingConfig"]);X!=null&&f(e,["thinkingConfig"],X);const Y=d(t,["topK"]);Y!=null&&f(e,["topK"],Y);const J=d(t,["topP"]);if(J!=null&&f(e,["topP"],J),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Jx(t,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],Oe(t,o)),i}function Yx(t,e){const i={},o=d(e,["model"]);return o!=null&&f(i,["_url","name"],Oe(t,o)),i}function Kx(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function jx(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Xx(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Qx(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(t,["imageSize"]);o!=null&&f(e,["imageSize"],o);const a=d(t,["personGeneration"]);a!=null&&f(e,["personGeneration"],a);const l=d(t,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const c=d(t,["outputCompressionQuality"]);return c!=null&&f(e,["imageOutputOptions","compressionQuality"],c),e}function Zx(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Ci(i));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function pv(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],Ci(o));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function ll(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Ci(i));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Sn(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const o=d(t,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],Ci(o));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Wx(t,e,i){const o={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],av(t,h)),o}function eA(t,e,i){const o={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],av(t,h)),o}function tA(t,e){const i={},o=d(e,["config"]);return o!=null&&Wx(t,o,i),i}function nA(t,e){const i={},o=d(e,["config"]);return o!=null&&eA(t,o,i),i}function iA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["_self"]);if(a!=null){let l=lv(a);Array.isArray(l)&&(l=l.map(c=>nd(c))),f(e,["models"],l)}return e}function sA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["_self"]);if(a!=null){let l=lv(a);Array.isArray(l)&&(l=l.map(c=>id(c))),f(e,["models"],l)}return e}function oA(t){const e={},i=d(t,["maskMode"]);i!=null&&f(e,["maskMode"],i);const o=d(t,["segmentationClasses"]);o!=null&&f(e,["maskClasses"],o);const a=d(t,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function nd(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["displayName"]);o!=null&&f(e,["displayName"],o);const a=d(t,["description"]);a!=null&&f(e,["description"],a);const l=d(t,["version"]);l!=null&&f(e,["version"],l);const c=d(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],TA(c));const h=d(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const g=d(t,["outputTokenLimit"]);g!=null&&f(e,["outputTokenLimit"],g);const m=d(t,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=d(t,["temperature"]);v!=null&&f(e,["temperature"],v);const _=d(t,["maxTemperature"]);_!=null&&f(e,["maxTemperature"],_);const E=d(t,["topP"]);E!=null&&f(e,["topP"],E);const w=d(t,["topK"]);w!=null&&f(e,["topK"],w);const x=d(t,["thinking"]);return x!=null&&f(e,["thinking"],x),e}function id(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["displayName"]);o!=null&&f(e,["displayName"],o);const a=d(t,["description"]);a!=null&&f(e,["description"],a);const l=d(t,["versionId"]);l!=null&&f(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>vx(E))),f(e,["endpoints"],_)}const h=d(t,["labels"]);h!=null&&f(e,["labels"],h);const g=d(t,["_self"]);g!=null&&f(e,["tunedModelInfo"],EA(g));const m=d(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=d(t,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["checkpoints"],_)}return e}function rA(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],_x(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],Sx(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],Fw(g));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function aA(t){const e={},i=d(t,["productImage"]);return i!=null&&f(e,["image"],Sn(i)),e}function lA(t,e){const i={},o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=d(t,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=d(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const m=d(t,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const w=d(t,["labels"]);return e!==void 0&&w!=null&&f(e,["labels"],w),i}function uA(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["source"]);a!=null&&dA(a,i);const l=d(e,["config"]);return l!=null&&lA(l,i),i}function cA(t){const e={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>al(a))),f(e,["generatedImages"],o)}return e}function dA(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(t,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],Sn(a));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>aA(h))),f(e,["instances[0]","productImages"],c)}return i}function fA(t){const e={},i=d(t,["referenceImage"]);i!=null&&f(e,["referenceImage"],Sn(i));const o=d(t,["referenceId"]);o!=null&&f(e,["referenceId"],o);const a=d(t,["referenceType"]);a!=null&&f(e,["referenceType"],a);const l=d(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],oA(l));const c=d(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],Zw(c));const h=d(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const g=d(t,["subjectImageConfig"]);return g!=null&&f(e,["subjectImageConfig"],g),e}function mv(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const a=d(t,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function gv(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const a=d(t,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function hA(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function pA(t){const e={},i=d(t,["image"]);return i!=null&&f(e,["image"],Sn(i)),e}function mA(t,e){const i={},o=d(t,["mode"]);e!==void 0&&o!=null&&f(e,["parameters","mode"],o);const a=d(t,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const h=d(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const g=d(t,["labels"]);return e!==void 0&&g!=null&&f(e,["labels"],g),i}function gA(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["source"]);a!=null&&vA(a,i);const l=d(e,["config"]);return l!=null&&mA(l,i),i}function yA(t){const e={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>zx(a))),f(e,["generatedMasks"],o)}return e}function vA(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=d(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Sn(a));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],pA(l)),i}function _A(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],Tx(o)),e}function SA(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],Kx(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],jx(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function yv(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>Ex(E))),f(e,["functionDeclarations"],_)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=d(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function TA(t){const e={},i=d(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(e,["createTime"],o);const a=d(t,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function EA(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&f(e,["createTime"],o);const a=d(t,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function bA(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=d(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function wA(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=d(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function xA(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","name"],Oe(t,o));const a=d(e,["config"]);return a!=null&&bA(a,i),i}function AA(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["config"]);return a!=null&&wA(a,i),i}function CA(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const h=d(t,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const g=d(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","compressionQuality"],g);const m=d(t,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=d(t,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const E=d(t,["numberOfImages"]);e!==void 0&&E!=null&&f(e,["parameters","sampleCount"],E);const w=d(t,["mode"]);return e!==void 0&&w!=null&&f(e,["parameters","mode"],w),i}function RA(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],Oe(t,o));const a=d(e,["image"]);a!=null&&f(i,["instances[0]","image"],Sn(a));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&CA(c,i),i}function NA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>al(l))),f(e,["generatedImages"],a)}return e}function IA(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&f(e,["videoBytes"],Ci(o));const a=d(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function MA(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],Ci(o));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function kA(t){const e={},i=d(t,["image"]);i!=null&&f(e,["_self"],Sn(i));const o=d(t,["maskMode"]);return o!=null&&f(e,["maskMode"],o),e}function DA(t){const e={},i=d(t,["image"]);i!=null&&f(e,["image"],ll(i));const o=d(t,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function UA(t){const e={},i=d(t,["image"]);i!=null&&f(e,["image"],Sn(i));const o=d(t,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function vv(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const o=d(t,["videoBytes"]);o!=null&&f(e,["encodedVideo"],Ci(o));const a=d(t,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function _v(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["gcsUri"],i);const o=d(t,["videoBytes"]);o!=null&&f(e,["bytesBase64Encoded"],Ci(o));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OA(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&f(e,["displayName"],o),i}function PA(t){const e={},i=d(t,["config"]);return i!=null&&OA(i,e),e}function LA(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function qA(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&LA(o,e),e}function GA(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function HA(t,e){const i={},o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function VA(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],BA(c)),e}function zA(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=d(t,["fileName"]);o!=null&&f(e,["fileName"],o);const a=d(t,["config"]);return a!=null&&HA(a,e),e}function BA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&f(e,["parent"],o);const a=d(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function $A(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function FA(t){const e={},i=d(t,["config"]);return i!=null&&$A(i,e),e}function JA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function Sv(t,e){const i={},o=d(t,["mimeType"]);e!==void 0&&o!=null&&f(e,["mimeType"],o);const a=d(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function YA(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=d(t,["config"]);return o!=null&&Sv(o,e),e}function KA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jA="Content-Type",XA="X-Server-Timeout",QA="User-Agent",sd="x-goog-api-client",ZA="1.37.0",WA=`google-genai-sdk/${ZA}`,eC="v1beta1",tC="v1beta";class nC{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:eC,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:tC,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))a.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?o[a]=Object.assign(Object.assign({},o[a]),l):l!==void 0&&(o[a]=l);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&iC(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await py(a),new Wc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await py(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return vn(this,arguments,function*(){var o;const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ge(a.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=l.decode(v,{stream:!0});try{const x=JSON.parse(_);if("error"in x){const C=JSON.parse(JSON.stringify(x.error)),R=C.status,k=C.code,G=`got status: ${R}. ${JSON.stringify(x)}`;if(k>=400&&k<600)throw new ol({message:G,status:k})}}catch(x){if(x.name==="ApiError")throw x}c+=_;let E=-1,w=0;for(;;){E=-1,w=0;for(const R of g){const k=c.indexOf(R);k!==-1&&(E===-1||k<E)&&(E=k,w=R.length)}if(E===-1)break;const x=c.substring(0,E);c=c.substring(E+w);const C=x.trim();if(C.startsWith(h)){const R=C.substring(h.length).trim();try{const k=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ge(new Wc(k))}catch(k){throw new Error(`exception parsing stream chunk ${R}. ${k}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=WA+" "+this.clientOptions.userAgentExtra;return e[QA]=i,e[sd]=i,e[jA]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))o.append(a,l);e.timeout&&e.timeout>0&&o.append(XA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const g={file:a},m=this.getFileName(e),v=Z("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,g,i==null?void 0:i.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,o){var a;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),_={};o!=null&&Sv(o,_);const E=await this.fetchUploadUrl(m,h,g,v,_,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,a,l,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function py(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new ol({message:a,status:i}):new Error(a)}}function iC(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,c){const h=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const m=c[g],v=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=o(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const a=o(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sC="mcp_used/unknown";let oC=!1;function Tv(t){for(const e of t)if(rC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return oC}function Ev(t){var e;const i=(e=t[sd])!==null&&e!==void 0?e:"";t[sd]=(i+` ${sC}`).trimStart()}function rC(t){return t!==null&&typeof t=="object"&&t instanceof Id}function aC(t){return vn(this,arguments,function*(i,o=100){let a,l=0;for(;l<o;){const c=yield ge(i.listTools({cursor:a}));for(const h of c.tools)yield yield ge(h),l++;if(!c.nextCursor)break;a=c.nextCursor}})}class Id{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Id(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var h=!0,g=(i=void 0,_n(aC(v))),m;m=await g.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const _=a;c.push(_);const E=_.name;if(l[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);l[E]=v}}catch(_){i={error:_}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),qE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:o.name,arguments:o.args},void 0,l);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lC(t,e,i){const o=new IE;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(o,a),e(o)}class uC{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=fC(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(D=>{m=D}),_=e.callbacks,E=function(){m({})},w=this.apiClient,x={onopen:E,onmessage:D=>{lC(w,_.onmessage,D)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(D){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(D){}},C=this.webSocketFactory.create(g,dC(c),x);C.connect(),await v;const G={setup:{model:Oe(this.apiClient,e.model)}};return C.send(JSON.stringify(G)),new cC(C,this.apiClient)}}class cC{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Ow(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Uw(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Xs.PLAY)}pause(){this.sendPlaybackControl(Xs.PAUSE)}stop(){this.sendPlaybackControl(Xs.STOP)}resetContext(){this.sendPlaybackControl(Xs.RESET_CONTEXT)}close(){this.conn.close()}}function dC(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function fC(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pC(t,e,i){const o=new NE;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(t.isVertexAI()){const c=qw(l);Object.assign(o,c)}else Object.assign(o,l);e(o)}class mC{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new uC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Tv(e.config.tools)&&Ev(_);const E=_C(_);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const W=this.apiClient.getApiKey();let be="BidiGenerateContent",Pe="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),be="BidiGenerateContentConstrained",Pe="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${be}?${Pe}=${W}`}let w=()=>{};const x=new Promise(W=>{w=W}),C=e.callbacks,R=function(){var W;(W=C==null?void 0:C.onopen)===null||W===void 0||W.call(C),w({})},k=this.apiClient,G={onopen:R,onmessage:W=>{pC(k,C.onmessage,W)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function(W){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(W){}},D=this.webSocketFactory.create(v,vC(E),G);D.connect(),await x;let F=Oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const W=this.apiClient.getProject(),be=this.apiClient.getLocation();F=`projects/${W}/locations/${be}/`+F}let X={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xa.AUDIO]}:e.config.responseModalities=[Xa.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],J=[];for(const W of Y)if(this.isCallableTool(W)){const be=W;J.push(await be.tool())}else J.push(W);J.length>0&&(e.config.tools=J);const me={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=Dw(this.apiClient,me):X=kw(this.apiClient,me),delete X.config,D.send(JSON.stringify(X)),new yC(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const gC={turnComplete:!0};class yC{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=cn(i.turns),e.isVertexAI()||(o=o.map(a=>rl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(hC)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},gC),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Lw(e)}:i={realtimeInput:Pw(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function vC(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function _C(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const my=10;function gy(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(eo(c)){a=!0;break}if(!a)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function eo(t){return"callTool"in t&&typeof t.callTool=="function"}function SC(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>eo(a)))!==null&&o!==void 0?o:!1}function yy(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,a)=>{if(eo(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function vy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends Kn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,l,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!SC(i)||gy(i.config))return await this.generateContentInternal(g);const m=yy(i);if(m.length>0){const C=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,_;const E=cn(g.contents),w=(l=(a=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:my;let x=0;for(;x<w&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,R=[];for(const k of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(eo(k)){const D=await k.callTool(v.functionCalls);R.push(...D)}x++,_={role:"user",parts:R},g.contents=cn(g.contents),g.contents.push(C),g.contents.push(_),vy(g.config)&&(E.push(C),E.push(_))}return vy(g.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async i=>{var o,a,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),gy(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const g=yy(i);if(g.length>0){const _=g.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(a=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let l;const c=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new es(Yn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var o,a,l,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>eo(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&Tv(e.config.tools)){const g=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Ev(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,o,a;const l=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(eo(c)){const h=c,g=await h.tool();for(const m of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(e){var i,o,a;const l=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:my;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(m,v,_){return vn(this,arguments,function*(){for(var E,w,x,C,R,k;h<l;){c&&(h++,c=!1);const X=yield ge(m.processParamsMaybeAddMcpUsage(_)),Y=yield ge(m.generateContentStreamInternal(X)),J=[],me=[];try{for(var G=!0,D=(w=void 0,_n(Y)),F;F=yield ge(D.next()),E=F.done,!E;G=!0){C=F.value,G=!1;const W=C;if(yield yield ge(W),W.candidates&&(!((R=W.candidates[0])===null||R===void 0)&&R.content)){me.push(W.candidates[0].content);for(const be of(k=W.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(h<l&&be.functionCall){if(!be.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(be.functionCall.name)){const Pe=yield ge(v.get(be.functionCall.name).callTool([be.functionCall]));J.push(...Pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${be.functionCall.name}`)}}}}catch(W){w={error:W}}finally{try{!G&&!E&&(x=D.return)&&(yield ge(x.call(D)))}finally{if(w)throw w.error}}if(J.length>0){c=!0;const W=new ir;W.candidates=[{content:{role:"user",parts:J}}],yield yield ge(W);const be=[];be.push(...me),be.push({role:"user",parts:J});const Pe=cn(_.contents).concat(be);_.contents=Pe}else break}})})(this,g,e)}async generateContentInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=dy(this.apiClient,e);return h=Z("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=hy(v),E=new ir;return Object.assign(E,_),E})}else{const m=cy(this.apiClient,e);return h=Z("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=fy(v),E=new ir;return Object.assign(E,_),E})}}async generateContentStreamInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=dy(this.apiClient,e);return h=Z("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(_){return vn(this,arguments,function*(){var E,w,x,C;try{for(var R=!0,k=_n(_),G;G=yield ge(k.next()),E=G.done,!E;R=!0){C=G.value,R=!1;const D=C,F=hy(yield ge(D.json()));F.sdkHttpResponse={headers:D.headers};const X=new ir;Object.assign(X,F),yield yield ge(X)}}catch(D){w={error:D}}finally{try{!R&&!E&&(x=k.return)&&(yield ge(x.call(k)))}finally{if(w)throw w.error}}})})}else{const m=cy(this.apiClient,e);return h=Z("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return vn(this,arguments,function*(){var E,w,x,C;try{for(var R=!0,k=_n(_),G;G=yield ge(k.next()),E=G.done,!E;R=!0){C=G.value,R=!1;const D=C,F=fy(yield ge(D.json()));F.sdkHttpResponse={headers:D.headers};const X=new ir;Object.assign(X,F),yield yield ge(X)}}catch(D){w={error:D}}finally{try{!R&&!E&&(x=k.return)&&(yield ge(x.call(k)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=mx(this.apiClient,e);return h=Z("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=yx(v),E=new Yg;return Object.assign(E,_),E})}else{const m=px(this.apiClient,e);return h=Z("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=gx(v),E=new Yg;return Object.assign(E,_),E})}}async generateImagesInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Rx(this.apiClient,e);return h=Z("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Ix(v),E=new Kg;return Object.assign(E,_),E})}else{const m=Cx(this.apiClient,e);return h=Z("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=Nx(v),E=new Kg;return Object.assign(E,_),E})}}async editImageInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=cx(this.apiClient,e);return l=Z("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=dx(g),v=new vE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=RA(this.apiClient,e);return l=Z("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=NA(g),v=new _E;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=uA(this.apiClient,e);return l=Z("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=cA(g),v=new SE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=gA(this.apiClient,e);return l=Z("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=yA(g),v=new TE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Yx(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>id(v))}else{const m=Jx(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>nd(v))}}async listInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=nA(this.apiClient,e);return h=Z("{models_url}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=sA(v),E=new jg;return Object.assign(E,_),E})}else{const m=tA(this.apiClient,e);return h=Z("{models_url}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=iA(v),E=new jg;return Object.assign(E,_),E})}}async update(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=AA(this.apiClient,e);return h=Z("{model}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>id(v))}else{const m=xA(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>nd(v))}}async delete(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=rx(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=lx(v),E=new Xg;return Object.assign(E,_),E})}else{const m=ox(this.apiClient,e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=ax(v),E=new Xg;return Object.assign(E,_),E})}}async countTokens(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=nx(this.apiClient,e);return h=Z("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=sx(v),E=new Qg;return Object.assign(E,_),E})}else{const m=tx(this.apiClient,e);return h=Z("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=ix(v),E=new Qg;return Object.assign(E,_),E})}}async computeTokens(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Kw(this.apiClient,e);return l=Z("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=jw(g),v=new EE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Px(this.apiClient,e);return h=Z("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>{const _=Ux(v),E=new Qa;return Object.assign(E,_),E})}else{const m=Ox(this.apiClient,e);return h=Z("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const _=Dx(v),E=new Qa;return Object.assign(E,_),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends Kn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=fE(e);return h=Z("{operationName}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c}else{const m=dE(e);return h=Z("{operationName}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=sE(e);return l=Z("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bC(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function wC(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>DC(l))),f(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function xC(t,e,i){const o={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],kC(t,h));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),o}function AC(t,e){const i={},o=d(e,["config"]);return o!=null&&f(i,["config"],xC(t,o,i)),i}function CC(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function RC(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NC(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function IC(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function MC(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Nd(_));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const w=d(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],wC(Nt(x)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let Y=io(C);Array.isArray(Y)&&(Y=Y.map(J=>OC(no(J)))),f(e,["setup","tools"],Y)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],UC(R));const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);const G=d(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","outputAudioTranscription"],G);const D=d(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&f(e,["setup","realtimeInputConfig"],D);const F=d(t,["contextWindowCompression"]);e!==void 0&&F!=null&&f(e,["setup","contextWindowCompression"],F);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&f(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function kC(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],Oe(t,o));const a=d(e,["config"]);return a!=null&&f(i,["config"],MC(a,i)),i}function DC(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],CC(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],RC(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],bC(g));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const E=d(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function UC(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OC(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],NC(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],IC(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function LC(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const l=PC(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>c.includes(m)?`generationConfig.${m}`:m));const g=[];l&&g.push(l),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class qC extends Kn{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=AC(this.apiClient,e);l=Z("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=LC(h,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function HC(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&GC(o,e),e}function VC(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function zC(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function BC(t){const e={},i=d(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const o=d(t,["config"]);return o!=null&&zC(o,e),e}function $C(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=d(t,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends Kn{constructor(e){super(),this.apiClient=e,this.list=async i=>new es(Yn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=VC(e);return l=Z("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HC(e);a=Z("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BC(e);return l=Z("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=$C(g),v=new bE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JC extends Kn{constructor(e,i=new FC(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new es(Yn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PA(e);return l=Z("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GA(e);return l=Z("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qA(e);a=Z("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FA(e);return l=Z("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=JA(g),v=new wE;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YA(e);return l=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=KA(g),v=new xE;return Object.assign(v,m),v})}}async importFile(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zA(e);return l=Z("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const m=VA(g),v=new wd;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return bv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const YC=()=>bv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function od(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const rd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dn extends Error{}class Dt extends dn{constructor(e,i,o,a){super(`${Dt.makeMessage(e,i,o)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,o){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,o,a){if(!e||!a)return new ul({message:o,cause:rd(i)});const l=i;return e===400?new xv(e,l,o,a):e===401?new Av(e,l,o,a):e===403?new Cv(e,l,o,a):e===404?new Rv(e,l,o,a):e===409?new Nv(e,l,o,a):e===422?new Iv(e,l,o,a):e===429?new Mv(e,l,o,a):e>=500?new kv(e,l,o,a):new Dt(e,l,o,a)}}class ad extends Dt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ul extends Dt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class wv extends ul{constructor({message:e}={}){super({message:e??"Request timed out."})}}class xv extends Dt{}class Av extends Dt{}class Cv extends Dt{}class Rv extends Dt{}class Nv extends Dt{}class Iv extends Dt{}class Mv extends Dt{}class kv extends Dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KC=/^[a-z][a-z0-9+.-]*:/i,jC=t=>KC.test(t);let ld=t=>(ld=Array.isArray,ld(t));const XC=ld;let QC=XC;const _y=QC;function ZC(t){if(!t)return!0;for(const e in t)return!1;return!0}function WC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const eR=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new dn(`${t} must be an integer`);if(e<0)throw new dn(`${t} must be a positive integer`);return e},tR=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nR=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Js="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sR=()=>{var t,e,i,o,a;const l=iR();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":Ty(Deno.build.os),"X-Stainless-Arch":Sy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":Ty((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Sy((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=oR();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oR(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const o=i.exec(navigator.userAgent);if(o){const a=o[1]||0,l=o[2]||0,c=o[3]||0;return{browser:e,version:`${a}.${l}.${c}`}}}return null}const Sy=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Ty=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Oa;const rR=()=>Oa??(Oa=sR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Dv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function lR(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Dv({start(){},async pull(i){const{done:o,value:a}=await e.next();o?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Uv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function uR(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=t.getReader(),a=o.cancel();o.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cR=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ov=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Oc(t,e,i){return Ov(),new File(t,e??"unknown_file",i)}function dR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const fR=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",hR=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Pv(t),pR=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function mR(t,e,i){if(Ov(),t=await t,hR(t))return t instanceof File?t:Oc([await t.arrayBuffer()],t.name);if(pR(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Oc(await ud(a),e,i)}const o=await ud(t);if(e||(e=dR(t)),!(i!=null&&i.type)){const a=o.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Oc(o,e,i)}async function ud(t){var e,i,o,a,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Pv(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(fR(t))try{for(var h=!0,g=_n(t),m;m=await g.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const v=a;c.push(...await ud(v))}}catch(v){i={error:v}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${gR(t)}`)}return c}function gR(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lv{constructor(e){this._client=e}}Lv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ey=Object.freeze(Object.create(null)),yR=(t=qv)=>(function(i,...o){if(i.length===1)return i[0];let a=!1;const l=[],c=i.reduce((v,_,E)=>{var w,x,C;/[?#]/.test(_)&&(a=!0);const R=o[E];let k=(a?encodeURIComponent:t)(""+R);return E!==o.length&&(R==null||typeof R=="object"&&R.toString===((C=Object.getPrototypeOf((x=Object.getPrototypeOf((w=R.hasOwnProperty)!==null&&w!==void 0?w:Ey))!==null&&x!==void 0?x:Ey))===null||C===void 0?void 0:C.toString))&&(k=R+"",l.push({start:v.length+_.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+_+(E===o.length?"":k)},""),h=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((v,_)=>v.start-_.start),l.length>0){let v=0;const _=l.reduce((E,w)=>{const x=" ".repeat(w.start-v),C="^".repeat(w.length);return v=w.start+w.length,E+x+C},"");throw new dn(`Path parameters result in path with invalid segments:
${l.map(E=>E.error).join(`
`)}
${c}
${_}`)}return c}),Pa=yR(qv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gv extends Lv{create(e,i){var o;const{api_version:a=this._client.apiVersion}=e,l=Wa(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new dn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new dn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Pa`/${a}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Pa`/${a}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Pa`/${a}/interactions/${e}/cancel`,o)}get(e,i={},o){var a;const l=i??{},{api_version:c=this._client.apiVersion}=l,h=Wa(l,["api_version"]);return this._client.get(Pa`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},o),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}Gv._key=Object.freeze(["interactions"]);class Hv extends Gv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vR(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let o=0;for(const a of t)i.set(a,o),o+=a.length;return i}let La;function Md(t){let e;return(La??(e=new globalThis.TextEncoder,La=e.encode.bind(e)))(t)}let qa;function by(t){let e;return(qa??(e=new globalThis.TextDecoder,qa=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Md(e):e;this.buffer=vR([this.buffer,i]);const o=[];let a;for(;(a=_R(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){o.push(by(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=by(this.buffer.subarray(0,l));o.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}cl.NEWLINE_CHARS=new Set([`
`,"\r"]);cl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _R(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function SR(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const el={off:0,error:200,warn:300,info:400,debug:500},wy=(t,e,i)=>{if(t){if(WC(el,t))return t;kt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(el))}`)}};function or(){}function Ga(t,e,i){return!e||el[t]>el[i]?or:e[t].bind(e)}const TR={error:or,warn:or,info:or,debug:or};let xy=new WeakMap;function kt(t){var e;const i=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return TR;const a=xy.get(i);if(a&&a[0]===o)return a[1];const l={error:Ga("error",i,o),warn:Ga("warn",i,o),info:Ga("info",i,o),debug:Ga("debug",i,o)};return xy.set(i,[o,l]),l}const ji=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let a=!1;const l=o?kt(o):console;function c(){return vn(this,arguments,function*(){var g,m,v,_;if(a)throw new dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var w=!0,x=_n(ER(e,i)),C;C=yield ge(x.next()),g=C.done,!g;w=!0){_=C.value,w=!1;const R=_;if(!E)if(R.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ge(JSON.parse(R.data))}catch(k){throw l.error("Could not parse message into JSON:",R.data),l.error("From chunk:",R.raw),k}}}catch(R){m={error:R}}finally{try{!w&&!g&&(v=x.return)&&(yield ge(v.call(x)))}finally{if(m)throw m.error}}E=!0}catch(R){if(od(R))return yield ge(void 0);throw R}finally{E||i.abort()}})}return new Qs(c,i,o)}static fromReadableStream(e,i,o){let a=!1;function l(){return vn(this,arguments,function*(){var g,m,v,_;const E=new cl,w=Uv(e);try{for(var x=!0,C=_n(w),R;R=yield ge(C.next()),g=R.done,!g;x=!0){_=R.value,x=!1;const k=_;for(const G of E.decode(k))yield yield ge(G)}}catch(k){m={error:k}}finally{try{!x&&!g&&(v=C.return)&&(yield ge(v.call(C)))}finally{if(m)throw m.error}}for(const k of E.flush())yield yield ge(k)})}function c(){return vn(this,arguments,function*(){var g,m,v,_;if(a)throw new dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var w=!0,x=_n(l()),C;C=yield ge(x.next()),g=C.done,!g;w=!0){_=C.value,w=!1;const R=_;E||R&&(yield yield ge(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!w&&!g&&(v=x.return)&&(yield ge(v.call(x)))}finally{if(m)throw m.error}}E=!0}catch(R){if(od(R))return yield ge(void 0);throw R}finally{E||i.abort()}})}return new Qs(c,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),a=l=>({next:()=>{if(l.length===0){const c=o.next();e.push(c),i.push(c)}return l.shift()}});return[new Qs(()=>a(e),this.controller,this.client),new Qs(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Dv({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:a,done:l}=await i.next();if(l)return o.close();const c=Md(JSON.stringify(a)+`
`);o.enqueue(c)}catch(a){o.error(a)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}}function ER(t,e){return vn(this,arguments,function*(){var o,a,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new dn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new dn("Attempted to iterate over a response with no body");const h=new wR,g=new cl,m=Uv(t.body);try{for(var v=!0,_=_n(bR(m)),E;E=yield ge(_.next()),o=E.done,!o;v=!0){c=E.value,v=!1;const w=c;for(const x of g.decode(w)){const C=h.decode(x);C&&(yield yield ge(C))}}}catch(w){a={error:w}}finally{try{!v&&!o&&(l=_.return)&&(yield ge(l.call(_)))}finally{if(a)throw a.error}}for(const w of g.flush()){const x=h.decode(w);x&&(yield yield ge(x))}})}function bR(t){return vn(this,arguments,function*(){var i,o,a,l;let c=new Uint8Array;try{for(var h=!0,g=_n(t),m;m=yield ge(g.next()),i=m.done,!i;h=!0){l=m.value,h=!1;const v=l;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Md(v):v;let E=new Uint8Array(c.length+_.length);E.set(c),E.set(_,c.length),c=E;let w;for(;(w=SR(c))!==-1;)yield yield ge(c.slice(0,w)),c=c.slice(w)}}catch(v){o={error:v}}finally{try{!h&&!i&&(a=g.return)&&(yield ge(a.call(g)))}finally{if(o)throw o.error}}c.length>0&&(yield yield ge(c))})}class wR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,a]=xR(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function xR(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AR(t,e){const{response:i,requestLogID:o,retryOfRequestLogID:a,startTime:l}=e,c=await(async()=>{var h;if(e.options.stream)return kt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Qs.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),m=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return kt(t).debug(`[${o}] response parsed`,ji({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kd extends Promise{constructor(e,i,o=AR){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new kd(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=Symbol("brand.privateNullableHeaders");function*CR(t){if(!t)return;if(Vv in t){const{values:o,nulls:a}=t;yield*o.entries();for(const l of a)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():_y(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let o of i){const a=o[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=_y(o[1])?o[1]:[o[1]];let c=!1;for(const h of l)h!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,h])}}const sr=t=>{const e=new Headers,i=new Set;for(const o of t){const a=new Set;for(const[l,c]of CR(o)){const h=l.toLowerCase();a.has(h)||(e.delete(l),a.add(h)),c===null?(e.delete(l),i.add(h)):(e.append(l,c),i.delete(h))}}return{[Vv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pc=t=>{var e,i,o,a,l,c;if(typeof globalThis.process<"u")return(o=(i=(e=ZT)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zv;class dl{constructor(e){var i,o,a,l,c,h,g,{baseURL:m=Pc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=Pc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:_="v1beta"}=e,E=Wa(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:v,apiVersion:_},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(o=w.timeout)!==null&&o!==void 0?o:dl.DEFAULT_TIMEOUT,this.logger=(a=w.logger)!==null&&a!==void 0?a:console;const x="warn";this.logLevel=x,this.logLevel=(c=(l=wy(w.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:wy(Pc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:x,this.fetchOptions=w.fetchOptions,this.maxRetries=(h=w.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=w.fetch)!==null&&g!==void 0?g:aR(),this.encoder=cR,this._options=w,this.apiKey=v,this.apiVersion=_,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=sr([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return sr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return sr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new dn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Js}`}defaultIdempotencyKey(){return`stainless-node-retry-${YC()}`}makeStatusError(e,i,o,a){return Dt.generate(e,i,o,a)}buildURL(e,i,o){const a=!this.baseURLOverridden()&&o||this.baseURL,l=jC(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return ZC(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new kd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var a,l,c;const h=await e,g=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:m,url:v,timeout:_}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(m,{url:v,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=o===void 0?"":`, retryOf: ${o}`,x=Date.now();if(kt(this).debug(`[${E}] sending request`,ji({retryOfRequestLogID:o,method:h.method,url:v,options:h,headers:m.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new ad;const C=new AbortController,R=await this.fetchWithTimeout(v,m,_,C).catch(rd),k=Date.now();if(R instanceof globalThis.Error){const D=`retrying, ${i} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new ad;const F=od(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(i)return kt(this).info(`[${E}] connection ${F?"timed out":"failed"} - ${D}`),kt(this).debug(`[${E}] connection ${F?"timed out":"failed"} (${D})`,ji({retryOfRequestLogID:o,url:v,durationMs:k-x,message:R.message})),this.retryRequest(h,i,o??E);throw kt(this).info(`[${E}] connection ${F?"timed out":"failed"} - error; no more retries left`),kt(this).debug(`[${E}] connection ${F?"timed out":"failed"} (error; no more retries left)`,ji({retryOfRequestLogID:o,url:v,durationMs:k-x,message:R.message})),F?new wv:new ul({cause:R})}const G=`[${E}${w}] ${m.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${k-x}ms`;if(!R.ok){const D=await this.shouldRetry(R);if(i&&D){const W=`retrying, ${i} attempts remaining`;return await uR(R.body),kt(this).info(`${G} - ${W}`),kt(this).debug(`[${E}] response error (${W})`,ji({retryOfRequestLogID:o,url:R.url,status:R.status,headers:R.headers,durationMs:k-x})),this.retryRequest(h,i,o??E,R.headers)}const F=D?"error; no more retries left":"error; not retryable";kt(this).info(`${G} - ${F}`);const X=await R.text().catch(W=>rd(W).message),Y=tR(X),J=Y?void 0:X;throw kt(this).debug(`[${E}] response error (${F})`,ji({retryOfRequestLogID:o,url:R.url,status:R.status,headers:R.headers,message:J,durationMs:Date.now()-x})),this.makeStatusError(R.status,Y,J,R.headers)}return kt(this).info(G),kt(this).debug(`[${E}] response start`,ji({retryOfRequestLogID:o,url:R.url,status:R.status,headers:R.headers,durationMs:k-x})),{response:R,options:h,controller:C,requestLogID:E,retryOfRequestLogID:o,startTime:x}}async fetchWithTimeout(e,i,o,a){const l=i||{},{signal:c,method:h}=l,g=Wa(l,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),o),v=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),g);h&&(_.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,a){var l;let c;const h=a==null?void 0:a.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(c=m)}const g=a==null?void 0:a.get("retry-after");if(g&&!c){const m=parseFloat(g);Number.isNaN(m)?c=Date.parse(g)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,m)}return await nR(c),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,a,l;const c=Object.assign({},e),{method:h,path:g,query:m,defaultBaseURL:v}=c,_=this.buildURL(g,m,v);"timeout"in c&&eR("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:E,body:w}=this.buildBody({options:c}),x=await this.buildHeaders({options:e,method:h,bodyHeaders:E,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:x},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:a}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=sr([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),rR()),this._options.defaultHeaders,o,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=sr([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:lR(e)}:this.encoder({body:e,headers:o})}}dl.DEFAULT_TIMEOUT=6e4;class yt extends dl{constructor(){super(...arguments),this.interactions=new Hv(this)}}zv=yt;yt.GeminiNextGenAPIClient=zv;yt.GeminiNextGenAPIClientError=dn;yt.APIError=Dt;yt.APIConnectionError=ul;yt.APIConnectionTimeoutError=wv;yt.APIUserAbortError=ad;yt.NotFoundError=Rv;yt.ConflictError=Nv;yt.RateLimitError=Mv;yt.BadRequestError=xv;yt.AuthenticationError=Av;yt.InternalServerError=kv;yt.PermissionDeniedError=Cv;yt.UnprocessableEntityError=Iv;yt.toFile=mR;yt.Interactions=Hv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RR(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function NR(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function IR(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function MR(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function kR(t,e,i){const o={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(t,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=d(t,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function DR(t,e,i){const o={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const w=d(t,["validationDataset"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec"],Ay(w))}else if(a==="PREFERENCE_TUNING"){const w=d(t,["validationDataset"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec"],Ay(w))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=d(t,["epochCount"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(h==="PREFERENCE_TUNING"){const w=d(t,["epochCount"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=d(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(g==="PREFERENCE_TUNING"){const w=d(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const w=d(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(m==="PREFERENCE_TUNING"){const w=d(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const w=d(t,["adapterSize"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(v==="PREFERENCE_TUNING"){const w=d(t,["adapterSize"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const E=d(t,["beta"]);return e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),o}function UR(t,e){const i={},o=d(t,["baseModel"]);o!=null&&f(i,["baseModel"],o);const a=d(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(t,["trainingDataset"]);l!=null&&FR(l);const c=d(t,["config"]);return c!=null&&kR(c,i),i}function OR(t,e){const i={},o=d(t,["baseModel"]);o!=null&&f(i,["baseModel"],o);const a=d(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(t,["trainingDataset"]);l!=null&&JR(l,i,e);const c=d(t,["config"]);return c!=null&&DR(c,i,e),i}function PR(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function LR(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function qR(t,e,i){const o={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function GR(t,e,i){const o={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function HR(t,e){const i={},o=d(t,["config"]);return o!=null&&qR(o,i),i}function VR(t,e){const i={},o=d(t,["config"]);return o!=null&&GR(o,i),i}function zR(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Bv(h))),f(i,["tuningJobs"],c)}return i}function BR(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>cd(h))),f(i,["tuningJobs"],c)}return i}function $R(t,e){const i={},o=d(t,["name"]);o!=null&&f(i,["model"],o);const a=d(t,["name"]);return a!=null&&f(i,["endpoint"],a),i}function FR(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(t,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),f(i,["examples","examples"],a)}return i}function JR(t,e,i){const o={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Bv(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["state"]);l!=null&&f(i,["state"],ov(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const m=d(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const v=d(t,["description"]);v!=null&&f(i,["description"],v);const _=d(t,["baseModel"]);_!=null&&f(i,["baseModel"],_);const E=d(t,["_self"]);return E!=null&&f(i,["tunedModel"],$R(E)),i}function cd(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["state"]);l!=null&&f(i,["state"],ov(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(i,["startTime"],h);const g=d(t,["endTime"]);g!=null&&f(i,["endTime"],g);const m=d(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const v=d(t,["error"]);v!=null&&f(i,["error"],v);const _=d(t,["description"]);_!=null&&f(i,["description"],_);const E=d(t,["baseModel"]);E!=null&&f(i,["baseModel"],E);const w=d(t,["tunedModel"]);w!=null&&f(i,["tunedModel"],w);const x=d(t,["preTunedModel"]);x!=null&&f(i,["preTunedModel"],x);const C=d(t,["supervisedTuningSpec"]);C!=null&&f(i,["supervisedTuningSpec"],C);const R=d(t,["preferenceOptimizationSpec"]);R!=null&&f(i,["preferenceOptimizationSpec"],R);const k=d(t,["tuningDataStats"]);k!=null&&f(i,["tuningDataStats"],k);const G=d(t,["encryptionSpec"]);G!=null&&f(i,["encryptionSpec"],G);const D=d(t,["partnerModelTuningSpec"]);D!=null&&f(i,["partnerModelTuningSpec"],D);const F=d(t,["customBaseModel"]);F!=null&&f(i,["customBaseModel"],F);const X=d(t,["experiment"]);X!=null&&f(i,["experiment"],X);const Y=d(t,["labels"]);Y!=null&&f(i,["labels"],Y);const J=d(t,["outputUri"]);J!=null&&f(i,["outputUri"],J);const me=d(t,["pipelineJob"]);me!=null&&f(i,["pipelineJob"],me);const W=d(t,["serviceAccount"]);W!=null&&f(i,["serviceAccount"],W);const be=d(t,["tunedModelDisplayName"]);be!=null&&f(i,["tunedModelDisplayName"],be);const Pe=d(t,["veoTuningSpec"]);return Pe!=null&&f(i,["veoTuningSpec"],Pe),i}function YR(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(t,["done"]);c!=null&&f(i,["done"],c);const h=d(t,["error"]);return h!=null&&f(i,["error"],h),i}function Ay(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&f(i,["validationDatasetUri"],o);const a=d(t,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KR extends Kn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new es(Yn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Zc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=LR(e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>cd(v))}else{const m=PR(e);return h=Z("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>Bv(v))}}async listInternal(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=VR(e);return h=Z("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=BR(v),E=new Zg;return Object.assign(E,_),E})}else{const m=HR(e);return h=Z("tunedModels",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=zR(v),E=new Zg;return Object.assign(E,_),E})}}async cancel(e){var i,o,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=NR(e);return h=Z("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=MR(v),E=new Wg;return Object.assign(E,_),E})}else{const m=RR(e);return h=Z("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const _=IR(v),E=new Wg;return Object.assign(E,_),E})}}async tuneInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=OR(e,e);return l=Z("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>cd(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=UR(e);return l=Z("tunedModels",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>YR(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XR=1024*1024*8,QR=3,ZR=1e3,WR=2,tl="x-goog-upload-status";async function eN(t,e,i){var o;const a=await $v(t,e,i),l=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[tl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function tN(t,e,i){var o;const a=await $v(t,e,i),l=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[tl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Wy(l),h=new xd;return Object.assign(h,c),h}async function $v(t,e,i){var o,a;let l=0,c=0,h=new Wc(new Response),g="upload";for(l=t.size;c<l;){const m=Math.min(XR,l-c),v=t.slice(c,c+m);c+m>=l&&(g+=", finalize");let _=0,E=ZR;for(;_<QR&&(h=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((o=h==null?void 0:h.headers)===null||o===void 0)&&o[tl]));)_++,await iN(E),E=E*WR;if(c+=m,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[tl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function nN(t){return{size:t.size,type:t.type}}function iN(t){return new Promise(e=>setTimeout(e,t))}class sN{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eN(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tN(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN{create(e,i,o){return new rN(e,i,o)}}class rN{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cy="x-goog-api-key";class aN{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Cy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Cy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lN="gl-node/";class uN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=nE(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new aN(this.apiKey);this.apiClient=new nC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lN+"web",uploader:new sN,downloader:new jR}),this.models=new TC(this.apiClient),this.live=new mC(this.apiClient,a,new oN),this.batches=new Mb(this.apiClient),this.chats=new fw(this.models,this.apiClient),this.caches=new uw(this.apiClient),this.files=new Ew(this.apiClient),this.operations=new EC(this.apiClient),this.authTokens=new qC(this.apiClient),this.tunings=new KR(this.apiClient),this.fileSearchStores=new JC(this.apiClient)}}const cN=`
You are the AI Assistant for ZMC SickleCare Initiative (ZSI), established under the ASH International Outreach Initiative. 
Your tone is compassionate, professional, and informative.
ZMC SickleCare is affiliated with Zankli Medical Centre and Succour Foundation.
Your mission is to heighten awareness, education, and support for sickle cell disease (SCD).
Provide accurate information about SCD prevention, management, and psychosocial support based on medical consensus.
Always include a disclaimer that you are an AI and users should consult Zankli Medical Centre or another medical professional for personal diagnosis.
Use concise formatting with bullet points where appropriate.
Support languages like English and local Nigerian dialects (Yoruba, Igbo, Hausa, Pidgin) if requested.
`;class dN{constructor(){}async*chat(e,i){const l=await new uN({apiKey:"PLACEHOLDER_API_KEY"}).chats.create({model:"gemini-3-flash-preview",history:e,config:{systemInstruction:cN}}).sendMessageStream({message:i});for await(const c of l)yield c.text}}const fN=new dN,hN=()=>{const[t,e]=ce.useState(!1),[i,o]=ce.useState([{role:"model",text:"Hello! I am your ZSI Assistant. How can I help you today with information about Sickle Cell care?"}]),[a,l]=ce.useState(""),[c,h]=ce.useState(!1),g=ce.useRef(null);ce.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[i,c]);const m=async()=>{if(!a.trim()||c)return;const v=a.trim();l(""),o(_=>[..._,{role:"user",text:v}]),h(!0);try{const _=i.map(x=>({role:x.role,parts:[{text:x.text}]}));let E="";const w=fN.chat(_,v);o(x=>[...x,{role:"model",text:""}]);for await(const x of w)E+=x,o(C=>{const R=[...C];return R[R.length-1].text=E,R})}catch{o(E=>[...E,{role:"model",text:"I'm sorry, I'm having trouble connecting right now. Please try again later."}])}finally{h(!1)}};return S.jsx("div",{className:"fixed bottom-6 right-6 z-[100] font-sans",children:t?S.jsxs("div",{className:"w-80 md:w-96 h-[500px] bg-cream rounded-3xl shadow-2xl flex flex-col overflow-hidden border border-burntOrange/20 animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"bg-burntOrange p-4 flex justify-between items-center text-cream",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(Jm,{size:24}),S.jsx("span",{className:"font-bold",children:"ZSI Health Assistant"})]}),S.jsx("button",{onClick:()=>e(!1),className:"hover:bg-white/20 p-1 rounded-lg",children:S.jsx(Ei,{size:20})})]}),S.jsxs("div",{ref:g,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white/50 backdrop-blur-sm",children:[i.map((v,_)=>S.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:S.jsxs("div",{className:"flex items-start space-x-2 max-w-[85%]",children:[v.role==="model"&&S.jsx("div",{className:"mt-1 bg-burntOrange/10 p-1 rounded-full",children:S.jsx(Jm,{size:16,className:"text-burntOrange"})}),S.jsx("div",{className:`p-3 rounded-2xl text-sm ${v.role==="user"?"bg-burntOrange text-cream rounded-tr-none":"bg-white border border-burntOrange/10 text-darkText rounded-tl-none shadow-sm"}`,children:v.text||S.jsx(ja,{className:"animate-spin",size:16})}),v.role==="user"&&S.jsx("div",{className:"mt-1 bg-darkText/5 p-1 rounded-full",children:S.jsx(FT,{size:16})})]})},_)),c&&i[i.length-1].text===""&&S.jsx("div",{className:"flex justify-start",children:S.jsx("div",{className:"bg-white border border-burntOrange/10 p-3 rounded-2xl rounded-tl-none shadow-sm",children:S.jsx(ja,{className:"animate-spin text-burntOrange",size:16})})})]}),S.jsx("div",{className:"p-4 border-t border-burntOrange/10 bg-white",children:S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("input",{type:"text",value:a,onChange:v=>l(v.target.value),onKeyDown:v=>v.key==="Enter"&&m(),placeholder:"Ask about sickle cell...",className:"flex-1 text-sm bg-cream border border-burntOrange/20 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-burntOrange/50"}),S.jsx("button",{onClick:m,disabled:c,className:"bg-burntOrange text-cream p-2 rounded-xl hover:bg-opacity-90 transition-colors disabled:opacity-50",children:S.jsx(UT,{size:20})})]})})]}):S.jsxs("button",{onClick:()=>e(!0),className:"bg-burntOrange text-cream p-4 rounded-full shadow-2xl hover:scale-110 active:scale-95 transition-all animate-bounce-slow flex items-center space-x-2 group",children:[S.jsx(NT,{size:28}),S.jsx("span",{className:"hidden md:inline font-bold pr-2",children:"Ask ZSI AI"})]})})},pN=({onNavigate:t})=>S.jsxs("footer",{className:"bg-darkText text-cream pt-24 pb-12 px-6",children:[S.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-16",children:[S.jsxs("div",{className:"space-y-8",children:[S.jsx("div",{className:"flex items-center space-x-2 cursor-pointer group",onClick:()=>t("home"),children:S.jsx("img",{src:xi.logo,alt:"Zankli Sicklecare Logo",className:"h-8 w-auto object-contain brightness-0 invert"})}),S.jsx("p",{className:"text-cream/60 text-sm leading-relaxed font-medium",children:"Building informed communities and stronger support systems for sickle cell warriors. A Zankli Sicklecare Initiative established under ASH International Outreach."}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-burntOrange",children:"Affiliated Foundations"}),S.jsxs("div",{className:"flex flex-col space-y-2 text-xs font-bold text-cream/40",children:[S.jsx("span",{className:"hover:text-cream transition-colors cursor-pointer uppercase tracking-widest",children:" Zankli Medical Centre"}),S.jsx("span",{className:"hover:text-cream transition-colors cursor-pointer uppercase tracking-widest",children:" Succour Foundation"})]})]})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-[10px] font-black mb-10 text-burntOrange uppercase tracking-[0.3em]",children:"Take Action"}),S.jsxs("ul",{className:"space-y-5 text-sm text-cream/70 font-bold",children:[S.jsx("li",{children:S.jsxs("button",{onClick:()=>t("involved"),className:"hover:text-burntOrange transition-colors flex items-center space-x-3 group text-left",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-burntOrange/30 group-hover:bg-burntOrange"}),S.jsx("span",{children:"Volunteer Today"})]})}),S.jsx("li",{children:S.jsxs("button",{onClick:()=>t("involved"),className:"hover:text-burntOrange transition-colors flex items-center space-x-3 group text-left",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-burntOrange/30 group-hover:bg-burntOrange"}),S.jsx("span",{children:"Partner With Us"})]})}),S.jsx("li",{children:S.jsxs("button",{onClick:()=>t("involved"),className:"hover:text-burntOrange transition-colors flex items-center space-x-3 group text-left",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-burntOrange/30 group-hover:bg-burntOrange"}),S.jsx("span",{children:"Support a Warrior"})]})})]})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-[10px] font-black mb-10 text-burntOrange uppercase tracking-[0.3em]",children:"Quick Links"}),S.jsxs("ul",{className:"space-y-5 text-sm text-cream/70 font-bold",children:[S.jsx("li",{children:S.jsxs("button",{onClick:()=>t("about"),className:"hover:text-burntOrange transition-colors flex items-center space-x-3 group text-left",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-burntOrange/30 group-hover:bg-burntOrange"}),S.jsx("span",{children:"About Us"})]})}),S.jsx("li",{children:S.jsxs("button",{onClick:()=>t("programs"),className:"hover:text-burntOrange transition-colors flex items-center space-x-3 group text-left",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-burntOrange/30 group-hover:bg-burntOrange"}),S.jsx("span",{children:"Our Programs"})]})}),S.jsx("li",{children:S.jsxs("button",{onClick:()=>t("activities"),className:"hover:text-burntOrange transition-colors flex items-center space-x-3 group text-left",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-burntOrange/30 group-hover:bg-burntOrange"}),S.jsx("span",{children:"Our Impact"})]})})]})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-[10px] font-black mb-10 text-burntOrange uppercase tracking-[0.3em]",children:"Connect"}),S.jsxs("ul",{className:"space-y-6 text-sm text-cream/70 font-bold",children:[S.jsxs("li",{className:"flex items-center space-x-4",children:[S.jsx(ET,{size:18,className:"text-burntOrange shrink-0"}),S.jsx("span",{className:"hover:text-cream transition-colors cursor-pointer",children:"info@zanklisicklecare.org"})]}),S.jsxs("li",{className:"flex items-center space-x-4",children:[S.jsx(MT,{size:18,className:"text-burntOrange shrink-0"}),S.jsx("span",{className:"hover:text-cream transition-colors cursor-pointer",children:"+234 (0) 800-ZANKLI-CARE"})]}),S.jsxs("li",{className:"flex items-start space-x-4",children:[S.jsx(wT,{size:18,className:"text-burntOrange shrink-0 mt-1"}),S.jsxs("span",{className:"hover:text-cream transition-colors cursor-pointer leading-relaxed",children:["Abuja / Lagos,",S.jsx("br",{}),"Nigeria"]})]})]})]})]}),S.jsxs("div",{className:"max-w-7xl mx-auto border-t border-white/5 mt-20 pt-10 flex flex-col md:flex-row justify-between items-center text-[10px] text-cream/20 font-black uppercase tracking-[0.3em] space-y-6 md:space-y-0",children:[S.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-8 space-y-4 md:space-y-0",children:[S.jsxs("p",{children:[" ",new Date().getFullYear()," Zankli Sicklecare Initiative."]}),S.jsxs("button",{onClick:()=>t("admin"),className:"flex items-center space-x-2 text-cream/40 hover:text-burntOrange transition-colors",children:[S.jsx(Xc,{size:14}),S.jsx("span",{children:"Staff Portal"})]})]}),S.jsxs("div",{className:"flex space-x-8",children:[S.jsx("a",{href:"#",className:"hover:text-burntOrange transition-all hover:scale-110",children:S.jsx(_T,{size:20})}),S.jsx("a",{href:"#",className:"hover:text-burntOrange transition-all hover:scale-110",children:S.jsx(zT,{size:20})}),S.jsx("a",{href:"#",className:"hover:text-burntOrange transition-all hover:scale-110",children:S.jsx(oT,{size:20})})]})]})]});function fl(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(i[o[a]]=t[o[a]]);return i}function mN(t,e,i,o){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{m(o.next(v))}catch(_){c(_)}}function g(v){try{m(o.throw(v))}catch(_){c(_)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((o=o.apply(t,e||[])).next())})}const gN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dd extends Error{constructor(e,i="FunctionsError",o){super(e),this.name=i,this.context=o}}class yN extends Dd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ry extends Dd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ny extends Dd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dd||(dd={}));class vN{constructor(e,{headers:i={},customFetch:o,region:a=dd.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=gN(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mN(this,arguments,void 0,function*(i,o={}){var a;let l,c;try{const{headers:h,method:g,body:m,signal:v,timeout:_}=o;let E={},{region:w}=o;w||(w=this.region);const x=new URL(`${this.url}/${i}`);w&&w!=="any"&&(E["x-region"]=w,x.searchParams.set("forceFunctionRegion",w));let C;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",C=m):typeof m=="string"?(E["Content-Type"]="text/plain",C=m):typeof FormData<"u"&&m instanceof FormData?C=m:(E["Content-Type"]="application/json",C=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?C=JSON.stringify(m):C=m;let R=v;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),v?(R=c.signal,v.addEventListener("abort",()=>c.abort())):R=c.signal);const k=yield this.fetch(x.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),h),body:C,signal:R}).catch(X=>{throw new yN(X)}),G=k.headers.get("x-relay-error");if(G&&G==="true")throw new Ry(k);if(!k.ok)throw new Ny(k);let D=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),F;return D==="application/json"?F=yield k.json():D==="application/octet-stream"||D==="application/pdf"?F=yield k.blob():D==="text/event-stream"?F=k:D==="multipart/form-data"?F=yield k.formData():F=yield k.text(),{data:F,error:null,response:k}}catch(h){return{data:null,error:h,response:h instanceof Ny||h instanceof Ry?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var _N=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},SN=class{constructor(t){var e,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(i=t.isMaybeSingle)!==null&&i!==void 0?i:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,g=null,m=l.status,v=l.statusText;if(l.ok){var _,E;if(i.method!=="HEAD"){var w;const k=await l.text();k===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((w=i.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=k:h=JSON.parse(k))}const C=(_=i.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),R=(E=l.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");C&&R&&R.length>1&&(g=parseInt(R[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var x;const C=await l.text();try{c=JSON.parse(C),Array.isArray(c)&&l.status===404&&(h=[],c=null,m=200,v="OK")}catch{l.status===404&&C===""?(m=204,v="No Content"):c={message:C}}if(c&&i.isMaybeSingle&&(!(c==null||(x=c.details)===null||x===void 0)&&x.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&i.shouldThrowOnError)throw new _N(c)}return{error:c,data:h,count:g,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let h="";const g=l==null?void 0:l.cause;if(g){var m,v,_,E;const x=(m=g==null?void 0:g.message)!==null&&m!==void 0?m:"",C=(v=g==null?void 0:g.code)!==null&&v!==void 0?v:"";h=`${(_=l==null?void 0:l.name)!==null&&_!==void 0?_:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"Error"}: ${x}`,C&&(h+=` (${C})`),g!=null&&g.stack&&(h+=`
${g.stack}`)}else{var w;h=(w=l==null?void 0:l.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},TN=class extends SN{select(t){let e=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:o=!1,wal:a=!1,format:l="text"}={}){var c;const h=[t?"analyze":null,e?"verbose":null,i?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${g}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Iy=new RegExp("[,()]");var Ys=class extends TN{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(o=>typeof o=="string"&&Iy.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}notIn(t,e){const i=Array.from(new Set(e)).map(o=>typeof o=="string"&&Iy.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}},EN=class{constructor(t,{headers:e={},schema:i,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=i,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:i=!1,count:o}=e??{},a=i?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:h,headers:g}=this.cloneRequestState();return h.searchParams.set("select",c),o&&g.append("Prefer",`count=${o}`),new Ys({method:a,url:h,headers:g,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:i=!0}={}){var o;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(h.length>0){const g=[...new Set(h)].map(m=>`"${m}"`);l.searchParams.set("columns",g.join(","))}}return new Ys({method:a,url:l,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:o,defaultToNull:a=!0}={}){var l;const c="POST",{url:h,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),o&&g.append("Prefer",`count=${o}`),a||g.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);h.searchParams.set("columns",v.join(","))}}return new Ys({method:c,url:h,headers:g,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var i;const o="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Ys({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:t}={}){var e;const i="DELETE",{url:o,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Ys({method:i,url:o,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},bN=class Fv{constructor(e,{headers:i={},schema:o,fetch:a}={}){this.url=e,this.headers=new Headers(i),this.schemaName=o,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new EN(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Fv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:o=!1,get:a=!1,count:l}={}){var c;let h;const g=new URL(`${this.url}/rpc/${e}`);let m;const v=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(v)),_=o&&Object.values(i).some(v);_?(h="POST",m=i):o||a?(h=o?"HEAD":"GET",Object.entries(i).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{g.searchParams.append(w,x)})):(h="POST",m=i);const E=new Headers(this.headers);return _?E.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&E.set("Prefer",`count=${l}`),new Ys({method:h,url:g,headers:E,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class wN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const o=i.versions;if(o&&o.node){const a=o.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const o=this.getWebSocketConstructor();return new o(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xN="2.90.1",AN=`realtime-js/${xN}`,Jv="1.0.0",CN="2.0.0",My=Jv,fd=1e4,RN=1e3,NN=100;var bi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bi||(bi={}));var pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pt||(pt={}));var yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yn||(yn={}));var hd;(function(t){t.websocket="websocket"})(hd||(hd={}));var Qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qi||(Qi={}));class IN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,o;const a=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var i,o;const a=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,o){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+m.length+_.length,w=new ArrayBuffer(this.HEADER_LENGTH+E);let x=new DataView(w),C=0;x.setUint8(C++,this.KINDS.userBroadcastPush),x.setUint8(C++,g.length),x.setUint8(C++,h.length),x.setUint8(C++,c.length),x.setUint8(C++,m.length),x.setUint8(C++,_.length),x.setUint8(C++,i),Array.from(g,k=>x.setUint8(C++,k.charCodeAt(0))),Array.from(h,k=>x.setUint8(C++,k.charCodeAt(0))),Array.from(c,k=>x.setUint8(C++,k.charCodeAt(0))),Array.from(m,k=>x.setUint8(C++,k.charCodeAt(0))),Array.from(_,k=>x.setUint8(C++,k.charCodeAt(0)));var R=new Uint8Array(w.byteLength+o.byteLength);return R.set(new Uint8Array(w),0),R.set(new Uint8Array(o),w.byteLength),R.buffer}decode(e,i){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return i(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,c,h,g]=o;return i({join_ref:a,ref:l,topic:c,event:h,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),o=i.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,a)}}_decodeUserBroadcast(e,i,o){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let g=this.HEADER_LENGTH+4;const m=o.decode(e.slice(g,g+a));g=g+a;const v=o.decode(e.slice(g,g+l));g=g+l;const _=o.decode(e.slice(g,g+c));g=g+c;const E=e.slice(g,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,x={type:this.BROADCAST_EVENT,event:v,payload:w};return c>0&&(x.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>i.includes(o)))}}class Yv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const ky=(t,e,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=MN(c,t,e,a),l),{}):{}},MN=(t,e,i,o)=>{const a=e.find(h=>h.name===t),l=a==null?void 0:a.type,c=i[t];return l&&!o.includes(l)?Kv(l,c):pd(c)},Kv=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return ON(e,i)}switch(t){case Je.bool:return kN(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return DN(e);case Je.json:case Je.jsonb:return UN(e);case Je.timestamp:return PN(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return pd(e);default:return pd(e)}},pd=t=>t,kN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ON=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,o=t[i];if(t[0]==="{"&&o==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Kv(e,h))}return t},PN=t=>typeof t=="string"?t.replace(" ","T"):t,jv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lc{constructor(e,i,o={},a=fd){this.channel=e,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var o;return this._hasReceived(e)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Dy||(Dy={}));class ar{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ar.syncState(this.state,a,l,c),this.pendingDiffs.forEach(g=>{this.state=ar.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ar.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,o,a){const l=this.cloneDeep(e),c=this.transformState(i),h={},g={};return this.map(l,(m,v)=>{c[m]||(g[m]=v)}),this.map(c,(m,v)=>{const _=l[m];if(_){const E=v.map(R=>R.presence_ref),w=_.map(R=>R.presence_ref),x=v.filter(R=>w.indexOf(R.presence_ref)<0),C=_.filter(R=>E.indexOf(R.presence_ref)<0);x.length>0&&(h[m]=x),C.length>0&&(g[m]=C)}else h[m]=v}),this.syncDiff(l,{joins:h,leaves:g},o,a)}static syncDiff(e,i,o,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(h,g)=>{var m;const v=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(g),v.length>0){const _=e[h].map(w=>w.presence_ref),E=v.filter(w=>_.indexOf(w.presence_ref)<0);e[h].unshift(...E)}o(h,v,g)}),this.map(c,(h,g)=>{let m=e[h];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),e[h]=m,a(h,m,g),m.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(o=>i(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,o)=>{const a=e[o];return"metas"in a?i[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[o]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Uy||(Uy={}));var lr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lr||(lr={}));var Jn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jn||(Jn={}));class Zs{constructor(e,i={config:{}},o){var a,l;if(this.topic=e,this.params=i,this.socket=o,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Lc(this,yn.join,this.params,this.timeout),this.rejoinTimer=new Yv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new ar(this),this.broadcastEndpointURL=jv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:c,presence:h,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(w=>w.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[lr.PRESENCE]&&this.bindings[lr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},E={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Jn.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Jn.CLOSED)),this.updateJoinPayload(Object.assign({config:E},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e==null||e(Jn.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,R=(x=C==null?void 0:C.length)!==null&&x!==void 0?x:0,k=[];for(let G=0;G<R;G++){const D=C[G],{filter:{event:F,schema:X,table:Y,filter:J}}=D,me=w&&w[G];if(me&&me.event===F&&Zs.isFilterValueEqual(me.schema,X)&&Zs.isFilterValueEqual(me.table,Y)&&Zs.isFilterValueEqual(me.filter,J))k.push(Object.assign(Object.assign({},D),{id:me.id}));else{this.unsubscribe(),this.state=pt.errored,e==null||e(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Jn.SUBSCRIBED);return}}).receive("error",w=>{this.state=pt.errored,e==null||e(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,o){return this.state===pt.joined&&e===lr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,o)}async httpSend(e,i,o={}){var a;if(i==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const m=await h.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,g;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Lc(this,yn.leave,{},e),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(e,i,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lc(this,e,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>NN){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,o){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,o){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:m,join:v}=yn;if(o&&[h,g,m,v].indexOf(c)>=0&&o!==this._joinRef())return;let E=this._onMessage(c,i,o);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var x,C,R;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((R=(C=w.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(w=>w.callback(E,o)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var x,C,R,k,G,D,F,X;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const Y=w.id,J=(x=w.filter)===null||x===void 0?void 0:x.event;return Y&&((C=i.ids)===null||C===void 0?void 0:C.includes(Y))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))&&(!(!((k=w.filter)===null||k===void 0)&&k.table)||w.filter.table===((G=i.data)===null||G===void 0?void 0:G.table))}else{const Y=(F=(D=w==null?void 0:w.filter)===null||D===void 0?void 0:D.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return Y==="*"||Y===((X=i==null?void 0:i.event)===null||X===void 0?void 0:X.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof E=="object"&&"ids"in E){const x=E.data,{schema:C,table:R,commit_timestamp:k,type:G,errors:D}=x;E=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:k,eventType:G,new:{},old:{},errors:D}),this._getPayloadRecords(x))}w.callback(E,o)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,o){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Zs.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(e[o]!==i[o])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yn.close,{},e)}_onError(e){this._on(yn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=ky(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=ky(e.columns,e.old_record)),i}}const qc=()=>{},Ha={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LN=[1e3,2e3,5e3,1e4],qN=1e4,GN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HN{constructor(e,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fd,this.transport=null,this.heartbeatIntervalMs=Ha.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qc,this.ref=0,this.reconnectTimer=null,this.vsn=My,this.logger=qc,this.conn=null,this.sendBuffer=[],this.serializer=new IN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${hd.websocket}`,this.httpEndpoint=jv(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,o){this.logger(e,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return Qi.Connecting;case bi.open:return Qi.Open;case bi.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new Zs(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:o,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${o} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RN,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ha.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:a,payload:l,ref:c}=i,h=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${o} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bi.open||this.conn.readyState===bi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${o}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const o=new Blob([GN],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,o=!1;if(e)i=e,o=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),i=this.accessTokenValue}else i=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(a=>{const l={access_token:i,version:AN};i&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(yn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Yv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ha.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,o,a,l,c,h,g,m,v,_,E,w;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:fd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Ha.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:qc,this.vsn=(g=e==null?void 0:e.vsn)!==null&&g!==void 0?g:My,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(x=>LN[x-1]||qN),this.vsn){case Jv:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((x,C)=>C(JSON.stringify(x))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((x,C)=>C(JSON.parse(x)));break;case CN:this.encode=(E=e==null?void 0:e.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ur=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function VN(t,e,i){const o=new URL(e,t);if(i)for(const[a,l]of Object.entries(i))l!==void 0&&o.searchParams.set(a,l);return o.toString()}async function zN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function BN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:a,body:l,headers:c}){const h=VN(t.baseUrl,o,a),g=await zN(t.auth),m=await e(h,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...g,...c},body:l?JSON.stringify(l):void 0}),v=await m.text(),_=(m.headers.get("content-type")||"").includes("application/json"),E=_&&v?JSON.parse(v):v;if(!m.ok){const w=_?E:void 0,x=w==null?void 0:w.error;throw new ur((x==null?void 0:x.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:w})}return{status:m.status,headers:m.headers,data:E}}}}function Va(t){return t.join("")}var $N=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Va(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Va(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Va(t.namespace)}`}),!0}catch(e){if(e instanceof ur&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof ur&&i.status===409)return;throw i}}};function Hs(t){return t.join("")}var FN=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof ur&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof ur&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},JN=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=BN({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new $N(this.client,e),this.tableOps=new FN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},hl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function We(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var YN=class extends hl{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},md=class extends hl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Ud=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),KN=()=>Response,gd=t=>{if(Array.isArray(t))return t.map(i=>gd(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=gd(o)}),e},jN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function cr(t){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(t)}function QN(t,e){if(cr(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var o=i.call(t,e);if(cr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZN(t){var e=QN(t,"string");return cr(e)=="symbol"?e:e+""}function WN(t,e,i){return(e=ZN(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Oy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,o)}return i}function pe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Oy(Object(i),!0).forEach(function(o){WN(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Oy(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}const Gc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},e1=async(t,e,i)=>{t instanceof await KN()&&!(i!=null&&i.noResolveJson)?t.json().then(o=>{const a=t.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new YN(Gc(o),a,l))}).catch(o=>{e(new md(Gc(o),o))}):e(new md(Gc(t),t))},t1=(t,e,i,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?a:(jN(o)?(a.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,e!=null&&e.duplex&&(a.duplex=e.duplex),pe(pe({},a),i))};async function mr(t,e,i,o,a,l){return new Promise((c,h)=>{t(i,t1(e,o,a,l)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>e1(g,h,o))})}async function dr(t,e,i,o){return mr(t,"GET",e,i,o)}async function gn(t,e,i,o,a){return mr(t,"POST",e,o,a,i)}async function yd(t,e,i,o,a){return mr(t,"PUT",e,o,a,i)}async function n1(t,e,i,o){return mr(t,"HEAD",e,pe(pe({},i),{},{noResolveJson:!0}),o)}async function Od(t,e,i,o,a){return mr(t,"DELETE",e,o,a,i)}var i1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}}};let Xv;Xv=Symbol.toStringTag;var s1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Xv]="BlobDownloadBuilder",this.promise=null}asStream(){return new i1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}}};const o1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Py={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var r1=class{constructor(t,e={},i,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=i,this.fetch=Ud(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,i,o){var a=this;try{let l;const c=pe(pe({},Py),o);let h=pe(pe({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",a.encodeMetadata(g)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),g&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(g))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),o!=null&&o.headers&&(h=pe(pe({},h),o.headers));const m=a._removeEmptyFolders(e),v=a._getFinalPath(m),_=await(t=="PUT"?yd:gn)(a.fetch,`${a.url}/object/${v}`,l,pe({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}}async upload(t,e,i){return this.uploadOrUpdate("POST",t,e,i)}async uploadToSignedUrl(t,e,i,o){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let g;const m=pe({upsert:Py.upsert},o),v=pe(pe({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{data:{path:l,fullPath:(await yd(a.fetch,h.toString(),g,{headers:v})).Key},error:null}}catch(g){if(a.shouldThrowOnError)throw g;if(We(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(t,e){var i=this;try{let o=i._getFinalPath(t);const a=pe({},i.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await gn(i.fetch,`${i.url}/object/upload/sign/${o}`,{},{headers:a}),c=new URL(i.url+l.url),h=c.searchParams.get("token");if(!h)throw new hl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async update(t,e,i){return this.uploadOrUpdate("PUT",t,e,i)}async move(t,e,i){var o=this;try{return{data:await gn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:o.headers}),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async copy(t,e,i){var o=this;try{return{data:{path:(await gn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:o.headers})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,i){var o=this;try{let a=o._getFinalPath(t),l=await gn(o.fetch,`${o.url}/object/sign/${a}`,pe({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:o.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${o.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,i){var o=this;try{const a=await gn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>pe(pe({},c),{},{signedUrl:c.signedURL?encodeURI(`${o.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}download(t,e){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>dr(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new s1(c,this.shouldThrowOnError)}async info(t){var e=this;const i=e._getFinalPath(t);try{return{data:gd(await dr(e.fetch,`${e.url}/object/info/${i}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const i=e._getFinalPath(t);try{return await n1(e.fetch,`${e.url}/object/${i}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(We(o)&&o instanceof md){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const i=this._getFinalPath(t),o=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&o.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&o.push(c);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${h}`)}}}async remove(t){var e=this;try{return{data:await Od(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async list(t,e,i){var o=this;try{const a=pe(pe(pe({},o1),e),{},{prefix:t||""});return{data:await gn(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},i),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async listV2(t,e){var i=this;try{const o=pe({},t);return{data:await gn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,o,{headers:i.headers},e),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Qv="2.90.1",Zv={"X-Client-Info":`storage-js/${Qv}`};var a1=class{constructor(t,e={},i,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=pe(pe({},Zv),e),this.fetch=Ud(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const i=e.listBucketOptionsToQueryString(t);return{data:await dr(e.fetch,`${e.url}/bucket${i}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await dr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async createBucket(t,e={public:!1}){var i=this;try{return{data:await gn(i.fetch,`${i.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var i=this;try{return{data:await yd(i.fetch,`${i.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await Od(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},l1=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},Zv),e),this.fetch=Ud(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await gn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async listBuckets(t){var e=this;try{const i=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&i.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&i.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&i.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&i.set("sortOrder",t.sortOrder),t!=null&&t.search&&i.set("search",t.search);const o=i.toString(),a=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await dr(e.fetch,a,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await Od(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}from(t){var e=this;if(!XN(t))throw new hl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new JN({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(i,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(g){if(o)throw g;return{data:null,error:g}}}}})}};const Pd={"X-Client-Info":`storage-js/${Qv}`,"Content-Type":"application/json"};var Wv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Hc=class extends Wv{constructor(t,e,i){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},u1=class extends Wv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ld=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),c1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ly=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d1=async(t,e,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new Hc(Ly(l),o,c))}).catch(()=>{const l=o+"";e(new Hc(a.statusText||`HTTP ${o} error`,o,l))});else{const l=o+"";e(new Hc(a.statusText||`HTTP ${o} error`,o,l))}}else e(new u1(Ly(t),t))},f1=(t,e,i,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(c1(o)?(a.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,pe(pe({},a),i)):a};async function h1(t,e,i,o,a,l){return new Promise((c,h)=>{t(i,f1(e,o,a,l)).then(g=>{if(!g.ok)throw g;if(o!=null&&o.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>d1(g,h,o))})}async function Zt(t,e,i,o,a){return h1(t,"POST",e,o,a,i)}var p1=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},Pd),e),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async getIndex(t,e){var i=this;try{return{data:await Zt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Qt(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async deleteIndex(t,e){var i=this;try{return{data:await Zt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers})||{},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Qt(o))return{data:null,error:o};throw o}}},m1=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},Pd),e),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async getVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Zt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async queryVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}},g1=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},Pd),e),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async listBuckets(t={}){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}},y1=class extends g1{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new v1(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,i=this;return e().call(i,t)}async getBucket(t){var e=()=>super.getBucket,i=this;return e().call(i,t)}async listBuckets(t={}){var e=()=>super.listBuckets,i=this;return e().call(i,t)}async deleteBucket(t){var e=()=>super.deleteBucket,i=this;return e().call(i,t)}},v1=class extends p1{constructor(t,e,i,o){super(t,e,o),this.vectorBucketName=i}async createIndex(t){var e=()=>super.createIndex,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,i=this;return e().call(i,i.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,i=this;return e().call(i,i.vectorBucketName,t)}index(t){return new _1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},_1=class extends m1{constructor(t,e,i,o,a){super(t,e,a),this.vectorBucketName=i,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(t){var e=()=>super.getVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},S1=class extends a1{constructor(t,e={},i,o){super(t,e,i,o)}from(t){return new r1(this.url,this.headers,t,this.fetch)}get vectors(){return new y1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new l1(this.url+"/iceberg",this.headers,this.fetch)}};const e0="2.90.1",Ks=30*1e3,vd=3,Vc=vd*Ks,T1="http://localhost:9999",E1="supabase.auth.token",b1={"X-Client-Info":`gotrue-js/${e0}`},_d="X-Supabase-Api-Version",t0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x1=600*1e3;class fr extends Error{constructor(e,i,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class A1 extends fr{constructor(e,i,o){super(e,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function C1(t){return ae(t)&&t.name==="AuthApiError"}class Zi extends fr{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Xn extends fr{constructor(e,i,o,a){super(e,o,a),this.name=i,this.status=o}}class Xt extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R1(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Vs extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class za extends Xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ba extends Xn{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N1(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class qy extends Xn{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class I1 extends Xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sd extends Xn{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function zc(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class Gy extends Xn{constructor(e,i,o){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class Td extends Xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hy=` 	
\r=`.split(""),M1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hy.length;e+=1)t[Hy[e].charCodeAt(0)]=-2;for(let e=0;e<nl.length;e+=1)t[nl[e].charCodeAt(0)]=e;return t})();function Vy(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(nl[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(nl[o]),e.queuedBits-=6}}function n0(t,e,i){const o=M1[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zy(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{U1(c,o,i)};for(let c=0;c<t.length;c+=1)n0(t.charCodeAt(c),a,l);return e.join("")}function k1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function D1(t,e){for(let i=0;i<t.length;i+=1){let o=t.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(t.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}k1(o,e)}}function U1(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function to(t){const e=[],i={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)n0(t.charCodeAt(a),i,o);return new Uint8Array(e)}function O1(t){const e=[];return D1(t,i=>e.push(i)),new Uint8Array(e)}function Wi(t){const e=[],i={queue:0,queuedBits:0},o=a=>{e.push(a)};return t.forEach(a=>Vy(a,i,o)),Vy(null,i,o),e.join("")}function P1(t){return Math.round(Date.now()/1e3)+t}function L1(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},i0=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function q1(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((o,a)=>{e[a]=o}),e}const s0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",js=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},Ki=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},wt=async(t,e)=>{await t.removeItem(e)};class pl{constructor(){this.promise=new pl.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}pl.promiseConstructor=Promise;function Bc(t){const e=t.split(".");if(e.length!==3)throw new Td("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!w1.test(e[o]))throw new Td("JWT not in base64url format");return{header:JSON.parse(zy(e[0])),payload:JSON.parse(zy(e[1])),signature:to(e[2]),raw:{header:e[0],payload:e[1]}}}async function H1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function V1(t,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){o(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function z1(t){return("0"+t.toString(16)).substr(-2)}function B1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,z1).join("")}async function $1(t){const i=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function F1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await $1(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(t,e,i=!1){const o=B1();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await js(t,`${e}-code-verifier`,a);const l=await F1(o);return[l,o===l?"plain":"s256"]}const J1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Y1(t){const e=t.headers.get(_d);if(!e||!e.match(J1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function j1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(t){if(!X1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $c(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Q1(t,e){return new Proxy(t,{get:(i,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,o,a)}})}function By(t){return JSON.parse(JSON.stringify(t))}const Xi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z1=[502,503,504];async function $y(t){var e;if(!G1(t))throw new Sd(Xi(t),0);if(Z1.includes(t.status))throw new Sd(Xi(t),t.status);let i;try{i=await t.json()}catch(l){throw new Zi(Xi(l),l)}let o;const a=Y1(t);if(a&&a.getTime()>=t0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Gy(Xi(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Xt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Gy(Xi(i),t.status,i.weak_password.reasons);throw new A1(Xi(i),t.status||500,o)}const W1=(t,e,i,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function he(t,e,i,o){var a;const l=Object.assign({},o==null?void 0:o.headers);l[_d]||(l[_d]=t0["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const c=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(c.redirect_to=o.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await eI(t,e,i+h,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function eI(t,e,i,o,a,l){const c=W1(e,o,a,l);let h;try{h=await t(i,Object.assign({},c))}catch(g){throw console.error(g),new Sd(Xi(g),0)}if(h.ok||await $y(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(g){await $y(g)}}function mn(t){var e;let i=null;iI(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=P1(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:o},error:null}}function Fy(t){const e=mn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tI(t){return{data:t,error:null}}function nI(t){const{action_link:e,email_otp:i,hashed_token:o,redirect_to:a,verification_type:l}=t,c=fl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:o,redirect_to:a,verification_type:l},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function Jy(t){return t}function iI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fc=["global","local","others"];class sI{constructor({url:e="",headers:i={},fetch:o}){this.url=e,this.headers=i,this.fetch=s0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Fc[0]){if(Fc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ae(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,i={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:wi})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:i}=e,o=fl(e,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nI,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ae(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wi})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,o,a,l,c,h,g;try{const m={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Jy});if(v.error)throw v.error;const _=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(x.split(";")[1].split("=")[1]);m[`${R}Page`]=C}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Bs(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wi})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){Bs(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:wi})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,i=!1){Bs(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:wi})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Bs(e.userId);try{const{data:i,error:o}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteFactor(e){Bs(e.userId),Bs(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,o,a,l,c,h,g;try{const m={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Jy});if(v.error)throw v.error;const _=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(x.split(";")[1].split("=")[1]);m[`${R}Page`]=C}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ae(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}}function Yy(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&i0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class oI extends o0{}async function rI(t,e,i){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await i()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new oI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function aI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lI(t){return parseInt(t,16)}function uI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function cI(t){var e;const{chainId:i,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:g,resources:m,scheme:v,uri:_,version:E}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=r0(t.address),x=v?`${v}://${o}`:o,C=t.statement?`${t.statement}
`:"",R=`${x} wants you to sign in with your Ethereum account:
${w}

${C}`;let k=`URI: ${_}
Version: ${E}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),h&&(k+=`
Not Before: ${h.toISOString()}`),g&&(k+=`
Request ID: ${g}`),m){let G=`
Resources:`;for(const D of m){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);G+=`
- ${D}`}k+=G}return`${R}
${k}`}class dt extends Error{constructor({message:e,code:i,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class il extends dt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function dI({error:t,options:e}){var i,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(a0(c)){if(l.rp.id!==c)return new dt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function fI({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(a0(o)){if(i.rpId!==o)return new dt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class hI{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pI=new hI;function mI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:o}=t,a=fl(t,["challenge","user","excludeCredentials"]),l=to(e).buffer,c=Object.assign(Object.assign({},i),{id:to(i.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const m=o[g];h.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:to(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function gI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,o=fl(t,["challenge","allowCredentials"]),a=to(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:to(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function yI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,o=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wi(new Uint8Array(a.authenticatorData)),clientDataJSON:Wi(new Uint8Array(a.clientDataJSON)),signature:Wi(new Uint8Array(a.signature)),userHandle:a.userHandle?Wi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ky(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _I(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:dI({error:e,options:t})}}}async function SI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:fI({error:e,options:t})}}}const TI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},EI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sl(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))o[l]=c;else if(i(c))o[l]=c;else if(e(c)){const h=o[l];e(h)?o[l]=sl(h,c):o[l]=sl(c)}else o[l]=c}return o}function bI(t,e){return sl(TI,t,e||{})}function wI(t,e){return sl(EI,t,e||{})}class xI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:o,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:h};const g=a??pI.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=bI(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:_}=await _I({publicKey:m,signal:g});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const m=wI(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:_}=await SI(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Zi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new fr("rpId is required for WebAuthn authentication")};try{if(!Ky())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:o},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:o,credential_response:g.credential_response}})}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Zi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new fr("rpId is required for WebAuthn registration")};try{if(!Ky())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:g,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:a},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new Zi("Unexpected error in register",c)}}}}aI();const AI={url:T1,storageKey:E1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jy(t,e,i){return await i()}const Fs={};class hr{get jwks(){var e,i;return(i=(e=Fs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Fs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{cachedAt:e})}constructor(e){var i,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},AI),e);if(this.storageKey=l.storageKey,this.instanceID=(i=hr.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,hr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new sI({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=s0(l.fetch),this.lock=l.lock||jy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&xt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=rI:this.lock=jy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:i0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Yy(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${e0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},o="none";if(xt()&&(i=q1(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),xt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),N1(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ae(i)?this._returnResult({error:i}):this._returnResult({error:new Zi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,o,a;try{const l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:mn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,o,a;try{let l;if("email"in e){const{email:v,password:_,options:E}=e;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await zs(this.storage,this.storageKey)),l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:v,password:_,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:w,code_challenge_method:x},xform:mn})}else if("phone"in e){const{phone:v,password:_,options:E}=e;l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(a=E==null?void 0:E.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:mn})}else throw new za("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Fy})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Fy})}else throw new za("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new Vs;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,o,a,l,c,h,g,m,v,_,E;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:C,wallet:R,statement:k,options:G}=e;let D;if(xt())if(typeof R=="object")D=R;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")D=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=R}const F=new URL((i=G==null?void 0:G.url)!==null&&i!==void 0?i:window.location.href),X=await D.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=r0(X[0]);let J=(o=G==null?void 0:G.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){const W=await D.request({method:"eth_chainId"});J=lI(W)}const me={domain:F.host,address:Y,statement:k,uri:F.href,version:"1",chainId:J,nonce:(a=G==null?void 0:G.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=G==null?void 0:G.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=G==null?void 0:G.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=G==null?void 0:G.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=G==null?void 0:G.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=G==null?void 0:G.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=cI(me),x=await D.request({method:"personal_sign",params:[uI(w),Y]})}try{const{data:C,error:R}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:x},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:mn});if(R)throw R;if(!C||!C.session||!C.user){const k=new Vs;return this._returnResult({data:{user:null,session:null},error:k})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:R})}catch(C){if(ae(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var i,o,a,l,c,h,g,m,v,_,E,w;let x,C;if("message"in e)x=e.message,C=e.signature;else{const{chain:R,wallet:k,statement:G,options:D}=e;let F;if(xt())if(typeof k=="object")F=k;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))F=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=k}const X=new URL((i=D==null?void 0:D.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in F&&F.signIn){const Y=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),G?{statement:G}:null));let J;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")J=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)J=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)x=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),C=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${X.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(a=(o=D==null?void 0:D.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=D==null?void 0:D.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(v=D==null?void 0:D.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Y=await F.signMessage(new TextEncoder().encode(x),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Y}}try{const{data:R,error:k}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Wi(C)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mn});if(k)throw k;if(!R||!R.session||!R.user){const G=new Vs;return this._returnResult({data:{user:null,session:null},error:G})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:k})}catch(R){if(ae(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const i=await Ki(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{if(!o&&this.flowType==="pkce")throw new I1;const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:mn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:o,token:a,access_token:l,nonce:c}=e,h=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:mn}),{data:g,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const v=new Vs;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,o,a,l,c;try{if("email"in e){const{email:h,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await zs(this.storage,this.storageKey));const{error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:g}=e,{data:m,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:v})}throw new za("You must provide either an email or phone number.")}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,o;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:h}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:mn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,m=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var i,o,a,l,c;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await zs(this.storage,this.storageKey));const m=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:tI});return!((l=m.data)===null||l===void 0)&&l.url&&xt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;if(o)throw o;if(!i)throw new Xt;const{error:a}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:c}=await he(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:c,error:h}=await he(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new za("You must provide either an email or phone number and a type")}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Vc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const c=await Ki(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=$c()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=Q1(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wi}):await this._useSession(async i=>{var o,a,l;const{data:c,error:h}=i;if(h)throw h;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:wi})})}catch(i){if(ae(i))return R1(i)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new Xt;const c=a.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await zs(this.storage,this.storageKey));const{data:m,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:wi});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xt;const i=Date.now()/1e3;let o=i,a=!0,l=null;const{payload:c}=Bc(e.access_token);if(c.exp&&(o=c.exp,a=o<=i),a){const{data:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var o;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(o=c.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Xt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!xt())throw new Ba("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ba(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ba("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qy("No code detected.");const{data:G,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:g,token_type:m}=e;if(!l||!h||!c||!m)throw new Ba("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let E=v+_;g&&(E=parseInt(g));const w=E-v;w*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const x=E-_;v-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,E,v):v-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,E,v);const{data:C,error:R}=await this._getUser(l);if(R)throw R;const k={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:_,expires_at:E,refresh_token:c,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(o){if(ae(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:l}=i;if(l)return this._returnResult({error:l});const c=(o=a.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(C1(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=L1(),o={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async i=>{var o,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await zs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:o,error:a}=await this._useSession(async l=>{var c,h,g,m,v;const{data:_,error:E}=l;if(E)throw E;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return xt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ae(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var o;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:h,token:g,access_token:m,nonce:v}=e,_=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:mn}),{data:E,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Vs}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:w}))}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var o,a;const{data:l,error:c}=i;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await V1(async a=>(a>0&&await H1(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&zc(l)&&Date.now()+c-o<Ks})}catch(o){if(this._debug(i,"error",o),ae(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",o),xt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Ki(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await js(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:$c()}else if(a&&!a.user&&!a.user){const c=await Ki(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await wt(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,a)):a.user=$c()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Vc;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Vc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),zc(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var i,o;if(!e)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new pl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Xt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ae(l)){const c={data:null,error:l};return zc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await js(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=By(a);await js(this.storage,this.storageKey,l)}else{const a=By(i);await js(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ks}ms, refresh threshold is ${vd} ticks`),a<=vd&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof o0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,c]=await zs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var o;const{data:a,error:l}=i;return l?this._returnResult({data:null,error:l}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var o,a;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await he(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yI(e.webauthn.credential_response):vI(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:g}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mI(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:gI(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bc(o.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(e=o.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;return a?this._returnResult({data:null,error:a}):o?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Xt});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&xt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ae(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,i){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Xt});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&xt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ae(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;return o?this._returnResult({data:null,error:o}):i?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;return a?this._returnResult({data:null,error:a}):o?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let o=i.keys.find(h=>h.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(h=>h.kid===e),o&&this.jwks_cached_at+x1>a)return o;const{data:l,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(h=>h.kid===e),!o)?null:o}async getClaims(e,i={}){try{let o=e;if(!o){const{data:w,error:x}=await this.getSession();if(x||!w.session)return this._returnResult({data:null,error:x});o=w.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:g}}=Bc(o);i!=null&&i.allowExpired||K1(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:w}=await this.getUser(o);if(w)throw w;return{data:{claims:l,header:a,signature:c},error:null}}const v=j1(a.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,c,O1(`${h}.${g}`)))throw new Td("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(o){if(ae(o))return this._returnResult({data:null,error:o});throw o}}}hr.nextInstanceID={};const CI=hr,RI="2.90.1";let rr="";typeof Deno<"u"?rr="deno":typeof document<"u"?rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rr="react-native":rr="node";const NI={"X-Client-Info":`supabase-js-${rr}/${RI}`},II={headers:NI},MI={schema:"public"},kI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DI={};function pr(t){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(t)}function UI(t,e){if(pr(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var o=i.call(t,e);if(pr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OI(t){var e=UI(t,"string");return pr(e)=="symbol"?e:e+""}function PI(t,e,i){return(e=OI(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Xy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,o)}return i}function nt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Xy(Object(i),!0).forEach(function(o){PI(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Xy(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}const LI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qI=()=>Headers,GI=(t,e,i)=>{const o=LI(i),a=qI();return async(l,c)=>{var h;const g=(h=await e())!==null&&h!==void 0?h:t;let m=new a(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(l,nt(nt({},c),{},{headers:m}))}};function HI(t){return t.endsWith("/")?t:t+"/"}function VI(t,e){var i,o;const{db:a,auth:l,realtime:c,global:h}=t,{db:g,auth:m,realtime:v,global:_}=e,E={db:nt(nt({},g),a),auth:nt(nt({},m),l),realtime:nt(nt({},v),c),storage:{},global:nt(nt(nt({},_),h),{},{headers:nt(nt({},(i=_==null?void 0:_.headers)!==null&&i!==void 0?i:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?E.accessToken=t.accessToken:delete E.accessToken,E}function zI(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HI(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var BI=class extends CI{constructor(t){super(t)}},$I=class{constructor(t,e,i){var o,a;this.supabaseUrl=t,this.supabaseKey=e;const l=zI(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:MI,realtime:DI,auth:nt(nt({},kI),{},{storageKey:c}),global:II},g=VI(i??{},h);if(this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=g.auth)!==null&&m!==void 0?m:{},this.headers,g.global.fetch)}this.fetch=GI(e,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new bN(new URL("rest/v1",l).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new S1(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new vN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,i;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:o,userStorage:a,storageKey:l,flowType:c,lock:h,debug:g,throwOnError:m},v,_){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BI({url:this.authUrl.href,headers:nt(nt({},E),v),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:o,userStorage:a,flowType:c,lock:h,debug:g,throwOnError:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new HN(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FI=(t,e,i)=>new $I(t,e,i);function JI(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const i=e.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}JI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YI="https://gvatiiyguuxtepnzhoaz.supabase.co",KI="sb_publishable_FKPnnXMyA79wWvhdssfugA_F0X-QP8M",ct=FI(YI,KI),xi={logo:"the-right-one.jpg",heroImage:"OS2A5815(2).jpg",preventionHeader:"https://images.unsplash.com/photo-1581093458791-9f3c3900df4b?auto=format&fit=crop&q=80&w=1200",awarenessHeader:"https://images.unsplash.com/photo-1529390079861-591de354faf5?auto=format&fit=crop&q=80&w=1200",caregroupHeader:"https://images.unsplash.com/photo-1531206715517-5c0ba140b2b8?auto=format&fit=crop&q=80&w=1200",capacityHeader:"https://images.unsplash.com/photo-1551076805-e1869033e561?auto=format&fit=crop&q=80&w=1200",researchHeader:"https://images.unsplash.com/photo-1532187863486-abf51ad95999?auto=format&fit=crop&q=80&w=1200"},jI=()=>{const[t,e]=ce.useState("home"),[i,o]=ce.useState(null),[a,l]=ce.useState([]),[c,h]=ce.useState(!1),[g,m]=ce.useState(null),[v,_]=ce.useState([]),[E,w]=ce.useState([]),[x,C]=ce.useState([]),[R,k]=ce.useState([]),[G,D]=ce.useState([]),[F,X]=ce.useState(null),[Y,J]=ce.useState(null),[me,W]=ce.useState(null),[be,Pe]=ce.useState(!0),[Ye,Me]=ce.useState(!1),[Qe,At]=ce.useState(new Set(["home"])),L=ce.useCallback(($,K="info")=>{const ee=Math.random().toString(36).substr(2,9);l(te=>[...te,{id:ee,message:$,type:K}]),setTimeout(()=>{l(te=>te.filter(ne=>ne.id!==ee))},4e3)},[]),j=ce.useCallback(async $=>{if(!$){h(!1),m(null);return}try{const{data:K}=await ct.from("profiles").select("*").eq("id",$.user.id).single();K&&(K.role==="admin"||K.role==="staff")&&(m(K),h(!0))}catch{h(!1)}},[]),de=ce.useCallback(async $=>{if(!Qe.has($)){Me(!0);try{switch($){case"activities":case"impact":const K=await ct.from("activities").select("*").order("date",{ascending:!1});K.data&&w(K.data);break;case"gallery":const ee=await ct.from("gallery").select("*").order("date",{ascending:!1});ee.data&&C(ee.data);break;case"partners":const te=await ct.from("partners").select("*").order("name",{ascending:!0});te.data&&k(te.data);break;case"resource-library":const ne=await ct.from("resources").select("*").order("date",{ascending:!1});ne.data&&D(ne.data);break;case"admin":const[qe,Ne,re,it,ft]=await Promise.all([ct.from("submissions").select("*").order("date",{ascending:!1}),ct.from("activities").select("*").order("date",{ascending:!1}),ct.from("gallery").select("*").order("date",{ascending:!1}),ct.from("partners").select("*").order("name",{ascending:!0}),ct.from("resources").select("*").order("date",{ascending:!1})]);qe.data&&_(qe.data),Ne.data&&w(Ne.data),re.data&&C(re.data),it.data&&k(it.data),ft.data&&D(ft.data);break}At(K=>new Set(K).add($))}catch(K){console.error("Fetch error:",K),L("Failed to load some content. Please try again.","error")}finally{Me(!1)}}},[Qe,L]);ce.useEffect(()=>{ct.auth.getSession().then(({data:{session:K}})=>{j(K),Pe(!1)});const{data:{subscription:$}}=ct.auth.onAuthStateChange((K,ee)=>j(ee));return()=>$.unsubscribe()},[j]),ce.useEffect(()=>{de(t)},[t,de]);const Se=($,K)=>{e($),o(K||null),window.scrollTo({top:0,left:0,behavior:"instant"})},Ge=async($,K)=>{const ee={id:Math.random().toString(36).substr(2,9),type:$,status:"pending",date:new Date().toISOString(),data:K},{error:te}=await ct.from("submissions").insert([ee]);te||(_(ne=>[ee,...ne]),X(null),L("Request sent successfully.","success"))},I=async($,K)=>{const{error:ee}=await ct.from("submissions").update({status:K}).eq("id",$);ee||(_(te=>te.map(ne=>ne.id===$?{...ne,status:K}:ne)),L(`Status updated to ${K}.`,"info"))},z=async($,K,ee)=>{if(confirm("Delete permanently? This action cannot be undone."))try{const{error:te}=await ct.from($).delete().eq("id",K);if(te){console.error(`Error deleting from ${$}:`,te),L(`Delete failed: ${te.message}`,"error");return}ee(ne=>ne.filter(qe=>qe.id!==K)),L("Deleted successfully.","success")}catch(te){L(`System error: ${te.message}`,"error")}},Q=async $=>{try{const{error:K}=await ct.from("activities").upsert([$]);if(K)throw K;w(ee=>ee.some(ne=>ne.id===$.id)?ee.map(ne=>ne.id===$.id?$:ne):[$,...ee]),L("Activity saved.","success")}catch(K){console.error("Activity save error:",K),L(`Failed to save activity: ${K.message}`,"error")}},se=async $=>{try{const{error:K}=await ct.from("gallery").insert($);if(K)throw K;C(ee=>[...$,...ee]),L("Photos published.","success")}catch(K){L(`Failed to upload photos: ${K.message}`,"error")}},ye=async $=>{try{const{error:K}=await ct.from("partners").upsert([$]);if(K)throw K;k(ee=>ee.some(ne=>ne.id===$.id)?ee.map(ne=>ne.id===$.id?$:ne):[$,...ee]),L("Partner saved.","success")}catch(K){L(`Failed to save partner: ${K.message}`,"error")}},Ee=async $=>{try{const K={id:$.id,title:$.title,category:$.category,file_data:$.file_data,file_name:$.file_name,file_mime_type:$.file_mime_type,date:$.date},{error:ee}=await ct.from("resources").insert([K]);if(ee)throw ee;D(te=>[$,...te]),L("Resource published.","success")}catch(K){L(`Upload error: ${K.message}`,"error")}},ke=()=>{if(Ye&&!c)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-cream space-y-4",children:[S.jsx(ja,{className:"animate-spin text-burntOrange",size:48}),S.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-burntOrange",children:"Preparing Content..."})]});switch(t){case"home":return S.jsxs("div",{className:"animate-in fade-in duration-700",children:[S.jsx(jT,{onNavigate:Se}),S.jsx("section",{className:"py-20 bg-white text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"p-10 bg-burntOrange rounded-[3rem] text-cream group cursor-pointer",onClick:()=>Se("about"),children:[S.jsx("h3",{className:"text-2xl font-serif font-bold mb-4",children:"Our Vision"}),S.jsx("p",{className:"opacity-90 leading-relaxed font-medium mb-6",children:"To create an informed community that understands the need for prevention of sickle cell disease, management and support for sickle cell warriors."}),S.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-black uppercase tracking-[0.2em]",children:[S.jsx("span",{children:"Learn More"}),S.jsx($a,{size:12})]})]}),S.jsxs("div",{className:"p-10 bg-cream rounded-[3rem] border border-burntOrange/10 group cursor-pointer",onClick:()=>Se("about"),children:[S.jsx("h3",{className:"text-2xl font-serif font-bold text-darkText mb-4",children:"Our Mission"}),S.jsx("p",{className:"text-darkText/70 leading-relaxed font-medium mb-6",children:"To heighten awareness, education and support for sickle cell disease within our community and connect globally."}),S.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-black uppercase tracking-[0.2em] text-burntOrange",children:[S.jsx("span",{children:"Read Mission"}),S.jsx($a,{size:12})]})]})]})}),S.jsx("section",{className:"py-16 bg-cream",children:S.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:S.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Warriors Supported",value:"500+"},{label:"Genotypes Tested",value:"1,200+"},{label:"Outreaches Held",value:"45+"},{label:"Medical Partners",value:"12+"}].map(($,K)=>S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-burntOrange/5 text-center transform hover:scale-105 transition-transform duration-500",children:[S.jsx("p",{className:"text-4xl font-serif font-bold text-burntOrange mb-1",children:$.value}),S.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-darkText/40 leading-none",children:$.label})]},K))})})}),S.jsx(QT,{onNavigate:Se})]});case"programs":return S.jsx(ro,{onNavigate:Se});case"awareness":return S.jsx(An,{title:"Awareness & Sensitization",icon:jc,image:xi.awarenessHeader,description:"Reducing stigma through informed community sensitization and public campaigns.",onNavigate:Se});case"prevention":return S.jsx(An,{title:"Prevention & Genotype Education",icon:Kc,image:xi.preventionHeader,description:"Promoting informed decision-making through genotype education and testing.",onNavigate:Se});case"caregroup":return S.jsx(An,{title:"Care Group & Support",icon:Fa,image:xi.caregroupHeader,description:"Safe spaces for warriors and caregivers to share strength and support.",onNavigate:Se});case"capacity":return S.jsx(An,{title:"Capacity Building & Training",icon:Ka,image:xi.capacityHeader,description:"Empowering healthcare workers to improve sickle cell care delivery.",onNavigate:Se});case"research":return S.jsx(An,{title:"Research & Collaboration",icon:Jc,image:xi.researchHeader,description:"Impact through evidence-based research and global partnerships.",onNavigate:Se});case"about":return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:S.jsxs("div",{className:"mb-20",children:[S.jsxs("div",{className:"inline-flex items-center space-x-3 bg-burntOrange/10 px-6 py-3 rounded-full text-burntOrange font-black uppercase tracking-widest text-[10px] mb-8",children:[S.jsx(GT,{size:16}),S.jsx("span",{children:"Established 2024"})]}),S.jsx("h1",{className:"text-7xl font-serif font-bold mb-12 tracking-tight",children:"About ZSI."}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[S.jsxs("div",{className:"space-y-8",children:[S.jsx("p",{className:"text-2xl font-medium leading-relaxed italic border-l-4 border-burntOrange pl-8",children:"Zankli Sicklecare Initiative is a community-centered initiative committed to improving awareness, prevention, management, and support for sickle cell disease."}),S.jsxs("p",{className:"leading-relaxed text-lg font-medium opacity-80",children:["Established under the ",S.jsx("strong",{children:"ASH International Outreach Initiative"}),", ZSI serves as a beacon of hope for sickle cell warriors and their families. Our initiative is proudly affiliated with ",S.jsx("strong",{children:"Zankli Medical Centre"})," and the ",S.jsx("strong",{children:"Succour Foundation"}),", leveraging decades of clinical excellence and humanitarian commitment."]})]}),S.jsxs("div",{className:"space-y-12",children:[S.jsxs("div",{className:"p-10 bg-white rounded-[3rem] shadow-sm border border-burntOrange/5",children:[S.jsx("h3",{className:"text-2xl font-serif font-bold text-burntOrange mb-4",children:"Our Vision"}),S.jsx("p",{className:"text-darkText/60 font-medium leading-relaxed",children:"To create an informed community that understands the need for prevention of sickle cell disease, management and support for sickle cell warriors."})]}),S.jsxs("div",{className:"p-10 bg-burntOrange rounded-[3rem] text-cream shadow-xl",children:[S.jsx("h3",{className:"text-2xl font-serif font-bold mb-4",children:"Our Mission"}),S.jsx("p",{className:"opacity-90 font-medium leading-relaxed",children:"To heighten awareness, education and support for sickle cell disease within our community and connect globally."})]})]})]})]})})});case"partners":return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("div",{className:"mb-20 space-y-6",children:[S.jsxs("div",{className:"inline-flex items-center space-x-3 bg-burntOrange/10 px-4 py-2 rounded-full text-burntOrange",children:[S.jsx(dT,{size:18}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Zankli Hub"})]}),S.jsx("h1",{className:"text-5xl lg:text-7xl font-serif font-bold tracking-tight text-darkText",children:"Our Partners"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:R.length===0?S.jsx("p",{className:"col-span-full text-center py-20 text-darkText/40 font-bold",children:"No partners found yet."}):R.map($=>S.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-burntOrange/5 hover:border-burntOrange transition-all group animate-in fade-in slide-in-from-bottom-8 duration-700",children:[S.jsx("div",{className:"aspect-square rounded-[2rem] overflow-hidden mb-8 border border-burntOrange/5 bg-cream/30 p-4 flex items-center justify-center",children:S.jsx("img",{src:$.logo,alt:$.name,className:"max-w-full max-h-full object-contain mix-blend-multiply group-hover:scale-110 transition-transform duration-700"})}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-burntOrange bg-burntOrange/5 px-4 py-1.5 rounded-full",children:$.type}),S.jsx("h3",{className:"text-3xl font-serif font-bold text-darkText",children:$.name}),$.description&&S.jsxs("p",{className:"text-darkText/50 font-medium text-sm leading-relaxed italic",children:['"',$.description,'"']}),$.website&&S.jsxs("a",{href:$.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-burntOrange text-[10px] font-black uppercase tracking-widest hover:underline pt-2",children:[S.jsx("span",{children:"Visit Website"}),S.jsx(iT,{size:12})]})]})]},$.id))})]})});case"gallery":return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("div",{className:"mb-20 space-y-6",children:[S.jsxs("div",{className:"inline-flex items-center space-x-3 bg-burntOrange/10 px-4 py-2 rounded-full text-burntOrange",children:[S.jsx(Ua,{size:18}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Zankli Hub"})]}),S.jsx("h1",{className:"text-5xl lg:text-7xl font-serif font-bold tracking-tight text-darkText",children:"Photo Gallery"})]}),x.length===0?S.jsx("p",{className:"text-center py-20 text-darkText/40 font-bold",children:"The gallery is currently being curated."}):S.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:x.map($=>S.jsx("div",{className:"relative break-inside-avoid rounded-[3rem] overflow-hidden group cursor-pointer shadow-xl border-4 border-white",onClick:()=>W($.url),children:S.jsx("img",{src:$.url,className:"w-full h-auto object-cover group-hover:scale-110 transition-transform duration-1000"})},$.id))})]})});case"activities":return S.jsx(ml,{activities:E,onOpenActivity:J});case"resource-library":return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("div",{className:"mb-20 space-y-6",children:[S.jsxs("div",{className:"inline-flex items-center space-x-3 bg-burntOrange/10 px-4 py-2 rounded-full text-burntOrange",children:[S.jsx($S,{size:18}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Zankli Hub"})]}),S.jsx("h1",{className:"text-5xl lg:text-7xl font-serif font-bold tracking-tight text-darkText",children:"Resource Library"})]}),G.length===0?S.jsx("p",{className:"text-center py-20 text-darkText/40 font-bold",children:"Resources are being prepared for public access."}):S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:G.map($=>{var K;return S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-burntOrange/5 hover:border-burntOrange transition-all group animate-in fade-in slide-in-from-bottom-8 duration-700",children:[S.jsx("div",{className:"bg-burntOrange/5 w-16 h-16 rounded-2xl flex items-center justify-center text-burntOrange mb-6 group-hover:bg-burntOrange group-hover:text-cream transition-colors",children:$.file_mime_type.includes("image")?S.jsx(Ua,{size:32}):S.jsx(Ym,{size:32})}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-burntOrange/40 group-hover:text-cream/40 mb-2 block",children:$.category}),S.jsx("h3",{className:"text-2xl font-serif font-bold text-darkText group-hover:text-cream mb-4",children:$.title}),S.jsxs("div",{className:"pt-4 border-t border-burntOrange/10 group-hover:border-white/10 flex justify-between items-center",children:[S.jsx("span",{className:"text-[9px] font-bold text-darkText/30 group-hover:text-cream/30 uppercase tracking-widest",children:(K=$.file_name.split(".").pop())==null?void 0:K.toUpperCase()}),S.jsx("a",{href:$.file_data,download:$.file_name,className:"bg-burntOrange text-cream p-3 rounded-xl shadow-lg group-hover:bg-white group-hover:text-burntOrange transition-colors",children:S.jsx(tT,{size:18})})]})]},$.id)})})]})});case"involved":return S.jsx("div",{className:"pt-32 pb-24 bg-cream text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12 text-center space-y-12",children:[S.jsx("h1",{className:"text-7xl font-serif font-bold",children:"Get Involved."}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-left",children:[S.jsxs("div",{id:"volunteer",className:"p-12 bg-white rounded-[4rem] shadow-xl border border-burntOrange/5 space-y-8 scroll-mt-32",children:[S.jsx("div",{className:"bg-burntOrange/10 w-16 h-16 rounded-2xl flex items-center justify-center text-burntOrange",children:S.jsx(Fa,{size:32})}),S.jsx("h3",{className:"text-3xl font-serif font-bold",children:"Volunteer"}),S.jsx("button",{onClick:()=>X("volunteer"),className:"w-full bg-burntOrange text-cream py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl",children:"Apply Now"})]}),S.jsxs("div",{id:"support",className:"p-12 bg-cream rounded-[4rem] border-2 border-burntOrange/10 space-y-8 scroll-mt-32",children:[S.jsx("div",{className:"bg-burntOrange/10 w-16 h-16 rounded-2xl flex items-center justify-center text-burntOrange",children:S.jsx(QS,{size:32})}),S.jsx("h3",{className:"text-3xl font-serif font-bold",children:"Support a Warrior"}),S.jsx("button",{onClick:()=>X("support"),className:"w-full bg-burntOrange text-cream py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl",children:"Donate Now"})]})]})]})});case"admin":return c?S.jsx(Ri,{}):S.jsx(ao,{});default:return null}};if(be)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-cream space-y-6",children:[S.jsx("div",{className:"w-16 h-16 border-4 border-burntOrange border-t-transparent rounded-full animate-spin"}),S.jsx("p",{className:"font-bold text-burntOrange uppercase tracking-[0.4em] text-[10px] animate-pulse",children:"Initializing Portal..."})]});return S.jsxs("div",{className:`min-h-screen font-sans selection:bg-burntOrange/30 bg-cream ${c&&t!=="admin"?"pt-8":""}`,children:[S.jsx(vt,{notifications:a}),S.jsx(KT,{onNavigate:Se,currentPage:t}),S.jsx("main",{className:"transition-opacity duration-300",children:ke()}),S.jsx(pN,{onNavigate:Se}),F&&S.jsx(yr,{type:F,onClose:()=>X(null),onAddSubmission:Ge}),Y&&S.jsx(Ze,{activity:Y,onClose:()=>J(null)}),S.jsx(hN,{}),me&&S.jsxs("div",{className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>W(null),children:[S.jsx("button",{className:"absolute top-10 right-10 text-cream",children:S.jsx(Ei,{size:48})}),S.jsx("img",{src:me,className:"max-w-full max-h-[90vh] object-contain rounded-2xl"})]})]});function vt({notifications:$}){return S.jsx("div",{className:"fixed top-24 right-6 z-[300] space-y-4 w-80 pointer-events-none",children:$.map(K=>S.jsxs("div",{className:`p-5 rounded-2xl shadow-2xl flex items-center space-x-3 border animate-in slide-in-from-right-10 duration-300 pointer-events-auto ${K.type==="success"?"bg-green-500 text-white":K.type==="error"?"bg-red-500 text-white":"bg-burntOrange text-white"}`,children:[S.jsx(yT,{size:20}),S.jsx("p",{className:"font-bold text-sm",children:K.message})]},K.id))})}function Ze({activity:$,onClose:K}){return S.jsx("div",{className:"fixed inset-0 z-[250] bg-darkText/95 backdrop-blur-xl flex items-center justify-center p-4 md:p-10",onClick:K,children:S.jsxs("div",{className:"bg-cream w-full max-w-5xl rounded-[4rem] overflow-hidden shadow-2xl flex flex-col md:flex-row relative",onClick:ee=>ee.stopPropagation(),children:[S.jsx("div",{className:"absolute top-8 right-8 z-[260]",children:S.jsxs("button",{onClick:K,className:"bg-burntOrange text-cream px-8 py-4 rounded-full font-black uppercase text-[12px] shadow-2xl flex items-center space-x-3 transition-all",children:[S.jsx(Yc,{size:18,className:"rotate-180"}),S.jsx("span",{children:"Back"})]})}),S.jsxs("div",{className:"md:w-1/2 relative bg-burntOrange min-h-[400px]",children:[S.jsx("img",{src:$.images[0],className:"w-full h-full object-cover opacity-80"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-burntOrange to-transparent"}),S.jsx("div",{className:"absolute bottom-12 left-12 text-cream space-y-4",children:S.jsx("h2",{className:"text-4xl font-serif font-bold",children:$.title})})]}),S.jsxs("div",{className:"md:w-1/2 p-12 bg-white text-darkText overflow-y-auto max-h-[90vh]",children:[S.jsx("p",{className:"leading-relaxed font-medium text-lg",children:$.story||$.description}),S.jsx("button",{onClick:K,className:"w-full bg-darkText text-cream py-6 rounded-3xl font-black uppercase text-xs mt-10",children:"Return"})]})]})})}function Ri(){const[$,K]=ce.useState("inbox"),[ee,te]=ce.useState(null),[ne,qe]=ce.useState(null),[Ne,re]=ce.useState(!1),[it,ft]=ce.useState(!1),[Ct,It]=ce.useState(!1),[Cn,Vt]=ce.useState(!1);return S.jsxs("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:[S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-6",children:[S.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:["inbox","activities","gallery","partners","resources"].map(le=>S.jsx("button",{onClick:()=>K(le),className:`whitespace-nowrap px-8 py-4 rounded-2xl font-black uppercase tracking-widest text-[10px] ${$===le?"bg-burntOrange text-cream":"bg-white"}`,children:le},le))}),S.jsxs("div",{className:"flex space-x-4",children:[$==="activities"&&S.jsxs("button",{onClick:()=>{te(null),re(!0)},className:"bg-darkText text-cream px-8 py-4 rounded-2xl font-black text-[10px] flex items-center space-x-2",children:[S.jsx(Uc,{size:16}),S.jsx("span",{children:"New Activity"})]}),$==="gallery"&&S.jsxs("button",{onClick:()=>ft(!0),className:"bg-darkText text-cream px-8 py-4 rounded-2xl font-black text-[10px] flex items-center space-x-2",children:[S.jsx(Km,{size:16}),S.jsx("span",{children:"Upload Photos"})]}),$==="partners"&&S.jsxs("button",{onClick:()=>{qe(null),It(!0)},className:"bg-darkText text-cream px-8 py-4 rounded-2xl font-black text-[10px] flex items-center space-x-2",children:[S.jsx(Uc,{size:16}),S.jsx("span",{children:"Add Partner"})]}),$==="resources"&&S.jsxs("button",{onClick:()=>Vt(!0),className:"bg-darkText text-cream px-8 py-4 rounded-2xl font-black text-[10px] flex items-center space-x-2",children:[S.jsx(Uc,{size:16}),S.jsx("span",{children:"New Resource"})]})]})]}),$==="inbox"&&S.jsx("div",{className:"space-y-4",children:v.length===0?S.jsx("p",{className:"text-center py-20 opacity-30 font-bold uppercase tracking-widest",children:"No entries in inbox."}):v.map(le=>S.jsxs("div",{className:"bg-white p-6 rounded-2xl flex justify-between items-center shadow-sm",children:[S.jsxs("div",{children:[S.jsx("span",{className:"text-[10px] font-black uppercase px-2 py-1 rounded bg-burntOrange/10 text-burntOrange mr-2",children:le.type}),S.jsx("span",{className:"font-bold",children:le.data.fullName}),S.jsx("p",{className:"text-sm opacity-50",children:le.data.message})]}),S.jsxs("div",{className:"flex space-x-2",children:[le.status==="pending"&&S.jsx("button",{onClick:()=>I(le.id,"approved"),className:"p-2 bg-green-500 text-white rounded-lg",children:S.jsx(KS,{size:16})}),S.jsx("button",{onClick:()=>z("submissions",le.id,_),className:"p-2 bg-red-500 text-white rounded-lg",children:S.jsx(nr,{size:16})})]})]},le.id))}),$==="activities"&&S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map(le=>S.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm relative group",children:[S.jsx("img",{src:le.images[0],className:"w-full h-40 object-cover rounded-xl mb-4"}),S.jsx("h4",{className:"font-serif font-bold text-xl",children:le.title}),S.jsxs("div",{className:"flex space-x-2 mt-4",children:[S.jsx("button",{onClick:()=>{te(le),re(!0)},className:"flex-1 bg-burntOrange/10 text-burntOrange p-2 rounded-xl text-[10px] font-black uppercase",children:"Edit"}),S.jsx("button",{onClick:()=>z("activities",le.id,w),className:"p-2 bg-red-500 text-white rounded-xl",children:S.jsx(nr,{size:16})})]})]},le.id))}),$==="gallery"&&S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:x.map(le=>S.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden group",children:[S.jsx("img",{src:le.url,className:"w-full h-full object-cover"}),S.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:S.jsx("button",{onClick:()=>z("gallery",le.id,C),className:"p-2 bg-red-500 text-white rounded-lg",children:S.jsx(nr,{size:16})})})]},le.id))}),$==="partners"&&S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:R.map(le=>S.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm flex flex-col items-center",children:[S.jsx("img",{src:le.logo,className:"h-16 w-16 object-contain mb-4"}),S.jsx("h4",{className:"font-bold",children:le.name}),S.jsxs("div",{className:"flex space-x-2 mt-4 w-full",children:[S.jsx("button",{onClick:()=>{qe(le),It(!0)},className:"flex-1 bg-burntOrange/10 text-burntOrange p-2 rounded-xl text-[10px] font-black uppercase",children:"Edit"}),S.jsx("button",{onClick:()=>z("partners",le.id,k),className:"p-2 bg-red-500 text-white rounded-xl",children:S.jsx(nr,{size:16})})]})]},le.id))}),$==="resources"&&S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:G.map(le=>S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-burntOrange/5",children:[S.jsxs("div",{className:"flex items-start justify-between mb-6",children:[S.jsx("div",{className:"bg-burntOrange/5 p-4 rounded-2xl text-burntOrange",children:le.file_mime_type.includes("image")?S.jsx(Ua,{size:24}):S.jsx(Ym,{size:24})}),S.jsx("button",{onClick:()=>z("resources",le.id,D),className:"p-2 text-red-500 hover:bg-red-500 hover:text-white rounded-lg transition-all",children:S.jsx(nr,{size:16})})]}),S.jsx("h4",{className:"font-serif font-bold text-2xl mb-2",children:le.title}),S.jsx("p",{className:"text-[10px] font-black uppercase text-burntOrange",children:le.category})]},le.id))})]}),Ne&&S.jsx(ts,{activity:ee,onClose:()=>re(!1),onSave:le=>{Q(le),re(!1)}}),it&&S.jsx(oo,{onClose:()=>ft(!1),onSave:le=>{se(le),ft(!1)}}),Ct&&S.jsx(gr,{partner:ne,onClose:()=>It(!1),onSave:le=>{ye(le),It(!1)}}),Cn&&S.jsx(xn,{onClose:()=>Vt(!1),onSave:le=>{Ee(le),Vt(!1)}})]})}function ts({activity:$,onClose:K,onSave:ee}){const[te,ne]=ce.useState($||{id:"act_"+Math.random().toString(36).substr(2,9),title:"",date:new Date().toISOString().split("T")[0],location:"",purpose:"",description:"",story:"",category:"outreach",images:[]}),qe=ce.useRef(null),Ne=async re=>{const ft=Array.from(re.target.files||[]).map(It=>new Promise(Cn=>{const Vt=new FileReader;Vt.onloadend=()=>Cn(Vt.result),Vt.readAsDataURL(It)})),Ct=await Promise.all(ft);ne(It=>({...It,images:[...It.images,...Ct]}))};return S.jsx("div",{className:"fixed inset-0 z-[250] bg-darkText/95 flex items-center justify-center p-6 overflow-y-auto",children:S.jsxs("div",{className:"bg-cream w-full max-w-2xl rounded-[3rem] p-10 text-darkText my-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h3",{className:"text-3xl font-serif font-bold",children:"Activity Details"}),S.jsx("button",{onClick:K,children:S.jsx(Ei,{size:32})})]}),S.jsxs("form",{className:"space-y-4",onSubmit:re=>{re.preventDefault(),ee(te)},children:[S.jsx("input",{required:!0,value:te.title,onChange:re=>ne({...te,title:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",placeholder:"Activity Title"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx("input",{type:"date",value:te.date,onChange:re=>ne({...te,date:re.target.value}),className:"bg-white rounded-xl p-4 font-bold"}),S.jsx("input",{value:te.location,onChange:re=>ne({...te,location:re.target.value}),className:"bg-white rounded-xl p-4 font-bold",placeholder:"Location"})]}),S.jsx("input",{value:te.purpose,onChange:re=>ne({...te,purpose:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",placeholder:"Purpose of Outreach"}),S.jsx("select",{value:te.category,onChange:re=>ne({...te,category:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",children:["outreach","education","medical","social"].map(re=>S.jsx("option",{value:re,children:re.toUpperCase()},re))}),S.jsx("textarea",{required:!0,value:te.description,onChange:re=>ne({...te,description:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",placeholder:"Short Summary",rows:2}),S.jsx("textarea",{value:te.story,onChange:re=>ne({...te,story:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",placeholder:"Long Story/Impact report",rows:4}),S.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-dashed border-burntOrange/20 text-center cursor-pointer",onClick:()=>{var re;return(re=qe.current)==null?void 0:re.click()},children:[S.jsx(pT,{size:24,className:"mx-auto mb-2 text-burntOrange"}),S.jsxs("p",{className:"text-xs font-bold opacity-40",children:[te.images.length," Photos Prepared"]}),S.jsx("input",{ref:qe,type:"file",multiple:!0,className:"hidden",onChange:Ne})]}),S.jsx("button",{type:"submit",className:"w-full bg-burntOrange text-cream py-4 rounded-xl font-black uppercase",children:"Publish"})]})]})})}function oo({onClose:$,onSave:K}){const[ee,te]=ce.useState([]),ne=ce.useRef(null),qe=async Ne=>{const it=Array.from(Ne.target.files||[]).map(Ct=>new Promise(It=>{const Cn=new FileReader;Cn.onloadend=()=>It(Cn.result),Cn.readAsDataURL(Ct)})),ft=await Promise.all(it);te(Ct=>[...Ct,...ft])};return S.jsx("div",{className:"fixed inset-0 z-[250] bg-darkText/95 flex items-center justify-center p-6",children:S.jsxs("div",{className:"bg-cream w-full max-w-xl rounded-[3rem] p-10 text-darkText",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h3",{className:"text-3xl font-serif font-bold",children:"Gallery Upload"}),S.jsx("button",{onClick:$,children:S.jsx(Ei,{size:32})})]}),S.jsxs("div",{className:"bg-white rounded-xl p-10 border-2 border-dashed border-burntOrange/20 text-center cursor-pointer mb-6",onClick:()=>{var Ne;return(Ne=ne.current)==null?void 0:Ne.click()},children:[S.jsx(Ua,{size:32,className:"mx-auto mb-2 text-burntOrange"}),S.jsxs("p",{className:"font-bold opacity-40",children:[ee.length," Photos Selected"]}),S.jsx("input",{ref:ne,type:"file",multiple:!0,className:"hidden",onChange:qe})]}),S.jsx("button",{onClick:()=>K(ee.map(Ne=>({id:Math.random().toString(36).substr(2,9),url:Ne,caption:"",date:new Date().toISOString()}))),className:"w-full bg-burntOrange text-cream py-4 rounded-xl font-black uppercase disabled:opacity-30",disabled:ee.length===0,children:"Publish Photos"})]})})}function gr({partner:$,onClose:K,onSave:ee}){const[te,ne]=ce.useState($||{id:Math.random().toString(36).substr(2,9),name:"",logo:"",type:"corporate",description:"",website:""}),qe=ce.useRef(null),Ne=re=>{var ft;const it=(ft=re.target.files)==null?void 0:ft[0];if(it){const Ct=new FileReader;Ct.onloadend=()=>ne(It=>({...It,logo:Ct.result})),Ct.readAsDataURL(it)}};return S.jsx("div",{className:"fixed inset-0 z-[250] bg-darkText/95 flex items-center justify-center p-6",children:S.jsxs("div",{className:"bg-cream w-full max-w-xl rounded-[3rem] p-10 text-darkText",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h3",{className:"text-3xl font-serif font-bold",children:"Partner Details"}),S.jsx("button",{onClick:K,children:S.jsx(Ei,{size:32})})]}),S.jsxs("form",{className:"space-y-4",onSubmit:re=>{re.preventDefault(),ee(te)},children:[S.jsx("input",{required:!0,value:te.name,onChange:re=>ne({...te,name:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",placeholder:"Partner Name"}),S.jsx("input",{value:te.website,onChange:re=>ne({...te,website:re.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",placeholder:"Website (Optional)"}),S.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-dashed border-burntOrange/20 text-center cursor-pointer",onClick:()=>{var re;return(re=qe.current)==null?void 0:re.click()},children:[te.logo?S.jsx("img",{src:te.logo,className:"h-12 mx-auto"}):S.jsx("p",{className:"text-xs font-bold opacity-40",children:"Upload Logo"}),S.jsx("input",{ref:qe,type:"file",className:"hidden",onChange:Ne})]}),S.jsx("button",{type:"submit",className:"w-full bg-burntOrange text-cream py-4 rounded-xl font-black uppercase",children:"Save Partner"})]})]})})}function xn({onClose:$,onSave:K}){const[ee,te]=ce.useState({title:"",category:"Awareness"}),ne=ce.useRef(null),qe=Ne=>{var it;const re=(it=Ne.target.files)==null?void 0:it[0];if(re){const ft=new FileReader;ft.onloadend=()=>te(Ct=>({...Ct,file_data:ft.result,file_name:re.name,file_mime_type:re.type})),ft.readAsDataURL(re)}};return S.jsx("div",{className:"fixed inset-0 z-[250] bg-darkText/95 flex items-center justify-center p-6",children:S.jsxs("div",{className:"bg-cream w-full max-w-xl rounded-[4rem] p-12 text-darkText",children:[S.jsxs("div",{className:"flex justify-between items-center mb-10",children:[S.jsx("h3",{className:"text-4xl font-serif font-bold",children:"Add Resource"}),S.jsx("button",{onClick:$,children:S.jsx(Ei,{size:32})})]}),S.jsxs("form",{className:"space-y-6",onSubmit:Ne=>{Ne.preventDefault(),K({...ee,id:"res_"+Math.random().toString(36).substr(2,9),date:new Date().toISOString()})},children:[S.jsx("input",{required:!0,value:ee.title,onChange:Ne=>te({...ee,title:Ne.target.value}),className:"w-full bg-white rounded-2xl p-5 font-bold outline-none",placeholder:"Title"}),S.jsx("select",{value:ee.category,onChange:Ne=>te({...ee,category:Ne.target.value}),className:"w-full bg-white rounded-2xl p-5 font-bold outline-none",children:["Awareness","Medical","Management","Policy","Support"].map(Ne=>S.jsx("option",{value:Ne,children:Ne},Ne))}),S.jsxs("div",{className:"bg-white rounded-2xl p-10 border-2 border-dashed border-burntOrange/20 text-center cursor-pointer",onClick:()=>{var Ne;return(Ne=ne.current)==null?void 0:Ne.click()},children:[S.jsx(Km,{size:32,className:"mx-auto mb-2 text-burntOrange"}),S.jsx("p",{className:"text-darkText/40 font-bold",children:ee.file_name||"Select File"}),S.jsx("input",{ref:ne,type:"file",className:"hidden",onChange:qe})]}),S.jsx("button",{type:"submit",disabled:!ee.file_data,className:"w-full bg-burntOrange text-cream py-6 rounded-[2rem] font-black uppercase disabled:opacity-30",children:"Publish"})]})]})})}function An({title:$,icon:K,image:ee,description:te,onNavigate:ne}){return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("button",{onClick:()=>ne("programs"),className:"flex items-center space-x-2 text-burntOrange font-black uppercase tracking-widest text-[10px] mb-12",children:[S.jsx(Yc,{className:"rotate-180",size:14}),S.jsx("span",{children:"Back to Programs"})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[S.jsxs("div",{className:"space-y-8",children:[S.jsx("div",{className:"bg-burntOrange/10 w-20 h-20 rounded-3xl flex items-center justify-center text-burntOrange",children:S.jsx(K,{size:40})}),S.jsx("h1",{className:"text-6xl font-serif font-bold leading-[1.1] text-darkText",children:$}),S.jsx("p",{className:"text-xl text-darkText/60 font-medium italic border-l-4 border-burntOrange pl-8",children:te}),S.jsx("button",{onClick:()=>ne("involved"),className:"bg-burntOrange text-cream px-10 py-5 rounded-[2rem] font-black uppercase shadow-xl",children:"Support Pillar"})]}),S.jsx("div",{className:"relative rounded-[5rem] overflow-hidden shadow-2xl border-8 border-white aspect-[4/5]",children:S.jsx("img",{src:ee,className:"w-full h-full object-cover"})})]})]})})}function ro({onNavigate:$}){const K=[{id:"awareness",title:"Awareness",icon:jc,desc:"Sensitization and public outreach to reduce SCD stigma."},{id:"prevention",title:"Prevention",icon:Kc,desc:"Education on genotype and preventive measures."},{id:"caregroup",title:"Support",icon:Fa,desc:"Holistic safe spaces for peer and community support."},{id:"capacity",title:"Capacity",icon:Ka,desc:"Training for healthcare providers and advocates."},{id:"research",title:"Research",icon:Jc,desc:"Data-driven insights to improve clinical outcomes."}];return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsxs("div",{className:"mb-24 space-y-8",children:[S.jsxs("div",{className:"inline-flex items-center space-x-3 bg-burntOrange/10 px-6 py-3 rounded-full text-burntOrange font-black uppercase tracking-widest text-[10px]",children:[S.jsx(WS,{size:16}),S.jsx("span",{children:"Strategic Pillars"})]}),S.jsx("h1",{className:"text-7xl font-serif font-bold tracking-tighter text-darkText",children:"Our Programs."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:K.map(ee=>S.jsxs("div",{className:"bg-white p-12 rounded-[4rem] shadow-sm border border-burntOrange/5 hover:border-burntOrange transition-all cursor-pointer group",onClick:()=>$(ee.id),children:[S.jsx("div",{className:"bg-burntOrange/5 w-20 h-20 rounded-3xl flex items-center justify-center text-burntOrange mb-8 group-hover:bg-burntOrange group-hover:text-cream",children:S.jsx(ee.icon,{size:40})}),S.jsx("h3",{className:"text-3xl font-serif font-bold mb-4",children:ee.title}),S.jsx("p",{className:"text-darkText/60 mb-6 font-medium",children:ee.desc}),S.jsxs("div",{className:"flex items-center space-x-2 text-burntOrange font-black uppercase text-[10px]",children:[S.jsx("span",{children:"Explore Pillar"}),S.jsx($a,{size:14})]})]},ee.id))})]})})}function ml({activities:$,onOpenActivity:K}){return S.jsx("div",{className:"pt-32 pb-24 bg-cream min-h-screen text-darkText",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[S.jsx("div",{className:"mb-20 space-y-6",children:S.jsx("h1",{className:"text-5xl lg:text-7xl font-serif font-bold text-darkText",children:"Our Impact"})}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:$.length===0?S.jsx("p",{className:"col-span-full text-center py-20 text-darkText/40 font-bold",children:"Activity history is being updated."}):$.map(ee=>S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-burntOrange/5 hover:border-burntOrange transition-all cursor-pointer group flex flex-col h-full",onClick:()=>K(ee),children:[S.jsx("div",{className:"relative overflow-hidden rounded-[2.5rem] mb-8 shadow-xl",children:S.jsx("img",{src:ee.images[0]||"",className:"w-full aspect-square object-cover"})}),S.jsx("h4",{className:"text-3xl font-serif font-bold mb-4",children:ee.title}),S.jsx("p",{className:"text-darkText/50 font-medium text-sm line-clamp-3 mb-6 flex-grow",children:ee.description})]},ee.id))})]})})}function yr({type:$,onClose:K,onAddSubmission:ee}){const[te,ne]=ce.useState({fullName:"",email:"",message:""});return S.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-darkText/80 backdrop-blur-md",children:S.jsxs("div",{className:"bg-cream w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden text-darkText",children:[S.jsxs("div",{className:"bg-burntOrange p-10 text-cream flex justify-between items-center",children:[S.jsxs("h3",{className:"text-3xl font-serif font-bold",children:["Register: ",$]}),S.jsx("button",{onClick:K,children:S.jsx(Ei,{size:32})})]}),S.jsxs("form",{className:"p-10 space-y-6",onSubmit:qe=>{qe.preventDefault(),ee($,te)},children:[S.jsx("input",{required:!0,placeholder:"Full Name",value:te.fullName,onChange:qe=>ne({...te,fullName:qe.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold"}),S.jsx("input",{required:!0,type:"email",placeholder:"Email",value:te.email,onChange:qe=>ne({...te,email:qe.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold"}),S.jsx("textarea",{required:!0,placeholder:"Message",value:te.message,onChange:qe=>ne({...te,message:qe.target.value}),className:"w-full bg-white rounded-xl p-4 font-bold",rows:4}),S.jsx("button",{type:"submit",className:"w-full bg-burntOrange text-cream py-5 rounded-2xl font-black uppercase",children:"Submit"})]})]})})}function ao(){const[$,K]=ce.useState(""),[ee,te]=ce.useState(""),[ne,qe]=ce.useState(!1),Ne=async re=>{re.preventDefault(),qe(!0);const{error:it}=await ct.auth.signInWithPassword({email:$,password:ee});it&&L(it.message,"error"),qe(!1)};return S.jsx("div",{className:"pt-32 bg-cream min-h-screen flex items-center justify-center p-6",children:S.jsxs("div",{className:"bg-white p-12 rounded-[3rem] shadow-2xl max-w-md w-full border border-burntOrange/5 text-darkText",children:[S.jsx("h2",{className:"text-3xl font-serif font-bold text-center mb-8",children:"Staff Portal"}),S.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[S.jsx("input",{required:!0,type:"email",value:$,onChange:re=>K(re.target.value),placeholder:"Email",className:"w-full bg-cream rounded-xl px-4 py-3 font-bold outline-none border border-transparent focus:border-burntOrange/30 transition-all"}),S.jsx("input",{required:!0,type:"password",value:ee,onChange:re=>te(re.target.value),placeholder:"Password",className:"w-full bg-cream rounded-xl px-4 py-3 font-bold outline-none border border-transparent focus:border-burntOrange/30 transition-all"}),S.jsx("button",{type:"submit",disabled:ne,className:"w-full bg-burntOrange text-cream py-4 rounded-xl font-black uppercase tracking-widest flex items-center justify-center space-x-2",children:ne?S.jsx(ja,{className:"animate-spin",size:20}):S.jsx("span",{children:"Login"})})]})]})})}},l0=document.getElementById("root");if(!l0)throw new Error("Could not find root element to mount to");const XI=PS.createRoot(l0);XI.render(S.jsx(RS.StrictMode,{children:S.jsx(jI,{})}));
